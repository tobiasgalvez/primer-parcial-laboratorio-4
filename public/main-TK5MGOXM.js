var eM=Object.defineProperty,tM=Object.defineProperties;var nM=Object.getOwnPropertyDescriptors;var yw=Object.getOwnPropertySymbols,rM=Object.getPrototypeOf,iM=Object.prototype.hasOwnProperty,oM=Object.prototype.propertyIsEnumerable,sM=Reflect.get;var vw=(n,e,t)=>e in n?eM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})iM.call(e,t)&&vw(n,t,e[t]);if(yw)for(var t of yw(e))oM.call(e,t)&&vw(n,t,e[t]);return n},le=(n,e)=>tM(n,nM(e));var pr=(n,e,t)=>sM(rM(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function _w(n,e){return Object.is(n,e)}var Qe=null,ou=!1,su=1,Fn=Symbol("SIGNAL");function _e(n){let e=Qe;return Qe=n,e}function Iw(){return Qe}var ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xf(n){if(ou)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let e=Qe.nextProducerIndex++;if(lu(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==n&&Xs(Qe)){let t=Qe.producerNode[e];uu(t,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==n&&(Qe.producerNode[e]=n,Qe.producerIndexOfThis[e]=Xs(Qe)?bw(n,Qe,e):0),Qe.producerLastReadVersion[e]=n.version}function aM(){su++}function ww(n){if(!(Xs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===su)){if(!n.producerMustRecompute(n)&&!Of(n)){n.dirty=!1,n.lastCleanEpoch=su;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=su}}function Ew(n){if(n.liveConsumerNode===void 0)return;let e=ou;ou=!0;try{for(let t of n.liveConsumerNode)t.dirty||cM(t)}finally{ou=e}}function Dw(){return Qe?.consumerAllowSignalWrites!==!1}function cM(n){n.dirty=!0,Ew(n),n.consumerMarkedDirty?.(n)}function cu(n){return n&&(n.nextProducerIndex=0),_e(n)}function Pf(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Xs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)uu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Of(n){lu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ww(t),r!==t.version))return!0}return!1}function kf(n){if(lu(n),Xs(n))for(let e=0;e<n.producerNode.length;e++)uu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function bw(n,e,t){if(Cw(n),n.liveConsumerNode.length===0&&Tw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=bw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function uu(n,e){if(Cw(n),n.liveConsumerNode.length===1&&Tw(n))for(let r=0;r<n.producerNode.length;r++)uu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];lu(i),i.producerIndexOfThis[r]=e}}function Xs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function lu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Cw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Tw(n){return n.producerNode!==void 0}function Sw(n){let e=Object.create(uM);e.computation=n;let t=()=>{if(ww(e),xf(e),e.value===au)throw e.error;return e.value};return t[Fn]=e,t}var Mf=Symbol("UNSET"),Nf=Symbol("COMPUTING"),au=Symbol("ERRORED"),uM=le(L({},ea),{value:Mf,dirty:!0,error:null,equal:_w,producerMustRecompute(n){return n.value===Mf||n.value===Nf},producerRecomputeValue(n){if(n.value===Nf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Nf;let t=cu(n),r;try{r=n.computation()}catch(i){r=au,n.error=i}finally{Pf(n,t)}if(e!==Mf&&e!==au&&r!==au&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function lM(){throw new Error}var Aw=lM;function Rw(){Aw()}function Mw(n){Aw=n}var dM=null;function Nw(n){let e=Object.create(Pw);e.value=n;let t=()=>(xf(e),e.value);return t[Fn]=e,t}function Ff(n,e){Dw()||Rw(),n.equal(n.value,e)||(n.value=e,hM(n))}function xw(n,e){Dw()||Rw(),Ff(n,e(n.value))}var Pw=le(L({},ea),{equal:_w,value:void 0});function hM(n){n.version++,aM(),Ew(n),dM?.()}function ie(n){return typeof n=="function"}function eo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var du=eo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ri(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof du?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ow(o)}catch(s){e=e??[],s instanceof du?e=[...e,...s.errors]:e.push(s)}}if(e)throw new du(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ow(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ri(t,e)}remove(e){let{_finalizers:t}=this;t&&ri(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var Lf=Fe.EMPTY;function hu(n){return n instanceof Fe||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function Ow(n){ie(n)?n():n.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var to={setTimeout(n,e,...t){let{delegate:r}=to;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=to;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fu(n){to.setTimeout(()=>{let{onUnhandledError:e}=Yt;if(e)e(n);else throw n})}function ta(){}var kw=Vf("C",void 0,void 0);function Fw(n){return Vf("E",void 0,n)}function Lw(n){return Vf("N",n,void 0)}function Vf(n,e,t){return{kind:n,value:e,error:t}}var ii=null;function no(n){if(Yt.useDeprecatedSynchronousErrorHandling){let e=!ii;if(e&&(ii={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ii;if(ii=null,t)throw r}}else n()}function Vw(n){Yt.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=n)}var oi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hu(e)&&e.add(this)):this.destination=mM}static create(e,t,r){return new ro(e,t,r)}next(e){this.isStopped?jf(Lw(e),this):this._next(e)}error(e){this.isStopped?jf(Fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jf(kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fM=Function.prototype.bind;function Uf(n,e){return fM.call(n,e)}var Bf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pu(r)}else pu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pu(t)}}},ro=class extends oi{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uf(e.next,o),error:e.error&&Uf(e.error,o),complete:e.complete&&Uf(e.complete,o)}):i=e}this.destination=new Bf(i)}};function pu(n){Yt.useDeprecatedSynchronousErrorHandling?Vw(n):fu(n)}function pM(n){throw n}function jf(n,e){let{onStoppedNotification:t}=Yt;t&&to.setTimeout(()=>t(n,e))}var mM={closed:!0,next:ta,error:pM,complete:ta};var io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function $f(...n){return Hf(n)}function Hf(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=yM(t)?t:new ro(t,r,i);return no(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Uw(r),new r((i,o)=>{let s=new ro({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[io](){return this}pipe(...t){return Hf(t)(this)}toPromise(t){return t=Uw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Uw(n){var e;return(e=n??Yt.Promise)!==null&&e!==void 0?e:Promise}function gM(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function yM(n){return n&&n instanceof oi||gM(n)&&hu(n)}function qf(n){return ie(n?.lift)}function ye(n){return e=>{if(qf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new zf(n,e,t,r,i)}var zf=class extends oi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oo(){return ye((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var so=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return oo()(this)}};var jw=eo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new mu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jw}next(t){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lf:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,ri(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new mu(e,t),n})(),mu=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Lf}};var it=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gf={now(){return(Gf.delegate||Date).now()},delegate:void 0};var gu=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var na={setInterval(n,e,...t){let{delegate:r}=na;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=na;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ao=class extends gu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&na.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var co=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};co.now=Gf.now;var uo=class extends co{constructor(e,t=co.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Wf=new uo(ao);var yu=class extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var vu=class extends uo{};var Kf=new vu(yu);var xt=new de(n=>n.complete());function Bw(n){return n&&ie(n.schedule)}function $w(n){return n[n.length-1]}function _u(n){return ie($w(n))?n.pop():void 0}function mr(n){return Bw($w(n))?n.pop():void 0}function Qf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Hw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(n){return this instanceof si?(this.v=n,this):new si(n)}function zw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){o.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){y(o[0][3],M)}}function l(v){v.value instanceof si?Promise.resolve(v.value.v).then(h,p):y(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function y(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Hw=="function"?Hw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Iu=n=>n&&typeof n.length=="number"&&typeof n!="function";function wu(n){return ie(n?.then)}function Eu(n){return ie(n[io])}function Du(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function bu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=vM();function Tu(n){return ie(n?.[Cu])}function Su(n){return zw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield si(t.read());if(i)return yield si(void 0);yield yield si(r)}}finally{t.releaseLock()}})}function Au(n){return ie(n?.getReader)}function Ue(n){if(n instanceof de)return n;if(n!=null){if(Eu(n))return _M(n);if(Iu(n))return IM(n);if(wu(n))return wM(n);if(Du(n))return Ww(n);if(Tu(n))return EM(n);if(Au(n))return DM(n)}throw bu(n)}function _M(n){return new de(e=>{let t=n[io]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IM(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function wM(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fu)})}function EM(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ww(n){return new de(e=>{bM(n,e).catch(t=>e.error(t))})}function DM(n){return Ww(Su(n))}function bM(n,e){var t,r,i,o;return qw(this,void 0,void 0,function*(){try{for(t=Gw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gr(n,e=0){return ye((t,r)=>{t.subscribe(he(r,i=>Dt(r,n,()=>r.next(i),e),()=>Dt(r,n,()=>r.complete(),e),i=>Dt(r,n,()=>r.error(i),e)))})}function yr(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Kw(n,e){return Ue(n).pipe(yr(e),gr(e))}function Qw(n,e){return Ue(n).pipe(yr(e),gr(e))}function Yw(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Jw(n,e){return new de(t=>{let r;return Dt(t,e,()=>{r=n[Cu](),Dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Ru(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Dt(t,e,()=>{let r=n[Symbol.asyncIterator]();Dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Zw(n,e){return Ru(Su(n),e)}function Xw(n,e){if(n!=null){if(Eu(n))return Kw(n,e);if(Iu(n))return Yw(n,e);if(wu(n))return Qw(n,e);if(Du(n))return Ru(n,e);if(Tu(n))return Jw(n,e);if(Au(n))return Zw(n,e)}throw bu(n)}function Oe(n,e){return e?Xw(n,e):Ue(n)}function ee(...n){let e=mr(n);return Oe(n,e)}function lo(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Yf(n){return!!n&&(n instanceof de||ie(n.lift)&&ie(n.subscribe))}var Ln=eo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return ye((t,r)=>{let i=0;t.subscribe(he(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:CM}=Array;function TM(n,e){return CM(e)?n(...e):n(e)}function Mu(n){return oe(e=>TM(n,e))}var{isArray:SM}=Array,{getPrototypeOf:AM,prototype:RM,keys:MM}=Object;function Nu(n){if(n.length===1){let e=n[0];if(SM(e))return{args:e,keys:null};if(NM(e)){let t=MM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function NM(n){return n&&typeof n=="object"&&AM(n)===RM}function xu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Pu(...n){let e=mr(n),t=_u(n),{args:r,keys:i}=Nu(n);if(r.length===0)return Oe([],e);let o=new de(xM(r,e,i?s=>xu(i,s):Nt));return t?o.pipe(Mu(t)):o}function xM(n,e,t=Nt){return r=>{eE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)eE(e,()=>{let l=Oe(n[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function eE(n,e,t){n?Dt(t,n,e):e()}function tE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;Ue(t(M,h++)).subscribe(he(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Dt(e,s,()=>S(F)):S(F)}y()}catch(F){e.error(F)}}))};return n.subscribe(he(e,v,()=>{p=!0,y()})),()=>{a?.()}}function Ye(n,e,t=1/0){return ie(e)?Ye((r,i)=>oe((o,s)=>e(r,o,i,s))(Ue(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>tE(r,i,n,t)))}function Jf(n=1/0){return Ye(Nt,n)}function nE(){return Jf(1)}function ho(...n){return nE()(Oe(n,mr(n)))}function Ou(n){return new de(e=>{Ue(n()).subscribe(e)})}function Zf(...n){let e=_u(n),{args:t,keys:r}=Nu(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ue(t[h]).subscribe(he(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?xu(r,a):a),o.complete())}))}});return e?i.pipe(Mu(e)):i}function Pt(n,e){return ye((t,r)=>{let i=0;t.subscribe(he(r,o=>n.call(e,o,i++)&&r.next(o)))})}function vr(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(he(t,void 0,void 0,s=>{o=Ue(n(s,vr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function rE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function _r(n,e){return ie(e)?Ye(n,e,1):Ye(n,1)}function Ir(n){return ye((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vn(n){return n<=0?()=>xt:ye((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xf(n){return oe(()=>n)}function ku(n=PM){return ye((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function PM(){return new Ln}function ai(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ln(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Nt,Vn(1),t?Ir(e):ku(()=>new Ln))}function fo(n){return n<=0?()=>xt:ye((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ep(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Nt,fo(1),t?Ir(e):ku(()=>new Ln))}function tp(n,e){return ye(rE(n,e,arguments.length>=2,!0))}function np(...n){let e=mr(n);return ye((t,r)=>{(e?ho(n,t,e):ho(n,t)).subscribe(r)})}function Ot(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ue(n(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rp(n){return ye((e,t)=>{Ue(n).subscribe(he(t,()=>t.complete(),ta)),!t.closed&&e.subscribe(t)})}function je(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var HE="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(ml(e,t)),this.code=e}};function ml(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function fa(n){return{toString:n}.toString()}var Fu="__parameters__";function OM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function qE(n,e,t){return fa(()=>{let r=OM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Fu)?u[Fu]:Object.defineProperty(u,Fu,{value:[]})[Fu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function kM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _t(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(_t).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function iE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var FM=Ae({__forward_ref__:Ae});function en(n){return n.__forward_ref__=en,n.toString=function(){return _t(this())},n}function vt(n){return zE(n)?n():n}function zE(n){return typeof n=="function"&&n.hasOwnProperty(FM)&&n.__forward_ref__===en}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $n(n){return{providers:n.providers||[],imports:n.imports||[]}}function gl(n){return oE(n,WE)||oE(n,KE)}function GE(n){return gl(n)!==null}function oE(n,e){return n.hasOwnProperty(e)?n[e]:null}function LM(n){let e=n&&(n[WE]||n[KE]);return e||null}function sE(n){return n&&(n.hasOwnProperty(aE)||n.hasOwnProperty(VM))?n[aE]:null}var WE=Ae({\u0275prov:Ae}),aE=Ae({\u0275inj:Ae}),KE=Ae({ngInjectableDef:Ae}),VM=Ae({ngInjectorDef:Ae}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function QE(n){return n&&!!n.\u0275providers}var UM=Ae({\u0275cmp:Ae}),jM=Ae({\u0275dir:Ae}),BM=Ae({\u0275pipe:Ae}),$M=Ae({\u0275mod:Ae}),zu=Ae({\u0275fac:Ae}),oa=Ae({__NG_ELEMENT_ID__:Ae}),cE=Ae({__NG_ENV_ID__:Ae});function yl(n){return typeof n=="string"?n:n==null?"":String(n)}function HM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yl(n)}function qM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function om(n,e){throw new z(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),yp;function YE(){return yp}function jt(n){let e=yp;return yp=n,e}function JE(n,e,t){let r=gl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;om(n,"Injector")}var zM={},sa=zM,vp="__NG_DI_FLAG__",Gu="ngTempTokenPath",GM="ngTokenPath",WM=/\n/gm,KM="\u0275",uE="__source",yo;function QM(){return yo}function wr(n){let e=yo;return yo=n,e}function YM(n,e=ce.Default){if(yo===void 0)throw new z(-203,!1);return yo===null?JE(n,void 0,e):yo.get(n,e&ce.Optional?null:void 0,e)}function K(n,e=ce.Default){return(YE()||YM)(vt(n),e)}function k(n,e=ce.Default){return K(n,vl(e))}function vl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _p(n){let e=[];for(let t=0;t<n.length;t++){let r=vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=JM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function ZE(n,e){return n[vp]=e,n.prototype[vp]=e,n}function JM(n){return n[vp]}function ZM(n,e,t,r){let i=n[Gu];throw e[uE]&&i.unshift(e[uE]),n.message=XM(`
`+n.message,i,t,r),n[GM]=i,n[Gu]=null,n}function XM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==KM?n.slice(2):n;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):_t(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(WM,`
  `)}`}var wt=ZE(qE("Optional"),8);var XE=ZE(qE("SkipSelf"),4);function _o(n,e){let t=n.hasOwnProperty(zu);return t?n[zu]:null}function sm(n,e){n.forEach(t=>Array.isArray(t)?sm(t,e):e(t))}function eD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function eN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function tN(n,e,t){let r=pa(n,e);return r>=0?n[r|1]=t:(r=~r,eN(n,r,e,t)),r}function ip(n,e){let t=pa(n,e);if(t>=0)return n[t|1]}function pa(n,e){return nN(n,e,1)}function nN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Io={},Bt=[],wo=new $(""),tD=new $("",-1),nD=new $(""),Ku=class{get(e,t=sa){if(t===sa){let r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return t}},rD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rD||{}),fn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fn||{}),br=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(br||{});function rN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Ip(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];oN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function iN(n){return n===3||n===4||n===6}function oN(n){return n.charCodeAt(0)===64}function aa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?lE(n,t,i,null,e[++r]):lE(n,t,i,null,null))}}return n}function lE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var iD="ng-template";function sN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(am(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function am(n){return n.type===4&&n.value!==iD}function aN(n,e,t){let r=n.type===4&&!t?iD:n.value;return e===r}function cN(n,e,t){let r=4,i=n.attrs,o=i!==null?dN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!aN(n,u,t)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!sN(n,i,u,t)){if(Jt(r))return!1;s=!0}}else{let l=e[++a],h=uN(u,i,am(n),t);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(n){return(n&1)===0}function uN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hN(e,n)}function lN(n,e,t=!1){for(let r=0;r<e.length;r++)if(cN(n,e[r],t))return!0;return!1}function dN(n){for(let e=0;e<n.length;e++){let t=n[e];if(iN(t))return e}return n.length}function hN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dE(n,e){return n?":not("+e.trim()+")":e}function fN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=dE(o,i),i=""),r=s,o=o||!Jt(r);t++}return i!==""&&(e+=dE(o,i)),e}function pN(n){return n.map(fN).join(",")}function mN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Jt(i))break;i=o}r++}return{attrs:e,classes:t}}function $e(n){return fa(()=>{let e=uD(n),t=le(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fn.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});lD(t);let r=n.dependencies;return t.directiveDefs=fE(r,!1),t.pipeDefs=fE(r,!0),t.id=vN(t),t})}function gN(n){return ui(n)||oD(n)}function yN(n){return n!==null}function Hn(n){return fa(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hE(n,e){if(n==null)return Io;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=br.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==br.None?[r,a]:r,e[o]=s):t[o]=r}return t}function He(n){return fa(()=>{let e=uD(n);return lD(e),e})}function ui(n){return n[UM]||null}function oD(n){return n[jM]||null}function sD(n){return n[BM]||null}function aD(n){let e=ui(n)||oD(n)||sD(n);return e!==null?e.standalone:!1}function cD(n,e){let t=n[$M]||null;if(!t&&e===!0)throw new Error(`Type ${_t(n)} does not have '\u0275mod' property.`);return t}function uD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Io,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hE(n.inputs,e),outputs:hE(n.outputs),debugInfo:null}}function lD(n){n.features?.forEach(e=>e(n))}function fE(n,e){if(!n)return null;let t=e?sD:gN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(yN)}function vN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qt(n){return{\u0275providers:n}}function _N(...n){return{\u0275providers:dD(!0,n),\u0275fromNgModule:!0}}function dD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sm(e,s=>{let a=s;wp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hD(i,o),t}function hD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cm(i,o=>{e(o,r)})}}function wp(n,e,t,r){if(n=vt(n),!n)return!1;let i=null,o=sE(n),s=!o&&ui(n);if(!o&&!s){let u=n.ngModule;if(o=sE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)wp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sm(o.imports,h=>{wp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&hD(l,e)}if(!a){let l=_o(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:nD,useValue:i,multi:!0},i),e({provide:wo,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;cm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function cm(n,e){for(let t of n)QE(t)&&(t=t.\u0275providers),Array.isArray(t)?cm(t,e):e(t)}var IN=Ae({provide:String,useValue:Ae});function fD(n){return n!==null&&typeof n=="object"&&IN in n}function wN(n){return!!(n&&n.useExisting)}function EN(n){return!!(n&&n.useFactory)}function Eo(n){return typeof n=="function"}function DN(n){return!!n.useClass}var _l=new $(""),ju={},bN={},op;function um(){return op===void 0&&(op=new Ku),op}var bt=class{},ca=class extends bt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dp(e,s=>this.processProvider(s)),this.records.set(tD,po(void 0,this)),i.has("environment")&&this.records.set(bt,po(void 0,this));let o=this.records.get(_l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nD,Bt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=wr(this),r=jt(void 0),i;try{return e()}finally{wr(t),jt(r)}}get(e,t=sa,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cE))return e[cE](this);r=vl(r);let i,o=wr(this),s=jt(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=RN(e)&&gl(e);l&&this.injectableDefInScope(l)?u=po(Ep(e),ju):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?um():this.parent;return t=r&ce.Optional&&t===sa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gu]=a[Gu]||[]).unshift(_t(e)),o)throw a;return ZM(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),wr(o)}}resolveInjectorInitializers(){let e=_e(null),t=wr(this),r=jt(void 0),i;try{let o=this.get(wo,Bt,ce.Self);for(let s of o)s()}finally{wr(t),jt(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=vt(e);let t=Eo(e)?e:vt(e&&e.provide),r=TN(e);if(!Eo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=po(void 0,ju,!0),i.factory=()=>_p(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===ju&&(t.value=bN,t.value=t.factory()),typeof t.value=="object"&&t.value&&AN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ep(n){let e=gl(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof $)throw new z(204,!1);if(n instanceof Function)return CN(n);throw new z(204,!1)}function CN(n){if(n.length>0)throw new z(204,!1);let t=LM(n);return t!==null?()=>t.factory(n):()=>new n}function TN(n){if(fD(n))return po(void 0,n.useValue);{let e=pD(n);return po(e,ju)}}function pD(n,e,t){let r;if(Eo(n)){let i=vt(n);return _o(i)||Ep(i)}else if(fD(n))r=()=>vt(n.useValue);else if(EN(n))r=()=>n.useFactory(..._p(n.deps||[]));else if(wN(n))r=()=>K(vt(n.useExisting));else{let i=vt(n&&(n.useClass||n.provide));if(SN(n))r=()=>new i(..._p(n.deps));else return _o(i)||Ep(i)}return r}function po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function SN(n){return!!n.deps}function AN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function RN(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Dp(n,e){for(let t of n)Array.isArray(t)?Dp(t,e):t&&QE(t)?Dp(t.\u0275providers,e):e(t)}function tn(n,e){n instanceof ca&&n.assertNotDestroyed();let t,r=wr(n),i=jt(void 0);try{return e()}finally{wr(r),jt(i)}}function MN(){return YE()!==void 0||QM()!=null}function NN(n){return typeof n=="function"}var qn=0,fe=1,te=2,It=3,Zt=4,nn=5,Qu=6,Yu=7,Xt=8,Do=9,pn=10,Be=11,ua=12,pE=13,No=14,mn=15,bo=16,mo=17,Co=18,Il=19,mD=20,Er=21,sp=22,$t=23,Cr=25,gD=1;var li=7,Ju=8,Zu=9,Ht=10,Xu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xu||{});function Dr(n){return Array.isArray(n)&&typeof n[gD]=="object"}function zn(n){return Array.isArray(n)&&n[gD]===!0}function yD(n){return(n.flags&4)!==0}function wl(n){return n.componentOffset>-1}function lm(n){return(n.flags&1)===1}function Tr(n){return!!n.template}function bp(n){return(n[te]&512)!==0}var Cp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function vD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Gn(){return _D}function _D(n){return n.type.prototype.ngOnChanges&&(n.setInput=PN),xN}Gn.ngInherit=!0;function xN(){let n=wD(this),e=n?.current;if(e){let t=n.previous;if(t===Io)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PN(n,e,t,r,i){let o=this.declaredInputs[r],s=wD(n)||ON(n,{previous:Io,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Cp(l&&l.currentValue,t,u===Io),vD(n,e,i,t)}var ID="__ngSimpleChanges__";function wD(n){return n[ID]||null}function ON(n,e){return n[ID]=e}var mE=null;var dn=function(n,e,t){mE?.(n,e,t)},kN="svg",FN="math";function gn(n){for(;Array.isArray(n);)n=n[qn];return n}function ED(n,e){return gn(e[n])}function zt(n,e){return gn(e[n.index])}function DD(n,e){return n.data[e]}function Ar(n,e){let t=e[n];return Dr(t)?t:t[qn]}function dm(n){return(n[te]&128)===128}function LN(n){return zn(n[It])}function el(n,e){return e==null?null:n[e]}function bD(n){n[mo]=0}function CD(n){n[te]&1024||(n[te]|=1024,dm(n)&&Dl(n))}function VN(n,e){for(;n>0;)e=e[No],n--;return e}function El(n){return!!(n[te]&9216||n[$t]?.dirty)}function Tp(n){n[pn].changeDetectionScheduler?.notify(8),n[te]&64&&(n[te]|=1024),El(n)&&Dl(n)}function Dl(n){n[pn].changeDetectionScheduler?.notify(0);let e=di(n);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!dm(e)));)e=di(e)}function TD(n,e){if((n[te]&256)===256)throw new z(911,!1);n[Er]===null&&(n[Er]=[]),n[Er].push(e)}function UN(n,e){if(n[Er]===null)return;let t=n[Er].indexOf(e);t!==-1&&n[Er].splice(t,1)}function di(n){let e=n[It];return zn(e)?e[It]:e}var pe={lFrame:kD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var SD=!1;function jN(){return pe.lFrame.elementDepthCount}function BN(){pe.lFrame.elementDepthCount++}function $N(){pe.lFrame.elementDepthCount--}function AD(){return pe.bindingsEnabled}function HN(){return pe.skipHydrationRootTNode!==null}function qN(n){return pe.skipHydrationRootTNode===n}function zN(){pe.skipHydrationRootTNode=null}function Me(){return pe.lFrame.lView}function Tt(){return pe.lFrame.tView}function yi(n){return pe.lFrame.contextLView=n,n[Xt]}function vi(n){return pe.lFrame.contextLView=null,n}function St(){let n=RD();for(;n!==null&&n.type===64;)n=n.parent;return n}function RD(){return pe.lFrame.currentTNode}function GN(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ma(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function MD(){return pe.lFrame.isParent}function WN(){pe.lFrame.isParent=!1}function ND(){return SD}function gE(n){SD=n}function KN(n){return pe.lFrame.bindingIndex=n}function bl(){return pe.lFrame.bindingIndex++}function QN(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YN(){return pe.lFrame.inI18n}function JN(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sp(e)}function ZN(){return pe.lFrame.currentDirectiveIndex}function Sp(n){pe.lFrame.currentDirectiveIndex=n}function XN(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function xD(n){pe.lFrame.currentQueryIndex=n}function ex(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[nn]:null}function PD(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=ex(o),i===null||(o=o[No],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=OD();return r.currentTNode=e,r.lView=n,!0}function hm(n){let e=OD(),t=n[fe];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function OD(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?kD(n):e}function kD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function FD(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var LD=FD;function fm(){let n=FD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tx(n){return(pe.lFrame.contextLView=VN(n,pe.lFrame.contextLView))[Xt]}function xo(){return pe.lFrame.selectedIndex}function hi(n){pe.lFrame.selectedIndex=n}function Cl(){let n=pe.lFrame;return DD(n.tView,n.selectedIndex)}function nx(){return pe.lFrame.currentNamespace}var VD=!0;function pm(){return VD}function mm(n){VD=n}function rx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_D(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function gm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bu(n,e,t){UD(n,e,3,t)}function $u(n,e,t,r){(n[te]&3)===t&&UD(n,e,t,r)}function ap(n,e){let t=n[te];(t&3)===e&&(t&=16383,t+=1,n[te]=t)}function UD(n,e,t,r){let i=r!==void 0?n[mo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[mo]+=65536),(a<o||o==-1)&&(ix(n,t,e,u),n[mo]=(n[mo]&4294901760)+u+2),u++}function yE(n,e){dn(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),dn(5,n,e)}}function ix(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[te]>>14<n[mo]>>16&&(n[te]&3)===e&&(n[te]+=16384,yE(a,o)):yE(a,o)}var vo=-1,fi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function ox(n){return n instanceof fi}function sx(n){return(n.flags&8)!==0}function ax(n){return(n.flags&16)!==0}var cp={},Ap=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=vl(r);let i=this.injector.get(e,cp,r);return i!==cp||t===cp?i:this.parentInjector.get(e,t,r)}};function jD(n){return n!==vo}function tl(n){return n&32767}function cx(n){return n>>16}function nl(n,e){let t=cx(n),r=e;for(;t>0;)r=r[No],t--;return r}var Rp=!0;function vE(n){let e=Rp;return Rp=n,e}var ux=256,BD=ux-1,$D=5,lx=0,hn={};function dx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oa)&&(r=t[oa]),r==null&&(r=t[oa]=lx++);let i=r&BD,o=1<<i;e.data[n+(i>>$D)]|=o}function rl(n,e){let t=HD(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,up(r.data,n),up(e,null),up(r.blueprint,null));let i=ym(n,e),o=n.injectorIndex;if(jD(i)){let s=tl(i),a=nl(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function up(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ym(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KD(i),r===null)return vo;if(t++,i=i[No],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return vo}function Mp(n,e,t){dx(n,e,t)}function qD(n,e,t){if(t&ce.Optional||n!==void 0)return n;om(e,"NodeInjector")}function zD(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[Do],o=jt(void 0);try{return i?i.get(e,r,t&ce.Optional):JE(e,r,t&ce.Optional)}finally{jt(o)}}return qD(r,e,t)}function GD(n,e,t,r=ce.Default,i){if(n!==null){if(e[te]&2048&&!(r&ce.Self)){let s=gx(n,e,t,r,hn);if(s!==hn)return s}let o=WD(n,e,t,r,hn);if(o!==hn)return o}return zD(e,t,r,i)}function WD(n,e,t,r,i){let o=px(t);if(typeof o=="function"){if(!PD(e,n,r))return r&ce.Host?qD(i,t,r):zD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))om(t);else return s}finally{LD()}}else if(typeof o=="number"){let s=null,a=HD(n,e),u=vo,l=r&ce.Host?e[mn][nn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?ym(n,e):e[a+8],u===vo||!IE(r,!1)?a=-1:(s=e[fe],a=tl(u),e=nl(u,e)));a!==-1;){let h=e[fe];if(_E(o,a,h.data)){let p=hx(a,e,t,s,r,l);if(p!==hn)return p}u=e[a+8],u!==vo&&IE(r,e[fe].data[a+8]===l)&&_E(o,a,e)?(s=h,a=tl(u),e=nl(u,e)):a=-1}}return i}function hx(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],u=r==null?wl(a)&&Rp:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=fx(a,s,t,u,l);return h!==null?To(e,s,h,a):hn}function fx(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let v=p;v<y;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&Tr(v)&&v.type===t)return u}return null}function To(n,e,t,r){let i=n[t],o=e.data;if(ox(i)){let s=i;s.resolving&&qM(HM(o[t]));let a=vE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?jt(s.injectImpl):null,h=PD(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&rx(t,o[t],e)}finally{l!==null&&jt(l),vE(a),s.resolving=!1,LD()}}return i}function px(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(oa)?n[oa]:void 0;return typeof e=="number"?e>=0?e&BD:mx:e}function _E(n,e,t){let r=1<<n;return!!(t[e+(n>>$D)]&r)}function IE(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var ci=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GD(this._tNode,this._lView,e,vl(r),t)}};function mx(){return new ci(St(),Me())}function Rr(n){return fa(()=>{let e=n.prototype.constructor,t=e[zu]||Np(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[zu]||Np(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Np(n){return zE(n)?()=>{let e=Np(vt(n));return e&&e()}:_o(n)}function gx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=WD(o,s,t,r|ce.Self,hn);if(a!==hn)return a;let u=o.parent;if(!u){let l=s[mD];if(l){let h=l.get(t,hn,r);if(h!==hn)return h}u=KD(s),s=s[No]}o=u}return i}function KD(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[nn]:null}function wE(n,e=null,t=null,r){let i=QD(n,e,t,r);return i.resolveInjectorInitializers(),i}function QD(n,e=null,t=null,r,i=new Set){let o=[t||Bt,_N(n)];return r=r||(typeof n=="object"?void 0:_t(n)),new ca(o,e||um(),r||null,i)}var Ct=class n{static{this.THROW_IF_NOT_FOUND=sa}static{this.NULL=new Ku}static create(e,t){if(Array.isArray(e))return wE({name:""},t,e,"");{let r=e.name??"";return wE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>K(tD)})}static{this.__NG_ELEMENT_ID__=-1}};var yx=new $("");yx.__NG_ELEMENT_ID__=n=>{let e=St();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new z(204,!1)};var vx="ngOriginalError";function lp(n){return n[vx]}var YD=!0,JD=(()=>{class n{static{this.__NG_ELEMENT_ID__=_x}static{this.__NG_ENV_ID__=t=>t}}return n})(),xp=class extends JD{constructor(e){super(),this._lView=e}onDestroy(e){return TD(this._lView,e),()=>UN(this._lView,e)}};function _x(){return new xp(Me())}var Mr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Pp=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,MN()&&(this.destroyRef=k(JD,{optional:!0})??void 0,this.pendingTasks=k(Mr,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Re=Pp;function il(...n){}function ZD(n){let e,t;function r(){n=il;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function EE(n){return queueMicrotask(()=>n()),()=>{n=il}}var vm="isAngularZone",ol=vm+"_ID",Ix=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=YD}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Dx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wx,il,il);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wx={};function _m(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ex(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ZD(()=>{n.callbackScheduled=!1,Op(n),n.isCheckStableRunning=!0,_m(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Op(n)}function Dx(n){let e=()=>{Ex(n)},t=Ix++;n._inner=n._inner.fork({name:"angular",properties:{[vm]:!0,[ol]:t,[ol+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(bx(u))return r.invokeTask(o,s,a,u);try{return DE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),bE(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return DE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Cx(u)&&e(),bE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Op(n),_m(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Op(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bE(n){n._nesting--,_m(n)}var kp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function bx(n){return XD(n,"__ignore_ng_zone__")}function Cx(n){return XD(n,"__scheduler_tick__")}function XD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Un=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&lp(e);for(;t&&lp(t);)t=lp(t);return t||null}},Tx=new $("",{providedIn:"root",factory:()=>{let n=k(De),e=k(Un);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Sx(){return Tl(St(),Me())}function Tl(n,e){return new _i(zt(n,e))}var _i=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Sx}}return n})();function e0(n){return(n.flags&128)===128}var t0=new Map,Ax=0;function Rx(){return Ax++}function Mx(n){t0.set(n[Il],n)}function Fp(n){t0.delete(n[Il])}var CE="__ngContext__";function pi(n,e){Dr(e)?(n[CE]=e[Il],Mx(e)):n[CE]=e}function n0(n){return i0(n[ua])}function r0(n){return i0(n[Zt])}function i0(n){for(;n!==null&&!zn(n);)n=n[Zt];return n}var Lp;function o0(n){Lp=n}function Nx(){if(Lp!==void 0)return Lp;if(typeof document<"u")return document;throw new z(210,!1)}var Im=new $("",{providedIn:"root",factory:()=>xx}),xx="ng",wm=new $(""),yn=new $("",{providedIn:"platform",factory:()=>"unknown"});var Em=new $("",{providedIn:"root",factory:()=>Nx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Px="h",Ox="b";var kx=()=>null;function Dm(n,e,t=!1){return kx(n,e,t)}var s0=!1,Fx=new $("",{providedIn:"root",factory:()=>s0});var sl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HE})`}};function Sl(n){return n instanceof sl?n.changingThisBreaksApplicationSecurity:n}function a0(n,e){let t=Lx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${HE})`)}return t===e}function Lx(n){return n instanceof sl&&n.getTypeName()||null}var Vx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c0(n){return n=String(n),n.match(Vx)?n:"unsafe:"+n}var bm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(bm||{});function Al(n){let e=Ux();return e?e.sanitize(bm.URL,n)||"":a0(n,"URL")?Sl(n):c0(yl(n))}function Ux(){let n=Me();return n&&n[pn].sanitizer}function u0(n){return n instanceof Function?n():n}var jn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(jn||{}),jx;function Cm(n,e){return jx(n,e)}function go(n,e,t,r,i){if(r!=null){let o,s=!1;zn(r)?o=r:Dr(r)&&(s=!0,r=r[qn]);let a=gn(r);n===0&&t!==null?i==null?p0(e,t,a):al(e,t,a,i||null,!0):n===1&&t!==null?al(e,t,a,i||null,!0):n===2?tP(e,a,s):n===3&&e.destroyNode(a),o!=null&&rP(e,n,o,t,i)}}function Bx(n,e){return n.createText(e)}function $x(n,e,t){n.setValue(e,t)}function l0(n,e,t){return n.createElement(e,t)}function Hx(n,e){d0(n,e),e[qn]=null,e[nn]=null}function qx(n,e,t,r,i,o){r[qn]=i,r[nn]=e,Rl(n,r,t,1,i,o)}function d0(n,e){e[pn].changeDetectionScheduler?.notify(9),Rl(n,e,e[Be],2,null,null)}function zx(n){let e=n[ua];if(!e)return dp(n[fe],n);for(;e;){let t=null;if(Dr(e))t=e[ua];else{let r=e[Ht];r&&(t=r)}if(!t){for(;e&&!e[Zt]&&e!==n;)Dr(e)&&dp(e[fe],e),e=e[It];e===null&&(e=n),Dr(e)&&dp(e[fe],e),t=e&&e[Zt]}e=t}}function Gx(n,e,t,r){let i=Ht+r,o=t.length;r>0&&(t[i-1][Zt]=e),r<o-Ht?(e[Zt]=t[i],eD(t,Ht+r,e)):(t.push(e),e[Zt]=null),e[It]=t;let s=e[bo];s!==null&&t!==s&&h0(s,e);let a=e[Co];a!==null&&a.insertView(n),Tp(e),e[te]|=128}function h0(n,e){let t=n[Zu],r=e[It];if(Dr(r))n[te]|=Xu.HasTransplantedViews;else{let i=r[It][mn];e[mn]!==i&&(n[te]|=Xu.HasTransplantedViews)}t===null?n[Zu]=[e]:t.push(e)}function Tm(n,e){let t=n[Zu],r=t.indexOf(e);t.splice(r,1)}function Vp(n,e){if(n.length<=Ht)return;let t=Ht+e,r=n[t];if(r){let i=r[bo];i!==null&&i!==n&&Tm(i,r),e>0&&(n[t-1][Zt]=r[Zt]);let o=Wu(n,Ht+e);Hx(r[fe],r);let s=o[Co];s!==null&&s.detachView(o[fe]),r[It]=null,r[Zt]=null,r[te]&=-129}return r}function f0(n,e){if(!(e[te]&256)){let t=e[Be];t.destroyNode&&Rl(n,e,t,3,null,null),zx(e)}}function dp(n,e){if(e[te]&256)return;let t=_e(null);try{e[te]&=-129,e[te]|=256,e[$t]&&kf(e[$t]),Kx(n,e),Wx(n,e),e[fe].type===1&&e[Be].destroy();let r=e[bo];if(r!==null&&zn(e[It])){r!==e[It]&&Tm(r,e);let i=e[Co];i!==null&&i.detachView(n)}Fp(e)}finally{_e(t)}}function Wx(n,e){let t=n.cleanup,r=e[Yu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Yu]=null);let i=e[Er];if(i!==null){e[Er]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Kx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];dn(4,a,u);try{u.call(a)}finally{dn(5,a,u)}}else{dn(4,i,o);try{o.call(i)}finally{dn(5,i,o)}}}}}function Qx(n,e,t){return Yx(n,e.parent,t)}function Yx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[qn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===fn.None||o===fn.Emulated)return null}return zt(r,t)}}function al(n,e,t,r,i){n.insertBefore(e,t,r,i)}function p0(n,e,t){n.appendChild(e,t)}function TE(n,e,t,r,i){r!==null?al(n,e,t,r,i):p0(n,e,t)}function m0(n,e){return n.parentNode(e)}function Jx(n,e){return n.nextSibling(e)}function Zx(n,e,t){return eP(n,e,t)}function Xx(n,e,t){return n.type&40?zt(n,t):null}var eP=Xx,SE;function Sm(n,e,t,r){let i=Qx(n,r,e),o=e[Be],s=r.parent||e[nn],a=Zx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)TE(o,i,t[u],a,!1);else TE(o,i,t,a,!1);SE!==void 0&&SE(o,r,e,t,i)}function ra(n,e){if(e!==null){let t=e.type;if(t&3)return zt(e,n);if(t&4)return Up(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ra(n,r);{let i=n[e.index];return zn(i)?Up(-1,i):gn(i)}}else{if(t&128)return ra(n,e.next);if(t&32)return Cm(e,n)()||gn(n[e.index]);{let r=g0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=di(n[mn]);return ra(i,r)}else return ra(n,e.next)}}}return null}function g0(n,e){if(e!==null){let r=n[mn][nn],i=e.projection;return r.projection[i]}return null}function Up(n,e){let t=Ht+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return ra(r,i)}return e[li]}function tP(n,e,t){n.removeChild(null,e,t)}function Am(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&pi(gn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Am(n,e,t.child,r,i,o,!1),go(e,n,i,a,o);else if(u&32){let l=Cm(t,r),h;for(;h=l();)go(e,n,i,h,o);go(e,n,i,a,o)}else u&16?nP(n,e,r,t,i,o):go(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Rl(n,e,t,r,i,o){Am(t,r,n.firstChild,e,i,o,!1)}function nP(n,e,t,r,i,o){let s=t[mn],u=s[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];go(e,n,i,h,o)}else{let l=u,h=s[It];e0(r)&&(l.flags|=128),Am(n,e,l,h,i,o,!0)}}function rP(n,e,t,r,i){let o=t[li],s=gn(t);o!==s&&go(e,n,r,o,i);for(let a=Ht;a<t.length;a++){let u=t[a];Rl(u[fe],u,n,e,r,o)}}function iP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),n.setStyle(t,r,i,o))}}function oP(n,e,t){n.setAttribute(e,"style",t)}function y0(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function v0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ip(n,e,r),i!==null&&y0(n,e,i),o!==null&&oP(n,e,o)}var Ii={};function Q(n=1){_0(Tt(),Me(),xo()+n,!1)}function _0(n,e,t,r){if(!r)if((e[te]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Bu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&$u(e,o,0,t)}hi(t)}function W(n,e=ce.Default){let t=Me();if(t===null)return K(n,e);let r=St();return GD(r,t,vt(n),e)}function I0(n,e,t,r,i,o){let s=_e(null);try{let a=null;i&br.SignalBased&&(a=e[r][Fn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&br.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):vD(e,a,r,o)}finally{_e(s)}}function sP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)hi(~i);else{let o=i,s=t[++r],a=t[++r];JN(s,o);let u=e[o];a(2,u)}}}finally{hi(-1)}}function Ml(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[qn]=i,p[te]=r|4|128|8|64,(l!==null||n&&n[te]&2048)&&(p[te]|=2048),bD(p),p[It]=p[No]=n,p[Xt]=t,p[pn]=s||n&&n[pn],p[Be]=a||n&&n[Be],p[Do]=u||n&&n[Do]||null,p[nn]=o,p[Il]=Rx(),p[Qu]=h,p[mD]=l,p[mn]=e.type==2?n[mn]:p,p}function Nl(n,e,t,r,i){let o=n.data[e];if(o===null)o=aP(n,e,t,r,i),YN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=GN();o.injectorIndex=s===null?-1:s.injectorIndex}return ma(o,!0),o}function aP(n,e,t,r,i){let o=RD(),s=MD(),a=s?o:o&&o.parent,u=n.data[e]=hP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function w0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function E0(n,e,t,r,i){let o=xo(),s=r&2;try{hi(-1),s&&e.length>Cr&&_0(n,e,Cr,!1),dn(s?2:0,i),t(r,i)}finally{hi(o),dn(s?3:1,i)}}function D0(n,e,t){if(yD(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function b0(n,e,t){AD()&&(vP(n,e,t,zt(t,e)),(t.flags&64)===64&&R0(n,e,t))}function C0(n,e,t=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function T0(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rm(n,e,t,r,i,o,s,a,u,l,h){let p=Cr+r,y=p+i,v=cP(p,y),S=typeof l=="function"?l():l;return v[fe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function cP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ii);return t}function uP(n,e,t,r){let o=r.get(Fx,s0)||t===fn.ShadowDom,s=n.selectRootElement(e,o);return lP(s),s}function lP(n){dP(n)}var dP=()=>null;function hP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return HN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function AE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=br.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?RE(r,t,l,a,u):RE(r,t,l,a)}return r}function RE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function fP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],y=t?t.get(p):null,v=y?y.inputs:null,S=y?y.outputs:null;u=AE(0,p.inputs,h,u,v),l=AE(1,p.outputs,h,l,S);let M=u!==null&&s!==null&&!am(e)?RP(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function pP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Mm(n,e,t,r,i,o,s,a){let u=zt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Nm(n,t,h,r,i),wl(e)&&mP(t,e.index)):e.type&3?(r=pP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function mP(n,e){let t=Ar(e,n);t[te]&16||(t[te]|=64)}function S0(n,e,t,r){if(AD()){let i=r===null?null:{"":-1},o=IP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&A0(n,e,t,s,i,a),i&&wP(t,r,i)}t.mergedAttrs=aa(t.mergedAttrs,t.attrs)}function A0(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Mp(rl(t,e),n,r[l].type);DP(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=w0(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=aa(t.mergedAttrs,h.hostAttrs),bP(n,t,e,u,h),EP(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}fP(n,t,o)}function gP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yP(s)!=a&&s.push(a),s.push(t,r,o)}}function yP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function vP(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;wl(t)&&CP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rl(t,e),pi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=To(e,n,a,t);if(pi(l,e),s!==null&&AP(e,a-i,l,u,t,s),Tr(u)){let h=Ar(t.index,e);h[Xt]=To(e,n,a,t)}}}function R0(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ZN();try{hi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Sp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_P(u,l)}}finally{hi(-1),Sp(s)}}function _P(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function IP(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(lN(e,s.selectors,!1))if(r||(r=[]),Tr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;jp(n,e,u)}else r.unshift(s),jp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function jp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function wP(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function EP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Tr(e)&&(t[""]=n)}}function DP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=_o(i.type,!0)),s=new fi(o,Tr(i),W);n.blueprint[r]=s,t[r]=s,gP(n,e,r,w0(n,t,i.hostVars,Ii),i)}function CP(n,e,t){let r=zt(e,n),i=T0(t),o=n[pn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=xl(n,Ml(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function TP(n,e,t,r,i,o){let s=zt(n,e);SP(e[Be],s,o,n.value,t,r,i)}function SP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?yl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function AP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];I0(r,t,u,l,h,p)}}function RP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function M0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function N0(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];xD(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function xl(n,e){return n[ua]?n[pE][Zt]=e:n[ua]=e,n[pE]=e,e}function Bp(n,e,t){xD(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function MP(n){return n[Yu]??=[]}function NP(n){return n.cleanup??=[]}function x0(n,e){let t=n[Do],r=t?t.get(Un,null):null;r&&r.handleError(e)}function Nm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];I0(h,l,r,a,u,i)}}function xP(n,e,t){let r=ED(e,n);$x(n[Be],r,t)}function PP(n,e){let t=Ar(e,n),r=t[fe];OP(r,t);let i=t[qn];i!==null&&t[Qu]===null&&(t[Qu]=Dm(i,t[Do])),xm(r,t,t[Xt])}function OP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function xm(n,e,t){hm(e);try{let r=n.viewQuery;r!==null&&Bp(1,r,t);let i=n.template;i!==null&&E0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Co]?.finishViewCreation(n),n.staticContentQueries&&N0(n,e),n.staticViewQueries&&Bp(2,n.viewQuery,t);let o=n.components;o!==null&&kP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[te]&=-5,fm()}}function kP(n,e){for(let t=0;t<e.length;t++)PP(n,e[t])}function FP(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[te]&4096?4096:16,u=Ml(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[bo]=l;let h=n[Co];return h!==null&&(u[Co]=h.createEmbeddedView(o)),xm(o,u,t),u}finally{_e(i)}}function ME(n,e){return!e||e.firstChild===null||e0(n)}function LP(n,e,t,r=!0){let i=e[fe];if(Gx(i,e,n,t),r){let s=Up(t,n),a=e[Be],u=m0(a,n[li]);u!==null&&qx(i,n[nn],a,e,u,s)}let o=e[Qu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(gn(o)),zn(o)&&VP(o,r);let s=t.type;if(s&8)cl(n,e,t.child,r);else if(s&32){let a=Cm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=g0(e,t);if(Array.isArray(a))r.push(...a);else{let u=di(e[mn]);cl(u[fe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VP(n,e){for(let t=Ht;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&cl(r[fe],r,i,e)}n[li]!==n[qn]&&e.push(n[li])}var P0=[];function UP(n){return n[$t]??jP(n)}function jP(n){let e=P0.pop()??Object.create($P);return e.lView=n,e}function BP(n){n.lView[$t]!==n&&(n.lView=null,P0.push(n))}var $P=le(L({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Dl(n.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function HP(n){let e=n[$t]??Object.create(qP);return e.lView=n,e}var qP=le(L({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=di(n.lView);for(;e&&!O0(e[fe]);)e=di(e);e&&CD(e)},consumerOnSignalRead(){this.lView[$t]=this}});function O0(n){return n.type!==2}var zP=100;function k0(n,e=!0,t=0){let r=n[pn],i=r.rendererFactory,o=!1;o||i.begin?.();try{GP(n,t)}catch(s){throw e&&x0(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function GP(n,e){let t=ND();try{gE(!0),$p(n,e);let r=0;for(;El(n);){if(r===zP)throw new z(103,!1);r++,$p(n,1)}}finally{gE(t)}}function WP(n,e,t,r){let i=e[te];if((i&256)===256)return;let o=!1,s=!1;!o&&e[pn].inlineEffectRunner?.flush(),hm(e);let a=!0,u=null,l=null;o||(O0(n)?(l=UP(e),u=cu(l)):Iw()===null?(a=!1,l=HP(e),u=cu(l)):e[$t]&&(kf(e[$t]),e[$t]=null));try{bD(e),KN(n.bindingStartIndex),t!==null&&E0(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&Bu(e,v,null)}else{let v=n.preOrderHooks;v!==null&&$u(e,v,0,null),ap(e,0)}if(s||KP(e),F0(e,0),n.contentQueries!==null&&N0(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&Bu(e,v)}else{let v=n.contentHooks;v!==null&&$u(e,v,1),ap(e,1)}sP(n,e);let p=n.components;p!==null&&V0(e,p,0);let y=n.viewQuery;if(y!==null&&Bp(2,y,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&Bu(e,v)}else{let v=n.viewHooks;v!==null&&$u(e,v,2),ap(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[sp]){for(let v of e[sp])v();e[sp]=null}o||(e[te]&=-73)}catch(h){throw o||Dl(e),h}finally{l!==null&&(Pf(l,u),a&&BP(l)),fm()}}function F0(n,e){for(let t=n0(n);t!==null;t=r0(t))for(let r=Ht;r<t.length;r++){let i=t[r];L0(i,e)}}function KP(n){for(let e=n0(n);e!==null;e=r0(e)){if(!(e[te]&Xu.HasTransplantedViews))continue;let t=e[Zu];for(let r=0;r<t.length;r++){let i=t[r];CD(i)}}}function QP(n,e,t){let r=Ar(e,n);L0(r,t)}function L0(n,e){dm(n)&&$p(n,e)}function $p(n,e){let r=n[fe],i=n[te],o=n[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Of(o)),s||=!1,o&&(o.dirty=!1),n[te]&=-9217,s)WP(r,n,r.template,n[Xt]);else if(i&8192){F0(n,1);let a=r.components;a!==null&&V0(n,a,1)}}function V0(n,e,t){for(let r=0;r<e.length;r++)QP(n,e[r],t)}function Pm(n,e){let t=ND()?64:1088;for(n[pn].changeDetectionScheduler?.notify(e);n;){n[te]|=t;let r=di(n);if(bp(n)&&!r)return n;n=r}return null}var mi=class{get rootNodes(){let e=this._lView,t=e[fe];return cl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(zn(e)){let t=e[Ju],r=t?t.indexOf(this):-1;r>-1&&(Vp(e,r),Wu(t,r))}this._attachedToViewContainer=!1}f0(this._lView[fe],this._lView)}onDestroy(e){TD(this._lView,e)}markForCheck(){Pm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Tp(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,k0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bp(this._lView),t=this._lView[bo];t!==null&&!e&&Tm(t,this._lView),d0(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=bp(this._lView),r=this._lView[bo];r!==null&&!t&&h0(r,this._lView),Tp(this._lView)}},Pl=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZP}}return n})(),YP=Pl,JP=class extends YP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=FP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new mi(i)}};function ZP(){return XP(St(),Me())}function XP(n,e){return n.type&4?new JP(e,n,Tl(n,e)):null}var LW=new RegExp(`^(\\d+)*(${Ox}|${Px})*(.*)`);var eO=()=>null;function NE(n,e){return eO(n,e)}var So=class{},Ol=new $("",{providedIn:"root",factory:()=>!1});var U0=new $(""),j0=new $(""),Hp=class{},ul=class{};function tO(n){let e=Error(`No component factory found for ${_t(n)}.`);return e[nO]=n,e}var nO="ngComponent";var qp=class{resolveComponentFactory(e){throw tO(e)}},Ao=class{static{this.NULL=new qp}},Ro=class{},Po=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>rO()}}return n})();function rO(){let n=Me(),e=St(),t=Ar(e.index,n);return(Dr(t)?t:n)[Be]}var iO=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function zp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=iE(i,a);else if(o==2){let u=a,l=e[++s];r=iE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var ll=class extends Ao{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ui(e);return new la(t,this.ngModule)}};function xE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:br.None;e?t.push({propName:s,templateName:r,isSignal:(a&br.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function oO(n){let e=n.toLowerCase();return e==="svg"?kN:e==="math"?FN:null}var la=class extends ul{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=xE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return xE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ap(e,s):e,u=a.get(Ro,null);if(u===null)throw new z(407,!1);let l=a.get(iO,null),h=a.get(So,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},y=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?uP(y,r,this.componentDef.encapsulation,a):l0(y,v,oO(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Dm(S,a,!0));let F=Rm(0,null,null,1,0,null,null,null,null,null,null),q=Ml(null,F,null,M,null,null,p,y,a,null,R);hm(q);let U,re,Ee=null;try{let J=this.componentDef,E,g=null;J.findHostDirectiveDefs?(E=[],g=new Map,J.findHostDirectiveDefs(J,E,g),E.push(J)):E=[J];let _=sO(q,S);Ee=aO(_,S,J,E,q,p,y),re=DD(F,Cr),S&&lO(y,J,S,r),t!==void 0&&dO(re,this.ngContentSelectors,t),U=uO(Ee,J,E,g,q,[hO]),xm(F,q,null)}catch(J){throw Ee!==null&&Fp(Ee),Fp(q),J}finally{fm()}return new Gp(this.componentType,U,Tl(re,q),q,re)}finally{_e(o)}}},Gp=class extends Hp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new mi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Nm(o[fe],o,i,e,t),this.previousInputValues.set(e,t);let s=Ar(this._tNode.index,o);Pm(s,1)}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sO(n,e){let t=n[fe],r=Cr;return n[r]=e,Nl(t,r,2,"#host",null)}function aO(n,e,t,r,i,o,s){let a=i[fe];cO(r,n,e,s);let u=null;e!==null&&(u=Dm(e,i[Do]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ml(i,T0(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&jp(a,n,r.length-1),xl(i,p),i[n.index]=p}function cO(n,e,t,r){for(let i of n)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(zp(e,e.mergedAttrs,!0),t!==null&&v0(r,t,e))}function uO(n,e,t,r,i,o){let s=St(),a=i[fe],u=zt(s,i);A0(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,y=To(i,a,p,s);pi(y,i)}R0(a,i,s),u&&pi(u,i);let l=To(i,a,s.directiveStart+s.componentOffset,s);if(n[Xt]=i[Xt]=l,o!==null)for(let h of o)h(l,e);return D0(a,s,i),l}function lO(n,e,t,r){if(r)Ip(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=mN(e.selectors[0]);i&&Ip(n,t,i),o&&o.length>0&&y0(n,t,o.join(" "))}}function dO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function hO(){let n=St();gm(Me()[fe],n)}var Oo=(()=>{class n{static{this.__NG_ELEMENT_ID__=fO}}return n})();function fO(){let n=St();return mO(n,Me())}var pO=Oo,B0=class extends pO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(jD(e)){let t=nl(e,this._hostLView),r=tl(e),i=t[fe].data[r+8];return new ci(i,t)}else return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=PE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=NE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ME(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!NN(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new la(ui(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(bt,null);M&&(o=M)}let h=ui(u.componentType??{}),p=NE(this._lContainer,h?.id??null),y=p?.firstChild??null,v=u.create(l,i,y,o);return this.insertImpl(v.hostView,a,ME(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(LN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new B0(u,u[nn],u[It]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return LP(s,i,o,r),e.attachToViewContainerRef(),eD(hp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=PE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);r&&(Wu(hp(this._lContainer),t),f0(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);return r&&Wu(hp(this._lContainer),t)!=null?new mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function PE(n){return n[Ju]}function hp(n){return n[Ju]||(n[Ju]=[])}function mO(n,e){let t,r=e[n.index];return zn(r)?t=r:(t=M0(r,e,null,n),e[n.index]=t,xl(e,t)),yO(t,e,n,r),new B0(t,n,e)}function gO(n,e){let t=n[Be],r=t.createComment(""),i=zt(e,n),o=m0(t,i);return al(t,o,r,Jx(t,i),!1),r}var yO=IO,vO=()=>!1;function _O(n,e,t){return vO(n,e,t)}function IO(n,e,t,r){if(n[li])return;let i;t.type&8?i=gn(r):i=gO(e,t),n[li]=i}var OE=new Set;function ko(n){OE.has(n)||(OE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function wO(n){return typeof n=="function"&&n[Fn]!==void 0}function Fo(n,e){ko("NgSignals");let t=Nw(n),r=t[Fn];return e?.equal&&(r.equal=e.equal),t.set=i=>Ff(r,i),t.update=i=>xw(r,i),t.asReadonly=EO.bind(t),t}function EO(){let n=this[Fn];if(n.readonlyFn===void 0){let e=()=>this();e[Fn]=n,n.readonlyFn=e}return n.readonlyFn}function $0(n){return wO(n)&&typeof n.set=="function"}function DO(n){return Object.getPrototypeOf(n.prototype).constructor}function kt(n){let e=DO(n.type),t=!0,r=[n];for(;e;){let i;if(Tr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Lu(n.inputs),s.inputTransforms=Lu(n.inputTransforms),s.declaredInputs=Lu(n.declaredInputs),s.outputs=Lu(n.outputs);let a=i.hostBindings;a&&AO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&TO(n,u),l&&SO(n,l),bO(n,i),kM(n.outputs,i.outputs),Tr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===kt&&(t=!1)}}e=Object.getPrototypeOf(e)}CO(r)}function bO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function CO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,t=aa(t,i.hostAttrs))}}function Lu(n){return n===Io?{}:n===Bt?[]:n}function TO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function SO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function AO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Sr=class{},da=class{};var Wp=class extends Sr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ll(this);let o=cD(e);this._bootstrapComponents=u0(o.bootstrap),this._r3Injector=QD(e,t,[{provide:Sr,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kp=class extends da{constructor(e){super(),this.moduleType=e}create(e){return new Wp(this.moduleType,e,[])}};var dl=class extends Sr{constructor(e){super(),this.componentFactoryResolver=new ll(this),this.instance=null;let t=new ca([...e.providers,{provide:Sr,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],e.parent||um(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Om(n,e,t=null){return new dl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function H0(n){return MO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function RO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function MO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ga(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function NO(n){return(n.flags&32)===32}function xO(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Nl(e,n,4,s||null,a||null);S0(e,t,h,el(l,u)),gm(e,h);let p=h.tView=Rm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function PO(n,e,t,r,i,o,s,a,u,l){let h=t+Cr,p=e.firstCreatePass?xO(h,e,n,r,i,o,s,a,u):e.data[h];ma(p,!1);let y=OO(e,n,p,t);pm()&&Sm(e,n,y,p),pi(y,n);let v=M0(y,n,y,p);return n[h]=v,xl(n,v),_O(v,p,n),lm(p)&&b0(e,n,p),u!=null&&C0(n,p,l),p}function xe(n,e,t,r,i,o,s,a){let u=Me(),l=Tt(),h=el(l.consts,o);return PO(u,l,n,e,t,r,i,h,s,a),xe}var OO=kO;function kO(n,e,t,r){return mm(!0),e[Be].createComment("")}var ia=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ia||{}),FO=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kE=class n{constructor(){this.ngZone=k(De),this.scheduler=k(So),this.errorHandler=k(Un,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ia.EarlyRead,ia.Write,ia.MixedReadWrite,ia.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}};function kl(n,e,t,r){let i=Me(),o=bl();if(ga(i,o,e)){let s=Tt(),a=Cl();TP(a,i,n,e,t,r)}return kl}function q0(n,e,t,r){return ga(n,bl(),t)?e+yl(t)+r:Ii}function Vu(n,e){return n<<17|e<<2}function gi(n){return n>>17&32767}function LO(n){return(n&2)==2}function VO(n,e){return n&131071|e<<17}function Qp(n){return n|2}function Mo(n){return(n&131068)>>2}function fp(n,e){return n&-131069|e<<2}function UO(n){return(n&1)===1}function Yp(n){return n|1}function jO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gi(s),u=Mo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||pa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=gi(n[a+1]);n[r+1]=Vu(y,a),y!==0&&(n[y+1]=fp(n[y+1],r)),n[a+1]=VO(n[a+1],r)}else n[r+1]=Vu(a,0),a!==0&&(n[a+1]=fp(n[a+1],r)),a=r;else n[r+1]=Vu(u,0),a===0?a=r:n[u+1]=fp(n[u+1],r),u=r;l&&(n[r+1]=Qp(n[r+1])),FE(n,h,r,!0),FE(n,h,r,!1),BO(e,h,n,r,o),s=Vu(a,u),o?e.classBindings=s:e.styleBindings=s}function BO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&pa(o,e)>=0&&(t[r+1]=Yp(t[r+1]))}function FE(n,e,t,r){let i=n[t+1],o=e===null,s=r?gi(i):Mo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];$O(u,e)&&(a=!0,n[s+1]=r?Yp(l):Qp(l)),s=r?gi(l):Mo(l)}a&&(n[t+1]=r?Qp(i):Yp(i))}function $O(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?pa(n,e)>=0:!1}function ue(n,e,t){let r=Me(),i=bl();if(ga(r,i,e)){let o=Tt(),s=Cl();Mm(o,s,r,n,e,r[Be],t,!1)}return ue}function LE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Nm(n,t,o[s],s,r)}function Fl(n,e){return HO(n,e,null,!0),Fl}function HO(n,e,t,r){let i=Me(),o=Tt(),s=QN(2);if(o.firstUpdatePass&&zO(o,n,s,r),e!==Ii&&ga(i,s,e)){let a=o.data[xo()];YO(o,a,i,i[Be],n,i[s+1]=JO(e,t),r,s)}}function qO(n,e){return e>=n.expandoStartIndex}function zO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[xo()],s=qO(n,t);ZO(o,r)&&e===null&&!s&&(e=!1),e=GO(i,o,e,r),jO(i,o,e,t,s,r)}}function GO(n,e,t,r){let i=XN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pp(null,n,e,t,r),t=ha(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pp(i,n,e,t,r),o===null){let u=WO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=pp(null,n,e,u[1],r),u=ha(u,e.attrs,r),KO(n,e,r,u))}else o=QO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function WO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Mo(r)!==0)return n[gi(r)]}function KO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[gi(i)]=r}function QO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ha(r,s,t)}return ha(r,e.attrs,t)}function pp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ha(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ha(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tN(n,s,t?!0:e[++o]))}return n===void 0?null:n}function YO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=UO(l)?VE(u,e,t,i,Mo(l),s):void 0;if(!hl(h)){hl(o)||LO(l)&&(o=VE(u,null,t,i,a,s));let p=ED(xo(),t);iP(r,s,p,i,o)}}function VE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Ii&&(y=p?Bt:void 0);let v=p?ip(y,r):h===r?y:void 0;if(l&&!hl(v)&&(v=ip(u,r)),hl(v)&&(a=v,s))return a;let S=n[i+1];i=s?gi(S):Mo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ip(u,r))}return a}function hl(n){return n!==void 0}function JO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=_t(Sl(n)))),n}function ZO(n,e){return(n.flags&(e?8:16))!==0}function XO(n,e,t,r,i,o){let s=e.consts,a=el(s,i),u=Nl(e,n,2,r,a);return S0(e,t,u,el(s,o)),u.attrs!==null&&zp(u,u.attrs,!1),u.mergedAttrs!==null&&zp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(n,e,t,r){let i=Me(),o=Tt(),s=Cr+n,a=i[Be],u=o.firstCreatePass?XO(s,o,i,e,t,r):o.data[s],l=ek(o,i,u,a,e,n);i[s]=l;let h=lm(u);return ma(u,!0),v0(a,l,u),!NO(u)&&pm()&&Sm(o,i,l,u),jN()===0&&pi(l,i),BN(),h&&(b0(o,i,u),D0(o,u,i)),r!==null&&C0(i,u),V}function x(){let n=St();MD()?WN():(n=n.parent,ma(n,!1));let e=n;qN(e)&&zN(),$N();let t=Tt();return t.firstCreatePass&&(gm(t,n),yD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&sx(e)&&LE(t,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ax(e)&&LE(t,e,Me(),e.stylesWithoutHost,!1),x}function qe(n,e,t,r){return V(n,e,t,r),x(),qe}var ek=(n,e,t,r,i,o)=>(mm(!0),l0(r,i,nx()));function Lo(){return Me()}var fl="en-US";var tk=fl;function nk(n){typeof n=="string"&&(tk=n.toLowerCase().replace(/_/g,"-"))}var rk=(n,e,t)=>{};function Ce(n,e,t,r){let i=Me(),o=Tt(),s=St();return z0(o,i,i[Be],s,n,e,r),Ce}function ik(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Yu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function z0(n,e,t,r,i,o,s){let a=lm(r),l=n.firstCreatePass&&NP(n),h=e[Xt],p=MP(e),y=!0;if(r.type&3||s){let M=zt(r,e),R=s?s(M):M,F=p.length,q=s?re=>s(gn(re[r.index])):r.index,U=null;if(!s&&a&&(U=ik(n,e,i,r.index)),U!==null){let re=U.__ngLastListenerFn__||U;re.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,y=!1}else{o=jE(r,e,h,o),rk(M,i,o);let re=t.listen(R,i,o);p.push(o,re),l&&l.push(i,q,F,F+1)}}else o=jE(r,e,h,o);let v=r.outputs,S;if(y&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],q=S[R+1],Ee=e[F][q].subscribe(o),J=p.length;p.push(o,Ee),l&&l.push(i,r.index,J,-(J+1))}}}function UE(n,e,t,r){let i=_e(null);try{return dn(6,e,t),t(r)!==!1}catch(o){return x0(n,o),!1}finally{dn(7,e,t),_e(i)}}function jE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Ar(n.index,e):e;Pm(s,5);let a=UE(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=UE(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ze(n=1){return tx(n)}function ya(n,e,t){return G0(n,"",e,"",t),ya}function G0(n,e,t,r,i){let o=Me(),s=q0(o,e,t,r);if(s!==Ii){let a=Tt(),u=Cl();Mm(a,u,o,n,s,o[Be],i,!1)}return G0}function j(n,e=""){let t=Me(),r=Tt(),i=n+Cr,o=r.firstCreatePass?Nl(r,i,1,e,null):r.data[i],s=ok(r,t,o,e,n);t[i]=s,pm()&&Sm(r,t,s,o),ma(o,!1)}var ok=(n,e,t,r,i)=>(mm(!0),Bx(e[Be],r));function wi(n){return dt("",n,""),wi}function dt(n,e,t){let r=Me(),i=q0(r,n,e,t);return i!==Ii&&xP(r,xo(),i),dt}function Ll(n,e,t){$0(e)&&(e=e());let r=Me(),i=bl();if(ga(r,i,e)){let o=Tt(),s=Cl();Mm(o,s,r,n,e,r[Be],t,!1)}return Ll}function km(n,e){let t=$0(n);return t&&n.set(e),t}function Vl(n,e){let t=Me(),r=Tt(),i=St();return z0(r,t,t[Be],i,n,e),Vl}function sk(n,e,t){let r=Tt();if(r.firstCreatePass){let i=Tr(n);Jp(t,r.data,r.blueprint,i,!0),Jp(e,r.data,r.blueprint,i,!1)}}function Jp(n,e,t,r,i){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Jp(n[o],e,t,r,i);else{let o=Tt(),s=Me(),a=St(),u=Eo(n)?n:vt(n.provide),l=pD(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Eo(n)||!n.multi){let v=new fi(l,i,W),S=gp(u,e,i?h:h+y,p);S===-1?(Mp(rl(a,s),o,u),mp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[S]=v,s[S]=v)}else{let v=gp(u,e,h+y,p),S=gp(u,e,h,h+y),M=v>=0&&t[v],R=S>=0&&t[S];if(i&&!R||!i&&!M){Mp(rl(a,s),o,u);let F=uk(i?ck:ak,t.length,i,r,l);!i&&R&&(t[S].providerFactory=F),mp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=W0(t[i?S:v],l,!i&&r);mp(o,n,v>-1?v:S,F)}!i&&r&&R&&t[S].componentProviders++}}}function mp(n,e,t,r){let i=Eo(e),o=DN(e);if(i||o){let u=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function W0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ak(n,e,t,r){return Zp(this.multi,[])}function ck(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=To(t,t[fe],this.providerFactory.index,r);o=a.slice(0,s),Zp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Zp(i,o);return o}function Zp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function uk(n,e,t,r,i){let o=new fi(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,W0(o,i,r&&!t),o}function Wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>sk(r,i?i(n):n,e)}}var lk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=dD(!1,t.type),i=r.length>0?Om([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(K(bt))})}}return n})();function Ge(n){ko("NgStandalone"),n.getStandaloneInjector=e=>e.get(lk).getOrCreateStandaloneInjector(n)}var Bn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},K0=new Bn("18.2.8");var Ul=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Q0=new $("");function Ei(n){return!!n&&typeof n.then=="function"}function Y0(n){return!!n&&typeof n.subscribe=="function"}var J0=new $(""),Z0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=k(J0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ei(o))t.push(o);else if(Y0(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jl=new $("");function dk(){Mw(()=>{throw new z(600,!1)})}function hk(n){return n.isBoundToModule}var fk=10;function pk(n,e,t){try{let r=t();return Ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Nr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(Tx),this.afterRenderManager=k(FO),this.zonelessEnabled=k(Ol),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=k(Mr).hasPendingTasks.pipe(oe(t=>!t)),this._injector=k(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ul;if(!this._injector.get(Z0).done){let y=!i&&aD(t),v=!1;throw new z(405,v)}let s;i?s=t:s=this._injector.get(Ao).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=hk(s)?void 0:this._injector.get(Sr),u=r||s.selector,l=s.create(Ct.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Q0,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Hu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ro,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<fk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)mk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>El(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Hu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(jl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Hu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mk(n,e,t,r){if(!t&&!El(n))return;k0(n,e,t&&!r?0:1)}var Xp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fm=(()=>{class n{compileModuleSync(t){return new Kp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=cD(t),o=u0(i.declarations).reduce((s,a)=>{let u=ui(a);return u&&s.push(new la(u)),s},[]);return new Xp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gk=(()=>{class n{constructor(){this.zone=k(De),this.changeDetectionScheduler=k(So),this.applicationRef=k(Nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yk=new $("",{factory:()=>!1});function X0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(le(L({},tb()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:wo,multi:!0,useFactory:()=>{let r=k(gk,{optional:!0});return()=>r.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let r=k(vk);return()=>{r.initialize()}}},e===!0?{provide:U0,useValue:!0}:[],{provide:j0,useValue:t??YD}]}function eb(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=X0({ngZoneFactory:()=>{let i=tb(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ko("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qt([{provide:yk,useValue:!0},{provide:Ol,useValue:!1},r])}function tb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vk=(()=>{class n{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=k(De),this.pendingTasks=k(Mr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _k=(()=>{class n{constructor(){this.appRef=k(Nr),this.taskService=k(Mr),this.ngZone=k(De),this.zonelessEnabled=k(Ol),this.disableScheduling=k(U0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ol):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(j0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?EE:ZD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ol+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,EE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ik(){return typeof $localize<"u"&&$localize.locale||fl}var Lm=new $("",{providedIn:"root",factory:()=>k(Lm,ce.Optional|ce.SkipSelf)||Ik()});var em=new $("");function Uu(n){return!n.moduleRef}function wk(n){let e=Uu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Uu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Un,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Uu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(em);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(em);s.add(o),n.moduleRef.onDestroy(()=>{Hu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return pk(r,t,()=>{let o=e.get(Z0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Lm,fl);if(nk(s||fl),Uu(n)){let a=e.get(Nr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Ek(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Ek(n,e){let t=n.injector.get(Nr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var qu=null;function Dk(n=[],e){return Ct.create({name:e,providers:[{provide:_l,useValue:"platform"},{provide:em,useValue:new Set([()=>qu=null])},...n]})}function bk(n=[]){if(qu)return qu;let e=Dk(n);return qu=e,dk(),Ck(e),e}function Ck(n){n.get(wm,null)?.forEach(t=>t())}var Di=(()=>{class n{static{this.__NG_ELEMENT_ID__=Tk}}return n})();function Tk(n){return Sk(St(),Me(),(n&16)===16)}function Sk(n,e,t){if(wl(n)&&!t){let r=Ar(n.index,e);return new mi(r,r)}else if(n.type&175){let r=e[mn];return new mi(r,e)}return null}var tm=class{constructor(){}supports(e){return H0(e)}create(e){return new nm(e)}},Ak=(n,e)=>e,nm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ak}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<BE(r,i,o)?t:r,a=BE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let v=y<o.length?o[y]:o[y]=0,S=v+y;h<=S&&S<l&&(o[y]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!H0(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,RO(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new rm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},im=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},pl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new im,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function BE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function $E(){return new Vm([new tm])}var Vm=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:$E})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$E()),deps:[[n,new XE,new wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function nb(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=bk(r),o=[X0({}),{provide:So,useExisting:_k},...t||[]],s=new dl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return wk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function va(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Vo(n,e){ko("NgSignals");let t=Sw(n);return e?.equal&&(t[Fn].equal=e.equal),t}function vn(n){let e=_e(null);try{return n()}finally{_e(e)}}var ab=null;function Kn(){return ab}function cb(n){ab??=n}var Bl=class{};var At=new $(""),ub=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(xk),providedIn:"platform"})}}return n})();var xk=(()=>{class n extends ub{constructor(){super(),this._doc=k(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kn().getBaseHref(this._doc)}onPopState(t){let r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function lb(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function rb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function bi(n){return n&&n[0]!=="?"?"?"+n:n}var $l=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(db),providedIn:"root"})}}return n})(),Pk=new $(""),db=(()=>{class n extends $l{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+bi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(ub),K(Pk,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _a=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Fk(rb(ib(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bi(r))}normalize(t){return n.stripTrailingSlash(kk(this._basePath,ib(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=bi}static{this.joinWithSlash=lb}static{this.stripTrailingSlash=rb}static{this.\u0275fac=function(r){return new(r||n)(K($l))}}static{this.\u0275prov=H({token:n,factory:()=>Ok(),providedIn:"root"})}}return n})();function Ok(){return new _a(K($l))}function kk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ib(n){return n.replace(/\/index.html$/,"")}function Fk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Hl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Um=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ql=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Um(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ob(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ob(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(Oo),W(Pl),W(Vm))}}static{this.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ob(n,e){n.context.$implicit=e.item}var _n=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(Oo),W(Pl))}}static{this.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),jm=class{constructor(){this.$implicit=null,this.ngIf=null}};function sb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${_t(e)}'.`)}var Et=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({})}}return n})(),hb="browser",Lk="server";function zl(n){return n===Lk}var Uo=class{};var wa=class{},Wl=class{},Qn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var $m=class{encodeKey(e){return fb(e)}encodeValue(e){return fb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Vk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var Uk=/%(\d[a-f0-9])/gi,jk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fb(n){return encodeURIComponent(n).replace(Uk,(e,t)=>jk[t]??e)}function Gl(n){return`${n}`}var Or=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $m,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Vk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Gl):[Gl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Gl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Gl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Hm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Bk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mb(n){return typeof Blob<"u"&&n instanceof Blob}function gb(n){return typeof FormData<"u"&&n instanceof FormData}function $k(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ia=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Bk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qn,this.context??=new Hm,!this.params)this.params=new Or,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||pb(this.body)||mb(this.body)||gb(this.body)||$k(this.body)?this.body:this.body instanceof Or?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gb(this.body)?null:mb(this.body)?this.body.type||null:pb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Or?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,v)=>y.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,v)=>y.set(v,e.setParams[v]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},kr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(kr||{}),Ea=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kl=class n extends Ea{constructor(e={}){super(e),this.type=kr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Da=class n extends Ea{constructor(e={}){super(e),this.type=kr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pr=class extends Ea{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ib=200,Hk=204;function Bm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ba=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ia)o=t;else{let u;i.headers instanceof Qn?u=i.headers:u=new Qn(i.headers);let l;i.params&&(i.params instanceof Or?l=i.params:l=new Or({fromObject:i.params})),o=new Ia(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(_r(u=>this.handler.handle(u)));if(t instanceof Ia||i.observe==="events")return s;let a=s.pipe(Pt(u=>u instanceof Da));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(oe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(oe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Or().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Bm(i,r))}post(t,r,i={}){return this.request("POST",t,Bm(i,r))}put(t,r,i={}){return this.request("PUT",t,Bm(i,r))}static{this.\u0275fac=function(r){return new(r||n)(K(wa))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),qk=/^\)\]\}',?\n/,zk="X-Request-URL";function yb(n){if(n.url)return n.url;let e=zk.toLocaleLowerCase();return n.headers.get(e)}var Gk=(()=>{class n{constructor(){this.fetchImpl=k(qm,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=k(De)}handle(t){return new de(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(zm,o=>r.error(new Pr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return w(this,null,function*(){let o=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,L({signal:r},o)));Wk(v),i.next({type:kr.Sent}),s=yield v}catch(v){i.error(new Pr({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let a=new Qn(s.headers),u=s.statusText,l=yb(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Kl({headers:a,status:h,statusText:u,url:l})),s.body){let v=s.headers.get("content-length"),S=[],M=s.body.getReader(),R=0,F,q,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:Ee,value:J}=yield M.read();if(Ee)break;if(S.push(J),R+=J.length,t.reportProgress){q=t.responseType==="text"?(q??"")+(F??=new TextDecoder).decode(J,{stream:!0}):void 0;let E=()=>i.next({type:kr.DownloadProgress,total:v?+v:void 0,loaded:R,partialText:q});U?U.run(E):E()}}}));let re=this.concatChunks(S,R);try{let Ee=s.headers.get("Content-Type")??"";p=this.parseBody(t,re,Ee)}catch(Ee){i.error(new Pr({error:Ee,headers:new Qn(s.headers),status:s.status,statusText:s.statusText,url:yb(s)??t.urlWithParams}));return}}h===0&&(h=p?Ib:0),h>=200&&h<300?(i.next(new Da({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Pr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(qk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),qm=class{};function zm(){}function Wk(n){n.then(zm,zm)}function Kk(n,e){return e(n)}function Qk(n,e,t){return(r,i)=>tn(t,()=>e(r,o=>n(o,i)))}var wb=new $(""),Yk=new $(""),Jk=new $("",{providedIn:"root",factory:()=>!0});var vb=(()=>{class n extends wa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=k(Mr),this.contributeToStability=k(Jk)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wb),...this.injector.get(Yk,[])]));this.chain=r.reduceRight((i,o)=>Qk(i,o,this.injector),Kk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ai(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(K(Wl),K(bt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var Zk=/^\)\]\}',?\n/;function Xk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var _b=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Oe(r.\u0275loadImpl()):ee(null)).pipe(Ot(()=>new de(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Qn(s.getAllResponseHeaders()),F=Xk(s)||t.url;return u=new Kl({headers:R,status:s.status,statusText:M,url:F}),u},h=()=>{let{headers:M,status:R,statusText:F,url:q}=l(),U=null;R!==Hk&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?Ib:0);let re=R>=200&&R<300;if(t.responseType==="json"&&typeof U=="string"){let Ee=U;U=U.replace(Zk,"");try{U=U!==""?JSON.parse(U):null}catch(J){U=Ee,re&&(re=!1,U={error:J,text:U})}}re?(o.next(new Da({body:U,headers:M,status:R,statusText:F,url:q||void 0})),o.complete()):o.error(new Pr({error:U,headers:M,status:R,statusText:F,url:q||void 0}))},p=M=>{let{url:R}=l(),F=new Pr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(F)},y=!1,v=M=>{y||(o.next(l()),y=!0);let R={type:kr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},S=M=>{let R={type:kr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:kr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(K(Uo))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Eb=new $(""),e1="XSRF-TOKEN",t1=new $("",{providedIn:"root",factory:()=>e1}),n1="X-XSRF-TOKEN",r1=new $("",{providedIn:"root",factory:()=>n1}),Ql=class{},i1=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(K(At),K(yn),K(t1))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function o1(n,e){let t=n.url.toLowerCase();if(!k(Eb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=k(Ql).getToken(),i=k(r1);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Db(...n){let e=[ba,_b,vb,{provide:wa,useExisting:vb},{provide:Wl,useFactory:()=>k(Gk,{optional:!0})??k(_b)},{provide:wb,useValue:o1,multi:!0},{provide:Eb,useValue:!0},{provide:Ql,useClass:i1}];for(let t of n)e.push(...t.\u0275providers);return qt(e)}var Km=class extends Bl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qm=class n extends Km{static makeCurrent(){cb(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=s1();return t==null?null:a1(t)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hl(document.cookie,e)}},Ca=null;function s1(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}function a1(n){return new URL(n,document.baseURI).pathname}var c1=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ym=new $(""),Ab=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(Ym),K(De))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Yl=class{constructor(e){this._doc=e}},Gm="ng-app-id",Rb=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Gm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Gm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Gm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(At),K(Im),K(Em,8),K(yn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zm=/%COMP%/g,Mb="%COMP%",u1=`_nghost-${Mb}`,l1=`_ngcontent-${Mb}`,d1=!0,h1=new $("",{providedIn:"root",factory:()=>d1});function f1(n){return l1.replace(Zm,n)}function p1(n){return u1.replace(Zm,n)}function Nb(n,e){return e.map(t=>t.replace(Zm,n))}var Cb=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=zl(a),this.defaultRenderer=new Ta(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fn.ShadowDom&&(r=le(L({},r),{encapsulation:fn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Jl?i.applyToHost(t):i instanceof Sa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case fn.Emulated:o=new Jl(u,l,r,this.appId,h,s,a,p);break;case fn.ShadowDom:return new Jm(u,l,t,r,s,a,this.nonce,p);default:o=new Sa(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(Ab),K(Rb),K(Im),K(h1),K(At),K(yn),K(De),K(Em))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ta=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Wm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Tb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Tb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Wm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Wm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(t,r,i&jn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Kn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Tb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Jm=class extends Ta{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Nb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Ta{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Nb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jl=class extends Sa{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=f1(l),this.hostAttr=p1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},m1=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(At))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Sb=["alt","control","meta","shift"],g1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},v1=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Sb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=g1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Sb.forEach(s=>{if(s!==i){let a=y1[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(At))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function xb(n,e){return nb(L({rootComponent:n},_1(e)))}function _1(n){return{appProviders:[...b1,...n?.providers??[]],platformProviders:D1}}function I1(){Qm.makeCurrent()}function w1(){return new Un}function E1(){return o0(document),document}var D1=[{provide:yn,useValue:hb},{provide:wm,useValue:I1,multi:!0},{provide:At,useFactory:E1,deps:[]}];var b1=[{provide:_l,useValue:"root"},{provide:Un,useFactory:w1,deps:[]},{provide:Ym,useClass:m1,multi:!0,deps:[At,De,yn]},{provide:Ym,useClass:v1,multi:!0,deps:[At]},Cb,Rb,Ab,{provide:Ro,useExisting:Cb},{provide:Uo,useClass:c1,deps:[]},[]];var Pb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(At))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ae="primary",qa=Symbol("RouteTitle"),rg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zo(n){return new rg(n)}function T1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function S1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!In(n[t],e[t]))return!1;return!0}function In(n,e){let t=n?ig(n):void 0,r=e?ig(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Bb(n[i],e[i]))return!1;return!0}function ig(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Bb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function $b(n){return n.length>0?n[n.length-1]:null}function Fr(n){return Yf(n)?n:Ei(n)?Oe(Promise.resolve(n)):ee(n)}var A1={exact:qb,subset:zb},Hb={exact:R1,subset:M1,ignored:()=>!0};function Ob(n,e,t){return A1[t.paths](n.root,e.root,t.matrixParams)&&Hb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function R1(n,e){return In(n,e)}function qb(n,e,t){if(!Ti(n.segments,e.segments)||!ed(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!qb(n.children[r],e.children[r],t))return!1;return!0}function M1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bb(n[t],e[t]))}function zb(n,e,t){return Gb(n,e,e.segments,t)}function Gb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ti(i,t)||e.hasChildren()||!ed(i,t,r))}else if(n.segments.length===t.length){if(!Ti(n.segments,t)||!ed(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ti(n.segments,i)||!ed(n.segments,i,r)||!n.children[ae]?!1:Gb(n.children[ae],e,o,r)}}function ed(n,e,t){return e.every((r,i)=>Hb[t](n[i].parameters,r.parameters))}var Jn=class{constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){return P1.serialize(this)}},be=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}},Ci=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zo(this.parameters),this._parameterMap}toString(){return Kb(this)}};function N1(n,e){return Ti(n,e)&&n.every((t,r)=>In(t.parameters,e[r].parameters))}function Ti(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function x1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var Mg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new Oa,providedIn:"root"})}}return n})(),Oa=class{parse(e){let t=new sg(e);return new Jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Aa(e.root,!0)}`,r=F1(e.queryParams),i=typeof e.fragment=="string"?`#${O1(e.fragment)}`:"";return`${t}${r}${i}`}},P1=new Oa;function td(n){return n.segments.map(e=>Kb(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return td(n);if(e){let t=n.children[ae]?Aa(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Aa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=x1(n,(r,i)=>i===ae?[Aa(n.children[ae],!1)]:[`${i}:${Aa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${td(n)}/${t[0]}`:`${td(n)}/(${t.join("//")})`}}function Wb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(n){return Wb(n).replace(/%3B/gi,";")}function O1(n){return encodeURI(n)}function og(n){return Wb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nd(n){return decodeURIComponent(n)}function kb(n){return nd(n.replace(/\+/g,"%20"))}function Kb(n){return`${og(n.path)}${k1(n.parameters)}`}function k1(n){return Object.entries(n).map(([e,t])=>`;${og(e)}=${og(t)}`).join("")}function F1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Zl(t)}=${Zl(i)}`).join("&"):`${Zl(t)}=${Zl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var L1=/^[^\/()?;#]+/;function Xm(n){let e=n.match(L1);return e?e[0]:""}var V1=/^[^\/()?;=#]+/;function U1(n){let e=n.match(V1);return e?e[0]:""}var j1=/^[^=?&#]+/;function B1(n){let e=n.match(j1);return e?e[0]:""}var $1=/^[^&#]+/;function H1(n){let e=n.match($1);return e?e[0]:""}var sg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new be(e,t)),r}parseSegment(){let e=Xm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Ci(nd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=U1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xm(this.remaining);i&&(r=i,this.capture(r))}e[nd(t)]=nd(r)}parseQueryParam(e){let t=B1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=H1(this.remaining);s&&(r=s,this.capture(r))}let i=kb(t),o=kb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function Qb(n){return n.segments.length>0?new be([],{[ae]:n}):n}function Yb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Yb(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return q1(t)}function q1(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new be(n.segments.concat(e.segments),e.children)}return n}function ka(n){return n instanceof Jn}function z1(n,e,t=null,r=null){let i=Jb(n);return Zb(i,e,t,r)}function Jb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Qb(r);return e??i}function Zb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return eg(i,i,i,t,r);let o=G1(e);if(o.toRoot())return eg(i,i,new be([],{}),t,r);let s=W1(o,i,n),a=s.processChildren?Na(s.segmentGroup,s.index,o.commands):eC(s.segmentGroup,s.index,o.commands);return eg(i,s.segmentGroup,a,t,r)}function rd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fa(n){return typeof n=="object"&&n!=null&&n.outlets}function eg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=Xb(n,e,t);let a=Qb(Yb(s));return new Jn(a,o,i)}function Xb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Xb(o,e,t)}),new be(n.segments,r)}var id=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rd(r[0]))throw new z(4003,!1);let i=r.find(Fa);if(i&&i!==$b(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function G1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new id(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new id(t,e,r)}var $o=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function W1(n,e,t){if(n.isAbsolute)return new $o(e,!0,0);if(!t)return new $o(e,!1,NaN);if(t.parent===null)return new $o(t,!0,0);let r=rd(n.commands[0])?0:1,i=t.segments.length-1+r;return K1(t,i,n.numberOfDoubleDots)}function K1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new $o(r,!1,i-o)}function Q1(n){return Fa(n[0])?n[0].outlets:{[ae]:n}}function eC(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return Na(n,e,t);let r=Y1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new be(n.segments.slice(r.pathIndex),n.children),Na(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?ag(n,e,t):r.match?Na(n,0,i):ag(n,e,t)}function Na(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=Q1(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=Na(n.children[ae],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function Y1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Fa(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Lb(u,l,s))return o;r+=2}else{if(!Lb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ag(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Fa(o)){let u=J1(o.outlets);return new be(r,u)}if(i===0&&rd(t[0])){let u=n.segments[e];r.push(new Ci(u.path,Fb(t[0]))),i++;continue}let s=Fa(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&rd(a)?(r.push(new Ci(s,Fb(a))),i+=2):(r.push(new Ci(s,{})),i++)}return new be(r,{})}function J1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ag(new be([],{}),0,r))}),e}function Fb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Lb(n,e,t){return n==t.path&&In(e,t.parameters)}var xa="imperative",ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ot||{}),Gt=class{constructor(e,t){this.id=e,this.url=t}},La=class extends Gt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Si=class extends Gt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lt||{}),cg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(cg||{}),Yn=class extends Gt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends Gt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ot.NavigationSkipped}},Va=class extends Gt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},od=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends Gt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dg=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends Gt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pg=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mg=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yg=class{constructor(e){this.snapshot=e,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(e){this.snapshot=e,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ua=class{},Go=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Z1(n,e){return n.providers&&!n._injector&&(n._injector=Om(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rn(n){return n.outlet||ae}function X1(n,e){let t=n.filter(r=>rn(r)===e);return t.push(...n.filter(r=>rn(r)!==e)),t}function za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _g=class{get injector(){return za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new hd(this.rootInjector),this.attachRef=null}},hd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _g(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(bt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ig(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wg(e,this._root).map(t=>t.value)}};function Ig(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ig(n,t);if(r)return r}return null}function wg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wg(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Bo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ad=class extends sd{constructor(e,t){super(e),this.snapshot=t,Ng(this,e)}toString(){return this.snapshot.toString()}};function tC(n){let e=eF(n),t=new it([new Ci("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Wo(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new ad(new Ft(a,[]),e)}function eF(n){let e={},t={},r={},i="",o=new Ho([],e,r,i,t,ae,n,null,{});return new ud("",new Ft(o,[]))}var Wo=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[qa]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&rC(i)&&(r.resolve[qa]=i.title),r}var Ho=class{get title(){return this.data?.[qa]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ud=class extends sd{constructor(e,t){super(t),this.url=e,Ng(this,t)}toString(){return nC(this._root)}};function Ng(n,e){e.value._routerState=n,e.children.forEach(t=>Ng(n,t))}function nC(n){let e=n.children.length>0?` { ${n.children.map(nC).join(", ")} } `:"";return`${n.value}${e}`}function tg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,In(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),In(e.params,t.params)||n.paramsSubject.next(t.params),S1(e.url,t.url)||n.urlSubject.next(t.url),In(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Eg(n,e){let t=In(n.params,e.params)&&N1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Eg(n.parent,e.parent))}function rC(n){return typeof n.title=="string"||n.title===null}var xg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=k(hd),this.location=k(Oo),this.changeDetector=k(Di),this.inputBinder=k(Pg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Dg(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gn]})}}return n})(),Dg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wo?this.route:e===hd?this.childContexts:this.parent.get(e,t)}},Pg=new $("");function tF(n,e,t){let r=ja(n,e._root,t?t._root:void 0);return new ad(r,e)}function ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=nF(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ja(n,a)),s}}let r=rF(e.value),i=e.children.map(o=>ja(n,o));return new Ft(r,i)}}function nF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ja(n,r,i);return ja(n,r)})}function rF(n){return new Wo(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var Ba=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},iC="ngNavigationCancelingError";function ld(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oC(!1,Lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function oC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[iC]=!0,t.cancellationCode=e,t}function iF(n){return sC(n)&&ka(n.url)}function sC(n){return!!n&&n[iC]}var oF=(n,e,t,r)=>oe(i=>(new bg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),bg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Bo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Bo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(tg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qo=class{constructor(e,t){this.component=e,this.route=t}};function sF(n,e,t){let r=n._root,i=e?e._root:null;return Ra(r,i,t,[r.value])}function aF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Qo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!GE(n)?n:e.get(n):r}function Ra(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bo(e);return n.children.forEach(s=>{cF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pa(a,t.getContext(s),i)),i}function cF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ra(n,e,a?a.children:null,r,i):Ra(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qo(a.outlet.component,s))}else s&&Pa(e,a,i),i.canActivateChecks.push(new dd(r)),o.component?Ra(n,null,a?a.children:null,r,i):Ra(n,null,t,r,i);return i}function uF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(n.url,e.url)||!In(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eg(n,e)||!In(n.queryParams,e.queryParams);case"paramsChange":default:return!Eg(n,e)}}function Pa(n,e,t){let r=Bo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pa(s,e.children.getContext(o),t):Pa(s,null,t):Pa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new qo(e.outlet.component,i)):t.canDeactivateChecks.push(new qo(null,i)):t.canDeactivateChecks.push(new qo(null,i))}function Ga(n){return typeof n=="function"}function lF(n){return typeof n=="boolean"}function dF(n){return n&&Ga(n.canLoad)}function hF(n){return n&&Ga(n.canActivate)}function fF(n){return n&&Ga(n.canActivateChild)}function pF(n){return n&&Ga(n.canDeactivate)}function mF(n){return n&&Ga(n.canMatch)}function aC(n){return n instanceof Ln||n?.name==="EmptyError"}var Xl=Symbol("INITIAL_VALUE");function Ko(){return Ot(n=>Pu(n.map(e=>e.pipe(Vn(1),np(Xl)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===Xl)return Xl;if(t===!1||gF(t))return t}return!0}),Pt(e=>e!==Xl),Vn(1)))}function gF(n){return ka(n)||n instanceof Ba}function yF(n,e){return Ye(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(le(L({},t),{guardsResult:!0})):vF(s,r,i,n).pipe(Ye(a=>a&&lF(a)?_F(r,o,n,e):ee(a)),oe(a=>le(L({},t),{guardsResult:a})))})}function vF(n,e,t,r){return Oe(n).pipe(Ye(i=>bF(i.component,i.route,t,e,r)),ln(i=>i!==!0,!0))}function _F(n,e,t,r){return Oe(e).pipe(_r(i=>ho(wF(i.route.parent,r),IF(i.route,r),DF(n,i.path,t),EF(n,i.route,t))),ln(i=>i!==!0,!0))}function IF(n,e){return n!==null&&e&&e(new yg(n)),ee(!0)}function wF(n,e){return n!==null&&e&&e(new mg(n)),ee(!0)}function EF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Ou(()=>{let s=za(e)??t,a=Qo(o,s),u=hF(a)?a.canActivate(e,n):tn(s,()=>a(e,n));return Fr(u).pipe(ln())}));return ee(i).pipe(Ko())}function DF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>aF(s)).filter(s=>s!==null).map(s=>Ou(()=>{let a=s.guards.map(u=>{let l=za(s.node)??t,h=Qo(u,l),p=fF(h)?h.canActivateChild(r,n):tn(l,()=>h(r,n));return Fr(p).pipe(ln())});return ee(a).pipe(Ko())}));return ee(o).pipe(Ko())}function bF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=za(e)??i,l=Qo(a,u),h=pF(l)?l.canDeactivate(n,e,t,r):tn(u,()=>l(n,e,t,r));return Fr(h).pipe(ln())});return ee(s).pipe(Ko())}function CF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Qo(s,n),u=dF(a)?a.canLoad(e,t):tn(n,()=>a(e,t));return Fr(u)});return ee(o).pipe(Ko(),cC(r))}function cC(n){return $f(je(e=>{if(typeof e!="boolean")throw ld(n,e)}),oe(e=>e===!0))}function TF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Qo(s,n),u=mF(a)?a.canMatch(e,t):tn(n,()=>a(e,t));return Fr(u)});return ee(o).pipe(Ko(),cC(r))}var $a=class{constructor(e){this.segmentGroup=e||null}},Ha=class extends Error{constructor(e){super(),this.urlTree=e}};function jo(n){return lo(new $a(n))}function SF(n){return lo(new z(4e3,!1))}function AF(n){return lo(oC(!1,Lt.GuardRejected))}var Cg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ae])return SF(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:v,data:S,title:M}=i,R=tn(o,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof Jn)throw new Ha(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ha(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RF(n,e,t,r,i){let o=uC(n,e,t);return o.matched?(r=Z1(e,r),TF(r,e,t,i).pipe(oe(s=>s===!0?o:L({},Tg)))):ee(o)}function uC(n,e,t){if(e.path==="**")return MF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Tg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||T1)(t,n,e);if(!i)return L({},Tg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MF(n){return{matched:!0,parameters:n.length>0?$b(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Vb(n,e,t,r){return t.length>0&&PF(n,t,r)?{segmentGroup:new be(e,xF(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&OF(n,t,r)?{segmentGroup:new be(n.segments,NF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function NF(n,e,t,r){let i={};for(let o of t)if(fd(n,e,o)&&!r[rn(o)]){let s=new be([],{});i[rn(o)]=s}return L(L({},r),i)}function xF(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&rn(r)!==ae){let i=new be([],{});t[rn(r)]=i}return t}function PF(n,e,t){return t.some(r=>fd(n,e,r)&&rn(r)!==ae)}function OF(n,e,t){return t.some(r=>fd(n,e,r))}function fd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function kF(n,e,t){return e.length===0&&!n.children[t]}var Sg=class{};function FF(n,e,t,r,i,o,s="emptyOnly"){return new Ag(n,e,t,r,i,s,o).recognize()}var LF=31,Ag=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Vb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new Ft(r,t),o=new ud("",i),s=z1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ho([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,t).pipe(oe(r=>({children:r,rootSnapshot:t})),vr(r=>{if(r instanceof Ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(_r(s=>{let a=r.children[s],u=X1(t,s);return this.processSegmentGroup(e,u,a,s,i)}),tp((s,a)=>(s.push(...a),s)),Ir(null),ep(),Ye(s=>{if(s===null)return jo(r);let a=lC(s);return VF(a),ee(a)}))}processSegment(e,t,r,i,o,s,a){return Oe(t).pipe(_r(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(vr(l=>{if(l instanceof $a)return ee(null);throw l}))),ln(u=>!!u),vr(u=>{if(aC(u))return kF(r,i,o)?ee(new Sg):jo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return rn(r)!==s&&(s===ae||!fd(i,o,r))?jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):jo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=uC(t,i,o);if(!u)return jo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LF&&(this.allowRedirects=!1));let v=new Ho(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Ub(i),rn(i),i.component??i._loadedComponent??null,i,jb(i)),S=cd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ye(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=RF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ot(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:v}=u,S=new Ho(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Ub(r),rn(r),r.component??r._loadedComponent??null,r,jb(r)),M=cd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=Vb(t,y,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(oe(U=>new Ft(S,U)));if(l.length===0&&F.length===0)return ee(new Ft(S,[]));let q=rn(r)===o;return this.processSegment(h,l,R,F,q?ae:o,!0,S).pipe(oe(U=>new Ft(S,U instanceof Ft?[U]:[])))}))):jo(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):CF(e,t,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,t).pipe(je(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):AF(t))):ee({routes:[],injector:e})}};function VF(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function UF(n){let e=n.value.routeConfig;return e&&e.path===""}function lC(n){let e=[],t=new Set;for(let r of n){if(!UF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=lC(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function Ub(n){return n.data||{}}function jb(n){return n.resolve||{}}function jF(n,e,t,r,i,o){return Ye(s=>FF(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>le(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function BF(n,e){return Ye(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of dC(u))s.add(l);let a=0;return Oe(s).pipe(_r(u=>o.has(u)?$F(u,r,n,e):(u.data=cd(u,u.parent,n).resolve,ee(void 0))),je(()=>a++),fo(1),Ye(u=>a===s.size?ee(t):xt))})}function dC(n){let e=n.children.map(t=>dC(t)).flat();return[n,...e]}function $F(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!rC(i)&&(o[qa]=i.title),HF(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=cd(n,n.parent,t).resolve,null)))}function HF(n,e,t,r){let i=ig(n);if(i.length===0)return ee({});let o={};return Oe(i).pipe(Ye(s=>qF(n[s],e,t,r).pipe(ln(),je(a=>{if(a instanceof Ba)throw ld(new Oa,a);o[s]=a}))),fo(1),Xf(o),vr(s=>aC(s)?xt:lo(s)))}function qF(n,e,t,r){let i=za(e)??r,o=Qo(n,i),s=o.resolve?o.resolve(e,t):tn(i,()=>o(e,t));return Fr(s)}function ng(n){return Ot(e=>{let t=n(e);return t?Oe(t).pipe(oe(()=>e)):ee(e)})}var hC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[qa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(zF),providedIn:"root"})}}return n})(),zF=(()=>{class n extends hC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(Pb))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Og=new $("",{providedIn:"root",factory:()=>({})}),GF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=$e({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ge],decls:1,vars:0,template:function(r,i){r&1&&qe(0,"router-outlet")},dependencies:[xg],encapsulation:2})}}return n})();function kg(n){let e=n.children&&n.children.map(kg),t=e?le(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=GF),t}var Fg=new $(""),WF=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Fm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fr(t.loadComponent()).pipe(oe(fC),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ai(()=>{this.componentLoaders.delete(t)})),i=new so(r,()=>new rt).pipe(oo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KF(r,this.compiler,t,this.onLoadEndListener).pipe(ai(()=>{this.childrenLoaders.delete(r)})),s=new so(o,()=>new rt).pipe(oo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KF(n,e,t,r){return Fr(n.loadChildren()).pipe(oe(fC),Ye(i=>i instanceof da||Array.isArray(i)?ee(i):Oe(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Fg,[],{optional:!0,self:!0}).flat()),{routes:s.map(kg),injector:o}}))}function QF(n){return n&&typeof n=="object"&&"default"in n}function fC(n){return QF(n)?n.default:n}var Lg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(YF),providedIn:"root"})}}return n})(),YF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JF=new $("");var ZF=new $(""),XF=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=k(WF),this.environmentInjector=k(bt),this.urlSerializer=k(Mg),this.rootContexts=k(hd),this.location=k(_a),this.inputBindingEnabled=k(Pg,{optional:!0})!==null,this.titleStrategy=k(hC),this.options=k(Og,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Lg),this.createViewTransition=k(JF,{optional:!0}),this.navigationErrorHandler=k(ZF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let t=i=>this.events.next(new fg(i)),r=i=>this.events.next(new pg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new it({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(o=>o.id!==0),oe(o=>le(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ot(o=>{let s=!1,a=!1;return ee(o).pipe(Ot(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),xt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.rawUrl),p,cg.IgnoredSameUrlNavigation)),u.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Ot(p=>{let y=this.transitions?.getValue();return this.events.next(new La(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?xt:Promise.resolve(p)}),jF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=le(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new od(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:v,restoredState:S,extras:M}=u,R=new La(p,this.urlSerializer.serialize(y),v,S);this.events.next(R);let F=tC(this.rootComponentType).snapshot;return this.currentTransition=o=le(L({},u),{targetSnapshot:F,urlAfterRedirects:y,extras:le(L({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ee(o)}else{let p="";return this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.extractedUrl),p,cg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),xt}}),je(u=>{let l=new ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),oe(u=>(this.currentTransition=o=le(L({},u),{guards:sF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),yF(this.environmentInjector,u=>this.events.next(u)),je(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ld(this.urlSerializer,u.guardsResult);let l=new lg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Lt.GuardRejected),!1)),ng(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(je(l=>{let h=new dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ot(l=>{let h=!1;return ee(l).pipe(BF(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Lt.NoDataFromResolver)}}))}),je(l=>{let h=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),ng(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(je(y=>{h.component=y}),oe(()=>{})));for(let y of h.children)p.push(...l(y));return p};return Pu(l(u.targetSnapshot.root)).pipe(Ir(null),Vn(1))}),ng(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Oe(h).pipe(oe(()=>o)):ee(o)}),oe(u=>{let l=tF(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),je(()=>{this.events.next(new Ua)}),oF(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Vn(1),je({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),rp(this.transitionAbortSubject.pipe(je(u=>{throw u}))),ai(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vr(u=>{if(a=!0,sC(u))this.events.next(new Yn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),iF(u)?this.events.next(new Go(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Va(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=tn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ba){let{message:p,cancellationCode:y}=ld(this.urlSerializer,h);this.events.next(new Yn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new Go(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return xt}))}))}cancelNavigationTransition(t,r,i){let o=new Yn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function eL(n){return n!==xa}var tL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(nL),providedIn:"root"})}}return n})(),Rg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},nL=(()=>{class n extends Rg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>k(rL),providedIn:"root"})}}return n})(),rL=(()=>{class n extends pC{constructor(){super(...arguments),this.location=k(_a),this.urlSerializer=k(Mg),this.options=k(Og,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Lg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof La)this.stateMemento=this.createStateMemento();else if(t instanceof Ai)this.rawUrlTree=r.initialUrl;else if(t instanceof od){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ua?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Yn&&(t.code===Lt.GuardRejected||t.code===Lt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Va?this.restoreHistory(r,!0):t instanceof Si&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Jn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ma=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ma||{});function iL(n,e){n.events.pipe(Pt(t=>t instanceof Si||t instanceof Yn||t instanceof Va||t instanceof Ai),oe(t=>t instanceof Si||t instanceof Ai?Ma.COMPLETE:(t instanceof Yn?t.code===Lt.Redirect||t.code===Lt.SupersededByNewNavigation:!1)?Ma.REDIRECTING:Ma.FAILED),Pt(t=>t!==Ma.REDIRECTING),Vn(1)).subscribe(()=>{e()})}function oL(n){throw n}var sL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Ul),this.stateManager=k(pC),this.options=k(Og,{optional:!0})||{},this.pendingTasks=k(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(XF),this.urlSerializer=k(Mg),this.location=k(_a),this.urlHandlingStrategy=k(Lg),this._events=new rt,this.errorHandler=this.options.errorHandler||oL,this.navigated=!1,this.routeReuseStrategy=k(tL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Fg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Pg,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Yn&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Si)this.navigated=!0;else if(r instanceof Go){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eL(i.source)},s);this.scheduleNavigation(a,xa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=Jb(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Zb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ka(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xa,null,r)}navigate(t,r={skipLocationChange:!1}){return cL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},sL):r===!1?i=L({},aL):i=r,ka(t))return Ob(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Ob(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return iL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function uL(n){return!(n instanceof Ua)&&!(n instanceof Go)}var lL=new $("");function mC(n,...e){return qt([{provide:Fg,multi:!0,useValue:n},[],{provide:Wo,useFactory:dL,deps:[wn]},{provide:jl,multi:!0,useFactory:hL},e.map(t=>t.\u0275providers)])}function dL(n){return n.routerState.root}function hL(){let n=k(Ct);return e=>{let t=n.get(Nr);if(e!==t.components[0])return;let r=n.get(wn),i=n.get(fL);n.get(pL)===1&&r.initialNavigation(),n.get(mL,null,ce.Optional)?.setUpPreloading(),n.get(lL,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fL=new $("",{factory:()=>new rt}),pL=new $("",{providedIn:"root",factory:()=>1});var mL=new $("");var yC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(y=64)),r.push(t[h],t[p],t[y],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ug;let y=o<<2|a>>4;if(r.push(y),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yL=function(n){let e=yC(n);return vC.encodeByteArray(e,!0)},Wa=function(n){return yL(n).replace(/\./g,"")},Bg=function(n){try{return vC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _L=()=>vL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Bg(n[1]);return e&&JSON.parse(e)},gd=()=>{try{return _L()||IL()||wL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$g=n=>{var e,t;return(t=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_C=n=>{let e=$g(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Hg=()=>{var n;return(n=gd())===null||n===void 0?void 0:n.config},qg=n=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${n}`]};var md=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function IC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wa(JSON.stringify(t)),Wa(JSON.stringify(s)),""].join(".")}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function EL(){var n;let e=(n=gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){let n=et();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TC(){return!EL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zg(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var DL="FirebaseError",Vt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vt(i,a,r)}};function bL(n,e){return n.replace(CL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var CL=/\{\$([^}]+)}/g;function AC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(gC(o)&&gC(s)){if(!Ri(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function gC(n){return n!==null&&typeof n=="object"}function Ka(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Jo(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RC(n,e){let t=new jg(n,e);return t.subscribe.bind(t)}var jg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Vg),i.error===void 0&&(i.error=Vg),i.complete===void 0&&(i.complete=Vg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vg(){}var E6=4*60*60*1e3;function ht(n){return n&&n._delegate?n._delegate:n}var Wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mi="[DEFAULT]";var Gg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new md;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AL(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SL(n){return n===Mi?void 0:n}function AL(n){return n.instantiationMode==="EAGER"}var yd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Gg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var RL=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),ML={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},NL=me.INFO,xL={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},PL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=xL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=NL,this._logHandler=PL,this._userLogHandler=null,RL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ML[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var OL=(n,e)=>e.some(t=>n instanceof t),MC,NC;function kL(){return MC||(MC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return NC||(NC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xC=new WeakMap,Kg=new WeakMap,PC=new WeakMap,Wg=new WeakMap,Yg=new WeakMap;function LL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(En(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&xC.set(t,n)}).catch(()=>{}),Yg.set(e,n),e}function VL(n){if(Kg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Kg.set(n,e)}var Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return En(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OC(n){Qg=n(Qg)}function UL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(vd(this),e,...t);return PC.set(r,e.sort?e.sort():[e]),En(r)}:FL().includes(n)?function(...e){return n.apply(vd(this),e),En(xC.get(this))}:function(...e){return En(n.apply(vd(this),e))}}function jL(n){return typeof n=="function"?UL(n):(n instanceof IDBTransaction&&VL(n),OL(n,kL())?new Proxy(n,Qg):n)}function En(n){if(n instanceof IDBRequest)return LL(n);if(Wg.has(n))return Wg.get(n);let e=jL(n);return e!==n&&(Wg.set(n,e),Yg.set(e,n)),e}var vd=n=>Yg.get(n);function FC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=En(s);return r&&s.addEventListener("upgradeneeded",u=>{r(En(s.result),u.oldVersion,u.newVersion,En(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var BL=["get","getKey","getAll","getAllKeys","count"],$L=["put","add","delete","clear"],Jg=new Map;function kC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=$L.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BL.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Jg.set(e,o),o}OC(n=>le(L({},n),{get:(e,t,r)=>kC(e,t)||n.get(e,t,r),has:(e,t)=>!!kC(e,t)||n.has(e,t)}));var Xg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function HL(n){let e=n.getComponent();return e?.type==="VERSION"}var ey="@firebase/app",LC="0.10.13";var Xn=new Lr("@firebase/app"),qL="@firebase/app-compat",zL="@firebase/analytics-compat",GL="@firebase/analytics",WL="@firebase/app-check-compat",KL="@firebase/app-check",QL="@firebase/auth",YL="@firebase/auth-compat",JL="@firebase/database",ZL="@firebase/data-connect",XL="@firebase/database-compat",eV="@firebase/functions",tV="@firebase/functions-compat",nV="@firebase/installations",rV="@firebase/installations-compat",iV="@firebase/messaging",oV="@firebase/messaging-compat",sV="@firebase/performance",aV="@firebase/performance-compat",cV="@firebase/remote-config",uV="@firebase/remote-config-compat",lV="@firebase/storage",dV="@firebase/storage-compat",hV="@firebase/firestore",fV="@firebase/vertexai-preview",pV="@firebase/firestore-compat",mV="firebase",gV="10.14.1";var ty="[DEFAULT]",yV={[ey]:"fire-core",[qL]:"fire-core-compat",[GL]:"fire-analytics",[zL]:"fire-analytics-compat",[KL]:"fire-app-check",[WL]:"fire-app-check-compat",[QL]:"fire-auth",[YL]:"fire-auth-compat",[JL]:"fire-rtdb",[ZL]:"fire-data-connect",[XL]:"fire-rtdb-compat",[eV]:"fire-fn",[tV]:"fire-fn-compat",[nV]:"fire-iid",[rV]:"fire-iid-compat",[iV]:"fire-fcm",[oV]:"fire-fcm-compat",[sV]:"fire-perf",[aV]:"fire-perf-compat",[cV]:"fire-rc",[uV]:"fire-rc-compat",[lV]:"fire-gcs",[dV]:"fire-gcs-compat",[hV]:"fire-fst",[pV]:"fire-fst-compat",[fV]:"fire-vertex","fire-js":"fire-js",[mV]:"fire-js-all"};var Qa=new Map,vV=new Map,ny=new Map;function VC(n,e){try{n.container.addComponent(e)}catch(t){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ur(n){let e=n.name;if(ny.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,n);for(let t of Qa.values())VC(t,n);for(let t of vV.values())VC(t,n);return!0}function Ja(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n.settings!==void 0}var _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Zn("app","Firebase",_V);var ry=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var jr=gV;function sy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(t||(t=Hg()),!t)throw Vr.create("no-options");let o=Qa.get(i);if(o){if(Ri(t,o.options)&&Ri(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}let s=new yd(i);for(let u of ny.values())s.addComponent(u);let a=new ry(t,r,s);return Qa.set(i,a),a}function Zo(n=ty){let e=Qa.get(n);if(!e&&n===ty&&Hg())return sy();if(!e)throw Vr.create("no-app",{appName:n});return e}function _d(){return Array.from(Qa.values())}function Je(n,e,t){var r;let i=(r=yV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Ur(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var IV="firebase-heartbeat-database",wV=1,Ya="firebase-heartbeat-store",Zg=null;function $C(){return Zg||(Zg=FC(IV,wV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ya)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),Zg}function EV(n){return w(this,null,function*(){try{let t=(yield $C()).transaction(Ya),r=yield t.objectStore(Ya).get(HC(n));return yield t.done,r}catch(e){if(e instanceof Vt)Xn.warn(e.message);else{let t=Vr.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(t.message)}}})}function UC(n,e){return w(this,null,function*(){try{let r=(yield $C()).transaction(Ya,"readwrite");yield r.objectStore(Ya).put(e,HC(n)),yield r.done}catch(t){if(t instanceof Vt)Xn.warn(t.message);else{let r=Vr.create("idb-set",{originalErrorMessage:t?.message});Xn.warn(r.message)}}})}function HC(n){return`${n.name}!${n.options.appId}`}var DV=1024,bV=30*24*60*60*1e3,iy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new oy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=bV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=jC(),{heartbeatsToSend:r,unsentEntries:i}=CV(this._heartbeatsCache.heartbeats),o=Wa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xn.warn(t),""}})}};function jC(){return new Date().toISOString().substring(0,10)}function CV(n,e=DV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),BC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var oy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return zg()?SC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield EV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function BC(n){return Wa(JSON.stringify({version:2,heartbeats:n})).length}function TV(n){Ur(new Wt("platform-logger",e=>new Xg(e),"PRIVATE")),Ur(new Wt("heartbeat",e=>new iy(e),"PRIVATE")),Je(ey,LC,n),Je(ey,LC,"esm2017"),Je("fire-js","")}TV("");var SV="firebase",AV="10.14.1";Je(SV,AV,"app");var xi=new Bn("ANGULARFIRE2_VERSION");function wd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Za=(n,e)=>{let t=e?[e]:_d(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},es=class{constructor(){return Za(RV)}},RV="app-check";function Xo(){}var Id=class{zone;delegate;constructor(e,t=Kf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},ay=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),t.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ts=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Id(Zone.current)),this.insideAngular=t.run(()=>new Id(Zone.current,Wf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(De))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ed(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function MV(n){return Ed().ngZone.runOutsideAngular(()=>n())}function Ni(n){return Ed().ngZone.run(()=>n())}function NV(n){return xV(Ed())(n)}function xV(n){return function(t){return t=t.lift(new ay(n.ngZone)),t.pipe(yr(n.outsideAngular),gr(n.insideAngular))}}var PV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ni(()=>n.apply(void 0,r))},on=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo))),r[o]=PV(r[o],t));let i=MV(()=>n.apply(this,r));if(!e)if(i instanceof de){let o=Ed();return i.pipe(yr(o.outsideAngular),gr(o.insideAngular))}else return Ni(()=>i);return i instanceof de?i.pipe(NV):i instanceof Promise?Ni(()=>new Promise((o,s)=>i.then(a=>Ni(()=>o(a)),a=>Ni(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ni(()=>i)};var er=class{constructor(e){return e}},Pi=class{constructor(){return _d()}};function OV(n){return n&&n.length===1?n[0]:new er(Zo())}var cy=new $("angularfire2._apps"),kV={provide:er,useFactory:OV,deps:[[new wt,cy]]},FV={provide:Pi,deps:[[new wt,cy]]};function LV(n){return(e,t)=>{let r=t.get(yn);Je("angularfire",xi.full,"core"),Je("angularfire",xi.full,"app"),Je("angular",K0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new er(i)}}function qC(n,...e){return qt([kV,FV,{provide:cy,useFactory:LV(n),multi:!0,deps:[De,Ct,ts,...e]}])}var zC=on(sy,!0);function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lT=uT,dT=new Zn("auth","Firebase",uT());var Ad=new Lr("@firebase/auth");function VV(n,...e){Ad.logLevel<=me.WARN&&Ad.warn(`Auth (${jr}): ${n}`,...e)}function bd(n,...e){Ad.logLevel<=me.ERROR&&Ad.error(`Auth (${jr}): ${n}`,...e)}function Cn(n,...e){throw My(n,...e)}function Oi(n,...e){return My(n,...e)}function hT(n,e,t){let r=Object.assign(Object.assign({},lT()),{[e]:t});return new Zn("auth","Firebase",r).create(e,{appName:n.name})}function $r(n){return hT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dT.create(n,...e)}function Z(n,e,...t){if(!n)throw My(e,...t)}function tr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw bd(e),new Error(e)}function Hr(n,e){n||tr(e)}function hy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function UV(){return GC()==="http:"||GC()==="https:"}function GC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function jV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UV()||DC()||"connection"in navigator)?navigator.onLine:!0}function BV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ki=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile=wC()||bC()}get(){return jV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ny(n,e){Hr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var HV=new ki(3e4,6e4);function Li(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function qr(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){return fT(n,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ka(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:y},l);return EC()||(v.referrerPolicy="no-referrer"),Rd.fetch()(pT(n,n.config.apiHost,t,p),v)}))})}function fT(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$V),e);try{let i=new fy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw hT(n,h,l);Cn(n,h)}}catch(i){if(i instanceof Vt)throw i;Cn(n,"network-request-failed",{message:String(i)})}})}function Ud(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield qr(n,e,t,r,i);return"mfaPendingCredential"in l&&Cn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function pT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ny(n.config,i):`${n.config.apiScheme}://${i}`}function qV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),HV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Oi(n,e,r);return i.customData._tokenResponse=t,i}function WC(n){return n!==void 0&&n.enterprise!==void 0}var py=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function zV(n,e){return w(this,null,function*(){return qr(n,"GET","/v2/recaptchaConfig",Li(n,e))})}function GV(n,e){return w(this,null,function*(){return qr(n,"POST","/v1/accounts:delete",e)})}function mT(n,e){return w(this,null,function*(){return qr(n,"POST","/v1/accounts:lookup",e)})}function Xa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xy(n,e=!1){return w(this,null,function*(){let t=ht(n),r=yield t.getIdToken(e),i=Py(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xa(uy(i.auth_time)),issuedAtTime:Xa(uy(i.iat)),expirationTime:Xa(uy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function uy(n){return Number(n)*1e3}function Py(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bg(t);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KC(n){let e=Py(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Vt&&WV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function WV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var my=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Md(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield tc(n,mT(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gT(o.providerUserInfo):[],a=KV(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Oy(n){return w(this,null,function*(){let e=ht(n);yield Md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function KV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gT(n){return n.map(e=>{var{providerId:t}=e,r=Qf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function QV(n,e){return w(this,null,function*(){let t=yield fT(n,{},()=>w(this,null,function*(){let r=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=pT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function YV(n,e){return w(this,null,function*(){return qr(n,"POST","/v2/accounts:revokeToken",Li(n,e))})}var ec=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=KC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield QV(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return tr("not implemented")}};function Br(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ns=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new my(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield tc(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return xy(this,e)}reload(){return Oy(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Dn(this.auth.app))return Promise.reject($r(this.auth));let e=yield this.getIdToken();return yield tc(this,GV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:re,isAnonymous:Ee,providerData:J,stsTokenManager:E}=t;Z(U&&E,e,"internal-error");let g=ec.fromJSON(this.name,E);Z(typeof U=="string",e,"internal-error"),Br(p,e.name),Br(y,e.name),Z(typeof re=="boolean",e,"internal-error"),Z(typeof Ee=="boolean",e,"internal-error"),Br(v,e.name),Br(S,e.name),Br(M,e.name),Br(R,e.name),Br(F,e.name),Br(q,e.name);let _=new n({uid:U,auth:e,email:y,emailVerified:re,displayName:p,isAnonymous:Ee,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:g,createdAt:F,lastLoginAt:q});return J&&Array.isArray(J)&&(_.providerData=J.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new ec;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Md(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?gT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ec;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var QC=new Map;function nr(n){Hr(n instanceof Function,"Expected a class definition");let e=QC.get(n);return e?(Hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QC.set(n,e),e)}var JV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),gy=JV;function Cd(n,e,t){return`firebase:${n}:${e}:${t}`}var Nd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(nr(gy),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||nr(gy),s=Cd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=ns._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function YC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(DT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(wT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yT(n=et()){return/firefox\//i.test(n)}function vT(n=et()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(n=et()){return/crios\//i.test(n)}function IT(n=et()){return/iemobile/i.test(n)}function wT(n=et()){return/android/i.test(n)}function ET(n=et()){return/blackberry/i.test(n)}function DT(n=et()){return/webos/i.test(n)}function ky(n=et()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZV(n=et()){var e;return ky(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XV(){return CC()&&document.documentMode===10}function bT(n=et()){return ky(n)||wT(n)||DT(n)||ET(n)||/windows phone/i.test(n)||IT(n)}function CT(n,e=[]){let t;switch(n){case"Browser":t=YC(et());break;case"Worker":t=`${YC(et())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jr}/${r}`}var yy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function eU(t){return w(this,arguments,function*(n,e={}){return qr(n,"GET","/v2/passwordPolicy",Li(n,e))})}var tU=6,vy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:tU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var _y=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xd(this),this.idTokenSubscription=new xd(this),this.beforeStateQueue=new yy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nr(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield mT(this,{idToken:e}),r=yield ns._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Dn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=BV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Dn(this.app))return Promise.reject($r(this));let t=e?ht(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Dn(this.app)?Promise.reject($r(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject($r(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield eU(this),t=new vy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield YV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&nr(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&VV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function rs(n){return ht(n)}var xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nU(n){jd=n}function TT(n){return jd.loadJS(n)}function rU(){return jd.recaptchaEnterpriseScript}function iU(){return jd.gapiScript}function ST(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var oU="recaptcha-enterprise",sU="NO_RECAPTCHA",Iy=class{constructor(e){this.type=oU,this.auth=rs(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){zV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new py(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;WC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&WC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rU();u.length!==0&&(u+=a),TT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function JC(n,e,t,r=!1){return w(this,null,function*(){let i=new Iy(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function ZC(n,e,t,r){return w(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield JC(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield JC(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function Fy(n,e){let t=Ja(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ri(o,e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}function aU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ly(n,e,t){let r=rs(n);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=AT(e),{host:s,port:a}=cU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uU()}function AT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cU(n){let e=AT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:XC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:XC(s)}}}function XC(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function uU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var rc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}};function lU(n,e){return w(this,null,function*(){return qr(n,"POST","/v1/accounts:signUp",e)})}function dU(n,e){return w(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithPassword",Li(n,e))})}function hU(n,e){return w(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))})}function fU(n,e){return w(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))})}var ic=class n extends rc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZC(e,t,"signInWithPassword",dU);case"emailLink":return hU(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZC(e,r,"signUpPassword",lU);case"emailLink":return fU(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ly(n,e){return w(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithIdp",Li(n,e))})}function pU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mU(n){let e=Yo(Jo(n)).link,t=e?Yo(Jo(e)).deep_link_id:null,r=Yo(Jo(n)).deep_link_id;return(r?Yo(Jo(r)).link:null)||r||t||e||n}var Pd=class n{constructor(e){var t,r,i,o,s,a;let u=Yo(Jo(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=pU((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=mU(e);try{return new n(t)}catch{return null}}};var RT=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ic._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Pd.parseLink(r);return Z(i,"argument-error"),ic._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wy=class extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var oc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield ns._fromIdTokenResponse(e,r,i),s=eT(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function eT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Ey=class n extends Vt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function MT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(n,o,e,r):o})}function gU(n,e,t=!1){return w(this,null,function*(){let r=yield tc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return oc._forOperation(n,"link",r)})}function yU(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Dn(r.app))return Promise.reject($r(r));let i="reauthenticate";try{let o=yield tc(n,MT(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=Py(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),oc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}})}function NT(n,e,t=!1){return w(this,null,function*(){if(Dn(n.app))return Promise.reject($r(n));let r="signIn",i=yield MT(n,r,e),o=yield oc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Vy(n,e){return w(this,null,function*(){return NT(rs(n),e)})}function vU(n){return w(this,null,function*(){let e=rs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Uy(n,e,t){return Dn(n.app)?Promise.reject($r(n)):Vy(ht(n),RT.credential(e,t)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&vU(n),r}))}function jy(n,e,t,r){return ht(n).onIdTokenChanged(e,t,r)}function By(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function $y(n){return ht(n).signOut()}var kd="__sak";var Fd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _U=1e3,IU=10,wU=(()=>{class n extends Fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);XV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield pr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield pr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield pr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xT=wU;var EU=(()=>{class n extends Fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Hy=EU;function DU(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var bU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield DU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function PT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Dy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=PT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function bn(){return window}function CU(n){bn().location.href=n}function OT(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}function TU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function SU(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AU(){return OT()?self:null}var kT="firebaseLocalStorageDb",RU=1,Ld="firebaseLocalStorage",FT="fbase_key",Fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bd(n,e){return n.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function MU(){let n=indexedDB.deleteDatabase(kT);return new Fi(n).toPromise()}function by(){let n=indexedDB.open(kT,RU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ld,{keyPath:FT})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),yield MU(),e(yield by()))}))})}function tT(n,e,t){return w(this,null,function*(){let r=Bd(n,!0).put({[FT]:e,value:t});return new Fi(r).toPromise()})}function NU(n,e){return w(this,null,function*(){let t=Bd(n,!1).get(e),r=yield new Fi(t).toPromise();return r===void 0?null:r.value})}function nT(n,e){let t=Bd(n,!0).delete(e);return new Fi(t).toPromise()}var xU=800,PU=3,OU=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield by(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>PU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return OT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=bU._getInstance(AU()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield TU(),!this.activeServiceWorker)return;this.sender=new Dy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||SU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield by();return yield tT(t,kd,"1"),yield nT(t,kd),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>tT(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>NU(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>nT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=Bd(o,!1).getAll();return new Fi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),xU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),LT=OU;var m8=ST("rcb"),g8=new ki(3e4,6e4);function kU(n,e){return e?nr(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var sc=class extends rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ly(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ly(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ly(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function FU(n){return NT(n.auth,new sc(n),n.bypassAuthState)}function LU(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),yU(t,new sc(n),n.bypassAuthState)}function VU(n){return w(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),gU(t,new sc(n),n.bypassAuthState)})}var Cy=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FU;case"linkViaPopup":case"linkViaRedirect":return VU;case"reauthViaPopup":case"reauthViaRedirect":return LU;default:Cn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var y8=new ki(2e3,1e4);var UU="pendingRedirect",Td=new Map,Ty=class n extends Cy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Td.get(this.auth._key());if(!e){try{let r=(yield jU(this.resolver,this.auth))?yield pr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return pr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,pr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function jU(n,e){return w(this,null,function*(){let t=HU(e),r=$U(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function BU(n,e){Td.set(n._key(),e)}function $U(n){return nr(n._redirectPersistence)}function HU(n){return Cd(UU,n.config.apiKey,n.name)}function qU(n,e,t=!1){return w(this,null,function*(){if(Dn(n.app))return Promise.reject($r(n));let r=rs(n),i=kU(r,e),s=yield new Ty(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var zU=10*60*1e3,Sy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!VT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zU&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}};function rT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function GU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(n);default:return!1}}function WU(t){return w(this,arguments,function*(n,e={}){return qr(n,"GET","/v1/projects",e)})}var KU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QU=/^https?/;function YU(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield WU(n);for(let t of e)try{if(JU(t))return}catch{}Cn(n,"unauthorized-domain")})}function JU(n){let e=hy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!QU.test(t))return!1;if(KU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZU=new ki(3e4,6e4);function iT(){let n=bn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XU(n){return new Promise((e,t)=>{var r,i,o;function s(){iT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iT(),t(Oi(n,"network-request-failed"))},timeout:ZU.get()})}if(!((i=(r=bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=bn().gapi)===null||o===void 0)&&o.load)s();else{let a=ST("iframefcb");return bn()[a]=()=>{gapi.load?s():t(Oi(n,"network-request-failed"))},TT(`${iU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Sd=null,e})}var Sd=null;function ej(n){return Sd=Sd||XU(n),Sd}var tj=new ki(5e3,15e3),nj="__/auth/iframe",rj="emulator/auth/iframe",ij={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sj(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ny(e,rj):`https://${n.config.authDomain}/${nj}`,r={apiKey:e.apiKey,appName:n.name,v:jr},i=oj.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ka(r).slice(1)}`}function aj(n){return w(this,null,function*(){let e=yield ej(n),t=bn().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:sj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ij,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Oi(n,"network-request-failed"),a=bn().setTimeout(()=>{o(s)},tj.get());function u(){bn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var cj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uj=500,lj=600,dj="_blank",hj="http://localhost",Vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fj(n,e,t,r=uj,i=lj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},cj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();t&&(a=_T(l)?dj:t),yT(l)&&(e=e||hj,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[v,S])=>`${y}${v}=${S},`,"");if(ZV(l)&&a!=="_self")return pj(e||"",a),new Vd(null);let p=window.open(e||"",a,h);Z(p,n,"popup-blocked");try{p.focus()}catch{}return new Vd(p)}function pj(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var mj="__/auth/handler",gj="emulator/auth/handler",yj=encodeURIComponent("fac");function oT(n,e,t,r,i,o){return w(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:jr,eventId:i};if(e instanceof Od){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",AC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof wy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${yj}=${encodeURIComponent(u)}`:"";return`${vj(n)}?${Ka(a).slice(1)}${l}`})}function vj({config:n}){return n.emulator?Ny(n,gj):`https://${n.authDomain}/${mj}`}var dy="webStorageSupport",Ay=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hy,this._completeRedirectFn=qU,this._overrideRedirectResult=BU}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield oT(e,t,r,hy(),i);return fj(e,s,PT())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield oT(e,t,r,hy(),i);return CU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield aj(e),r=new Sy(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dy,{type:dy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[dy];s!==void 0&&t(!!s),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bT()||vT()||ky()}},UT=Ay;var sT="@firebase/auth",aT="1.7.9";var Ry=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _j(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ij(n){Ur(new Wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(n)},l=new _y(r,i,o,u);return aU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new Wt("auth-internal",e=>{let t=rs(e.getProvider("auth").getImmediate());return(r=>new Ry(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(sT,aT,_j(n)),Je(sT,aT,"esm2017")}var wj=5*60,Ej=qg("authIdTokenMaxAge")||wj,cT=null,Dj=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ej)return;let i=t?.token;cT!==i&&(cT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qy(n=Zo()){let e=Ja(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Fy(n,{popupRedirectResolver:UT,persistence:[LT,xT,Hy]}),r=qg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Dj(o.toString());By(t,s,()=>s(t.currentUser)),jy(t,a=>s(a))}}let i=$g("auth");return i&&Ly(t,`http://${i}`),t}function bj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Oi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",bj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ij("Browser");var jT="auth",sn=class{constructor(e){return e}},ac=class{constructor(){return Za(jT)}};var zy=new $("angularfire2.auth-instances");function m2(n,e){let t=wd(jT,n,e);return t&&new sn(t)}function g2(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sn(r)}}var y2={provide:ac,deps:[[new wt,zy]]},v2={provide:sn,useFactory:m2,deps:[[new wt,zy],er]};function BT(n,...e){return Je("angularfire",xi.full,"auth"),qt([v2,y2,{provide:zy,useFactory:g2(n),multi:!0,deps:[De,Ct,ts,Pi,[new wt,es],...e]}])}var $T=on(qy,!0);var HT=on(Uy,!0);var qT=on($y,!0);var $d=class n{constructor(e){this.http=e}apiUrl="https://api.github.com/users/octaviovillegas";getUserData(){return this.http.get(this.apiUrl)}static \u0275fac=function(t){return new(t||n)(K(ba))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function I2(n,e){if(n&1){let t=Lo();V(0,"div")(1,"button",1),Ce("click",function(){yi(t);let i=ze();return vi(i.CerrarSesion())}),j(2,"Cerrar sesion"),x()()}}function w2(n,e){if(n&1&&(V(0,"div")(1,"h1"),j(2),x(),qe(3,"img",2),V(4,"p")(5,"strong"),j(6,"Usuario de GitHub:"),x(),j(7),x(),V(8,"p")(9,"strong"),j(10,"N\xFAmero de Repositorios:"),x(),j(11),x()()),n&2){let t=ze();Q(2),dt("Bienvenido ",t.userData.name,""),Q(),ya("alt",t.userData.name),ue("src",t.userData.avatar_url,Al),Q(4),dt(" ",t.userData.login,""),Q(4),dt(" ",t.userData.public_repos,"")}}var Hd=class n{constructor(e,t,r){this.githubService=e;this.auth=t;this.router=r}userData;user;ngOnInit(){this.githubService.getUserData().subscribe(e=>{this.userData=e},e=>{console.error("Error fetching data from GitHub",e)}),this.auth.onAuthStateChanged(e=>{this.user=e})}IrAOtraRuta(e){this.router.navigate([e])}CerrarSesion(){qT(this.auth).then(()=>{this.router.navigate(["/"])})}static \u0275fac=function(t){return new(t||n)(W($d),W(sn),W(wn))};static \u0275cmp=$e({type:n,selectors:[["app-bienvenido"]],standalone:!0,features:[Ge],decls:2,vars:2,consts:[[4,"ngIf"],[3,"click"],["width","200",3,"src","alt"]],template:function(t,r){t&1&&xe(0,I2,3,0,"div",0)(1,w2,12,5,"div",0),t&2&&(ue("ngIf",r.user),Q(),ue("ngIf",!r.user))},dependencies:[Et,_n]})};var XT=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(W(Po),W(_i))}}static{this.\u0275dir=He({type:n})}}return n})(),Zy=(()=>{class n extends XT{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,features:[kt]})}}return n})(),pc=new $(""),E2={provide:pc,useExisting:en(()=>Xy),multi:!0},Xy=(()=>{class n extends Zy{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Wn([E2]),kt]})}}return n})(),D2={provide:pc,useExisting:en(()=>cs),multi:!0};function b2(){let n=Kn()?Kn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C2=new $(""),cs=(()=>{class n extends XT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!b2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(W(Po),W(_i),W(C2,8))}}static{this.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Wn([D2]),kt]})}}return n})();function Gr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function eS(n){return n!=null&&typeof n.length=="number"}var mc=new $(""),Xd=new $(""),T2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rt=class{static min(e){return S2(e)}static max(e){return A2(e)}static required(e){return tS(e)}static requiredTrue(e){return R2(e)}static email(e){return M2(e)}static minLength(e){return N2(e)}static maxLength(e){return x2(e)}static pattern(e){return P2(e)}static nullValidator(e){return zd(e)}static compose(e){return aS(e)}static composeAsync(e){return cS(e)}};function S2(n){return e=>{if(Gr(e.value)||Gr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function A2(n){return e=>{if(Gr(e.value)||Gr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function tS(n){return Gr(n.value)?{required:!0}:null}function R2(n){return n.value===!0?null:{required:!0}}function M2(n){return Gr(n.value)||T2.test(n.value)?null:{email:!0}}function N2(n){return e=>Gr(e.value)||!eS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function x2(n){return e=>eS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function P2(n){if(!n)return zd;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Gr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function zd(n){return null}function nS(n){return n!=null}function rS(n){return Ei(n)?Oe(n):n}function iS(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function oS(n,e){return e.map(t=>t(n))}function O2(n){return!n.validate}function sS(n){return n.map(e=>O2(e)?e:t=>e.validate(t))}function aS(n){if(!n)return null;let e=n.filter(nS);return e.length==0?null:function(t){return iS(oS(t,e))}}function ev(n){return n!=null?aS(sS(n)):null}function cS(n){if(!n)return null;let e=n.filter(nS);return e.length==0?null:function(t){let r=oS(t,e).map(rS);return Zf(r).pipe(oe(iS))}}function tv(n){return n!=null?cS(sS(n)):null}function zT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uS(n){return n._rawValidators}function lS(n){return n._rawAsyncValidators}function Wy(n){return n?Array.isArray(n)?n:[n]:[]}function Gd(n,e){return Array.isArray(n)?n.includes(e):n===e}function GT(n,e){let t=Wy(e);return Wy(n).forEach(i=>{Gd(t,i)||t.push(i)}),t}function WT(n,e){return Wy(e).filter(t=>!Gd(n,t))}var Wd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},rr=class extends Wd{get formDirective(){return null}get path(){return null}},Vi=class extends Wd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},k2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},I5=le(L({},k2),{"[class.ng-submitted]":"isSubmitted"}),eh=(()=>{class n extends Kd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(Vi,2))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[kt]})}}return n})(),th=(()=>{class n extends Kd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(rr,10))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Fl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[kt]})}}return n})();var cc="VALID",qd="INVALID",is="PENDING",uc="DISABLED",Wr=class{},Qd=class extends Wr{constructor(e,t){super(),this.value=e,this.source=t}},dc=class extends Wr{constructor(e,t){super(),this.pristine=e,this.source=t}},hc=class extends Wr{constructor(e,t){super(),this.touched=e,this.source=t}},os=class extends Wr{constructor(e,t){super(),this.status=e,this.source=t}},Ky=class extends Wr{constructor(e){super(),this.source=e}},Qy=class extends Wr{constructor(e){super(),this.source=e}};function nv(n){return(nh(n)?n.validators:n)||null}function F2(n){return Array.isArray(n)?ev(n):n||null}function rv(n,e){return(nh(e)?e.asyncValidators:n)||null}function L2(n){return Array.isArray(n)?tv(n):n||null}function nh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dS(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function hS(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var ss=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vo(()=>this.statusReactive()),this.statusReactive=Fo(void 0),this._pristine=Vo(()=>this.pristineReactive()),this.pristineReactive=Fo(!0),this._touched=Vo(()=>this.touchedReactive()),this.touchedReactive=Fo(!1),this._events=new rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vn(this.statusReactive)}set status(e){vn(()=>this.statusReactive.set(e))}get valid(){return this.status===cc}get invalid(){return this.status===qd}get pending(){return this.status==is}get disabled(){return this.status===uc}get enabled(){return this.status!==uc}get pristine(){return vn(this.pristineReactive)}set pristine(e){vn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vn(this.touchedReactive)}set touched(e){vn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WT(e,this._rawAsyncValidators))}hasValidator(e){return Gd(this._rawValidators,e)}hasAsyncValidator(e){return Gd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new hc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new hc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new dc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new dc(!0,r))}markAsPending(e={}){this.status=is;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new os(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=uc,this.errors=null,this._forEachChild(i=>{i.disable(le(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qd(this.value,r)),this._events.next(new os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable(le(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===is)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qd(this.value,t)),this._events.next(new os(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uc:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=is,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=rS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new os(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?uc:this.errors?qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(is)?is:this._anyControlsHaveStatus(qd)?qd:cc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new dc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new hc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=F2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L2(this._rawAsyncValidators)}},as=class extends ss{constructor(e,t,r){super(nv(t),rv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hS(this,!0,e),Object.keys(e).forEach(r=>{dS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Yy=class extends as{};var gc=new $("CallSetDisabledState",{providedIn:"root",factory:()=>rh}),rh="always";function fS(n,e){return[...e.path,n]}function Yd(n,e,t=rh){iv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),U2(n,e),B2(n,e),j2(n,e),V2(n,e)}function KT(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function V2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function iv(n,e){let t=uS(n);e.validator!==null?n.setValidators(zT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lS(n);e.asyncValidator!==null?n.setAsyncValidators(zT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jd(e._rawValidators,i),Jd(e._rawAsyncValidators,i)}function Zd(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=uS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=lS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Jd(e._rawValidators,r),Jd(e._rawAsyncValidators,r),t}function U2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pS(n,e)})}function j2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function mS(n,e){n==null,iv(n,e)}function $2(n,e){return Zd(n,e)}function gS(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function H2(n){return Object.getPrototypeOf(n.constructor)===Zy}function yS(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vS(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===cs?t=o:H2(o)?r=o:i=o}),i||r||t||null}function q2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var z2={provide:rr,useExisting:en(()=>ov)},lc=Promise.resolve(),ov=(()=>{class n extends rr{get submitted(){return vn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Vo(()=>this.submittedReactive()),this.submittedReactive=Fo(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new as({},ev(t),tv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lc.then(()=>{let r=this._findContainer(t.path),i=new as({});mS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){lc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),yS(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(W(mc,10),W(Xd,10),W(gc,8))}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wn([z2]),kt]})}}return n})();function QT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var fc=class extends ss{constructor(e=null,t,r){super(nv(t),rv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var G2=n=>n instanceof fc;var W2={provide:Vi,useExisting:en(()=>sv)},JT=Promise.resolve(),sv=(()=>{class n extends Vi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new fc,this._registered=!1,this.name="",this.update=new Re,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vS(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){JT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&va(r);JT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?fS(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(W(rr,9),W(mc,10),W(Xd,10),W(pc,10),W(Di,8),W(gc,8))}}static{this.\u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wn([W2]),kt,Gn]})}}return n})(),ih=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),K2={provide:pc,useExisting:en(()=>av),multi:!0},av=(()=>{class n extends Zy{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Wn([K2]),kt]})}}return n})();var _S=new $("");var Q2={provide:rr,useExisting:en(()=>cv)},cv=(()=>{class n extends rr{get submitted(){return vn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Vo(()=>this._submittedReactive()),this._submittedReactive=Fo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Yd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){KT(t.control||null,t,!1),q2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),yS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ky(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Qy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(KT(r||null,t),G2(i)&&(Yd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);mS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&$2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iv(this.form,this),this._oldForm&&Zd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(W(mc,10),W(Xd,10),W(gc,8))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wn([Q2]),kt,Gn]})}}return n})();var Y2={provide:Vi,useExisting:en(()=>uv)},uv=(()=>{class n extends Vi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vS(this,o)}ngOnChanges(t){this._added||this._setUpControl(),gS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(W(rr,13),W(mc,10),W(Xd,10),W(pc,10),W(_S,8))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wn([Y2]),kt,Gn]})}}return n})();var J2=(()=>{class n{constructor(){this._validator=zd}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,features:[Gn]})}}return n})();var Z2={provide:mc,useExisting:en(()=>yc),multi:!0};var yc=(()=>{class n extends J2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=va,this.createValidator=t=>tS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rr(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&kl("required",i._enabled?"":null)},inputs:{required:"required"},features:[Wn([Z2]),kt]})}}return n})();var IS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({})}}return n})(),Jy=class extends ss{constructor(e,t,r){super(nv(t),rv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hS(this,!1,e),e.forEach((r,i)=>{dS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ZT(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var wS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return ZT(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new as(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Yy(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ZT(r)?o=r:(o.validators=r,o.asyncValidators=i),new fc(t,le(L({},o),{nonNullable:!0}))):new fc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Jy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof fc)return t;if(t instanceof ss)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gc,useValue:t.callSetDisabledState??rh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({imports:[IS]})}}return n})(),ES=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_S,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gc,useValue:t.callSetDisabledState??rh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=$n({imports:[IS]})}}return n})();var bS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CS={};var Kr,lv;(function(){var n;function e(E,g){function _(){}_.prototype=g.prototype,E.D=g.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,b,T){for(var I=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)I[Pn-2]=arguments[Pn];return g.prototype[b].apply(D,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,_){_||(_=0);var D=Array(16);if(typeof g=="string")for(var b=0;16>b;++b)D[b]=g.charCodeAt(_++)|g.charCodeAt(_++)<<8|g.charCodeAt(_++)<<16|g.charCodeAt(_++)<<24;else for(b=0;16>b;++b)D[b]=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24;g=E.g[0],_=E.g[1],b=E.g[2];var T=E.g[3],I=g+(T^_&(b^T))+D[0]+3614090360&4294967295;g=_+(I<<7&4294967295|I>>>25),I=T+(b^g&(_^b))+D[1]+3905402710&4294967295,T=g+(I<<12&4294967295|I>>>20),I=b+(_^T&(g^_))+D[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(g^b&(T^g))+D[3]+3250441966&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(T^_&(b^T))+D[4]+4118548399&4294967295,g=_+(I<<7&4294967295|I>>>25),I=T+(b^g&(_^b))+D[5]+1200080426&4294967295,T=g+(I<<12&4294967295|I>>>20),I=b+(_^T&(g^_))+D[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(g^b&(T^g))+D[7]+4249261313&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(T^_&(b^T))+D[8]+1770035416&4294967295,g=_+(I<<7&4294967295|I>>>25),I=T+(b^g&(_^b))+D[9]+2336552879&4294967295,T=g+(I<<12&4294967295|I>>>20),I=b+(_^T&(g^_))+D[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(g^b&(T^g))+D[11]+2304563134&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(T^_&(b^T))+D[12]+1804603682&4294967295,g=_+(I<<7&4294967295|I>>>25),I=T+(b^g&(_^b))+D[13]+4254626195&4294967295,T=g+(I<<12&4294967295|I>>>20),I=b+(_^T&(g^_))+D[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(g^b&(T^g))+D[15]+1236535329&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(b^T&(_^b))+D[1]+4129170786&4294967295,g=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(g^_))+D[6]+3225465664&4294967295,T=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(T^g))+D[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^g&(b^T))+D[0]+3921069994&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^T&(_^b))+D[5]+3593408605&4294967295,g=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(g^_))+D[10]+38016083&4294967295,T=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(T^g))+D[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^g&(b^T))+D[4]+3889429448&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^T&(_^b))+D[9]+568446438&4294967295,g=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(g^_))+D[14]+3275163606&4294967295,T=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(T^g))+D[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^g&(b^T))+D[8]+1163531501&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^T&(_^b))+D[13]+2850285829&4294967295,g=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(g^_))+D[2]+4243563512&4294967295,T=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(T^g))+D[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^g&(b^T))+D[12]+2368359562&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(_^b^T)+D[5]+4294588738&4294967295,g=_+(I<<4&4294967295|I>>>28),I=T+(g^_^b)+D[8]+2272392833&4294967295,T=g+(I<<11&4294967295|I>>>21),I=b+(T^g^_)+D[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^g)+D[14]+4259657740&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^T)+D[1]+2763975236&4294967295,g=_+(I<<4&4294967295|I>>>28),I=T+(g^_^b)+D[4]+1272893353&4294967295,T=g+(I<<11&4294967295|I>>>21),I=b+(T^g^_)+D[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^g)+D[10]+3200236656&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^T)+D[13]+681279174&4294967295,g=_+(I<<4&4294967295|I>>>28),I=T+(g^_^b)+D[0]+3936430074&4294967295,T=g+(I<<11&4294967295|I>>>21),I=b+(T^g^_)+D[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^g)+D[6]+76029189&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^T)+D[9]+3654602809&4294967295,g=_+(I<<4&4294967295|I>>>28),I=T+(g^_^b)+D[12]+3873151461&4294967295,T=g+(I<<11&4294967295|I>>>21),I=b+(T^g^_)+D[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^g)+D[2]+3299628645&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(b^(_|~T))+D[0]+4096336452&4294967295,g=_+(I<<6&4294967295|I>>>26),I=T+(_^(g|~b))+D[7]+1126891415&4294967295,T=g+(I<<10&4294967295|I>>>22),I=b+(g^(T|~_))+D[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~g))+D[5]+4237533241&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~T))+D[12]+1700485571&4294967295,g=_+(I<<6&4294967295|I>>>26),I=T+(_^(g|~b))+D[3]+2399980690&4294967295,T=g+(I<<10&4294967295|I>>>22),I=b+(g^(T|~_))+D[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~g))+D[1]+2240044497&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~T))+D[8]+1873313359&4294967295,g=_+(I<<6&4294967295|I>>>26),I=T+(_^(g|~b))+D[15]+4264355552&4294967295,T=g+(I<<10&4294967295|I>>>22),I=b+(g^(T|~_))+D[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~g))+D[13]+1309151649&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~T))+D[4]+4149444226&4294967295,g=_+(I<<6&4294967295|I>>>26),I=T+(_^(g|~b))+D[11]+3174756917&4294967295,T=g+(I<<10&4294967295|I>>>22),I=b+(g^(T|~_))+D[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~g))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var _=g-this.blockSize,D=this.B,b=this.h,T=0;T<g;){if(b==0)for(;T<=_;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<g;)if(D[b++]=E.charCodeAt(T++),b==this.blockSize){i(this,D),b=0;break}}else for(;T<g;)if(D[b++]=E[T++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var _=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=_&255,_/=256;for(this.u(E),E=Array(16),g=_=0;4>g;++g)for(var D=0;32>D;D+=8)E[_++]=this.g[g]>>>D&255;return E};function o(E,g){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=g(E)}function s(E,g){this.h=g;for(var _=[],D=!0,b=E.length-1;0<=b;b--){var T=E[b]|0;D&&T==g||(_[b]=T,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(g){return new s([g|0],0>g?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var g=[],_=1,D=0;E>=_;D++)g[D]=E/_|0,_*=4294967296;return new s(g,0)}function h(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return R(h(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(g,8)),D=p,b=0;b<E.length;b+=8){var T=Math.min(8,E.length-b),I=parseInt(E.substring(b,b+T),g);8>T?(T=l(Math.pow(g,T)),D=D.j(T).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),y=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var E=0,g=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*g,g*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var g=l(Math.pow(E,6)),_=this,D="";;){var b=re(_,g).g;_=F(_,b.j(g));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=b,S(_))return T+D;for(;6>T.length;)T="0"+T;D=T+D}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=F(this,E),M(E)?-1:S(E)?0:1};function R(E){for(var g=E.g.length,_=[],D=0;D<g;D++)_[D]=~E.g[D];return new s(_,~E.h).add(y)}n.abs=function(){return M(this)?R(this):this},n.add=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],D=0,b=0;b<=g;b++){var T=D+(this.i(b)&65535)+(E.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);D=I>>>16,T&=65535,I&=65535,_[b]=I<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(E,g){return E.add(R(g))}n.j=function(E){if(S(this)||S(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var g=this.g.length+E.g.length,_=[],D=0;D<2*g;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<E.g.length;b++){var T=this.i(D)>>>16,I=this.i(D)&65535,Pn=E.i(b)>>>16,Os=E.i(b)&65535;_[2*D+2*b]+=I*Os,q(_,2*D+2*b),_[2*D+2*b+1]+=T*Os,q(_,2*D+2*b+1),_[2*D+2*b+1]+=I*Pn,q(_,2*D+2*b+1),_[2*D+2*b+2]+=T*Pn,q(_,2*D+2*b+2)}for(D=0;D<g;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=g;D<2*g;D++)_[D]=0;return new s(_,0)};function q(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function U(E,g){this.g=E,this.h=g}function re(E,g){if(S(g))throw Error("division by zero");if(S(E))return new U(p,p);if(M(E))return g=re(R(E),g),new U(R(g.g),R(g.h));if(M(g))return g=re(E,R(g)),new U(R(g.g),g.h);if(30<E.g.length){if(M(E)||M(g))throw Error("slowDivide_ only works with positive integers.");for(var _=y,D=g;0>=D.l(E);)_=Ee(_),D=Ee(D);var b=J(_,1),T=J(D,1);for(D=J(D,2),_=J(_,2);!S(D);){var I=T.add(D);0>=I.l(E)&&(b=b.add(_),T=I),D=J(D,1),_=J(_,1)}return g=F(E,b.j(g)),new U(b,g)}for(b=p;0<=E.l(g);){for(_=Math.max(1,Math.floor(E.m()/g.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),T=l(_),I=T.j(g);M(I)||0<I.l(E);)_-=D,T=l(_),I=T.j(g);S(T)&&(T=y),b=b.add(T),E=F(E,I)}return new U(b,E)}n.A=function(E){return re(this,E).h},n.and=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],D=0;D<g;D++)_[D]=this.i(D)&E.i(D);return new s(_,this.h&E.h)},n.or=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],D=0;D<g;D++)_[D]=this.i(D)|E.i(D);return new s(_,this.h|E.h)},n.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],D=0;D<g;D++)_[D]=this.i(D)^E.i(D);return new s(_,this.h^E.h)};function Ee(E){for(var g=E.g.length+1,_=[],D=0;D<g;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(_,E.h)}function J(E,g){var _=g>>5;g%=32;for(var D=E.g.length-_,b=[],T=0;T<D;T++)b[T]=0<g?E.i(T+_)>>>g|E.i(T+_+1)<<32-g:E.i(T+_);return new s(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lv=CS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Kr=CS.Integer=s}).apply(typeof bS<"u"?bS:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={};var dv,X2,us,hv,vc,ah,fv,pv,mv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var O=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)O[Se-2]=arguments[Se];return d.prototype[C].apply(m,O)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let O=0;O<A;O++)c[C+O]=m[O]}else c.push(m)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Ee=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function J(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function g(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=of;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Pn{constructor(){this.h=this.g=null}add(d,f){let m=Os.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Os=new F(()=>new IR,c=>c.reset());class IR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ks,Fs=!1,of=new Pn,gI=()=>{let c=a.Promise.resolve(void 0);ks=()=>{c.then(wR)}};var wR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Os;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fs=!1};function lr(){this.s=this.s,this.C=this.C}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ER=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ls(c,d){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ee){e:{try{re(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:DR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ls.aa.h.call(this)}}S(Ls,at);var DR={2:"touch",3:"pen",4:"mouse"};Ls.prototype.h=function(){Ls.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vs="closure_listenable_"+(1e6*Math.random()|0),bR=0;function CR(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++bR,this.da=this.fa=!1}function $c(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hc(c){this.src=c,this.g={},this.h=0}Hc.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=af(c,d,m,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new CR(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function sf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&($c(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function af(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var cf="closure_lm_"+(1e6*Math.random()|0),uf={};function yI(c,d,f,m,C){if(m&&m.once)return _I(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)yI(c,d[A],f,m,C);return null}return f=ff(f),c&&c[Vs]?c.K(d,f,l(m)?!!m.capture:!!m,C):vI(c,d,f,!1,m,C)}function vI(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Se=df(c);if(Se||(c[cf]=Se=new Hc(c)),f=Se.add(d,f,m,O,A),f.proxy)return f;if(m=TR(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)ER||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(wI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function TR(){function c(f){return d.call(c.src,c.listener,f)}let d=SR;return c}function _I(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)_I(c,d[A],f,m,C);return null}return f=ff(f),c&&c[Vs]?c.L(d,f,l(m)?!!m.capture:!!m,C):vI(c,d,f,!0,m,C)}function II(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)II(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=ff(f),c&&c[Vs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=af(A,f,m,C),-1<f&&($c(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=df(c))&&(d=c.g[d.toString()],c=-1,d&&(c=af(d,f,m,C)),(f=-1<c?d[c]:null)&&lf(f))}function lf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Vs])sf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(wI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=df(d))?(sf(f,c),f.h==0&&(f.src=null,d[cf]=null)):$c(c)}}}function wI(c){return c in uf?uf[c]:uf[c]="on"+c}function SR(c,d){if(c.da)c=!0;else{d=new Ls(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&lf(c),c=f.call(m,d)}return c}function df(c){return c=c[cf],c instanceof Hc?c:null}var hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ff(c){return typeof c=="function"?c:(c[hf]||(c[hf]=function(d){return c.handleEvent(d)}),c[hf])}function ct(){lr.call(this),this.i=new Hc(this),this.M=this,this.F=null}S(ct,lr),ct.prototype[Vs]=!0,ct.prototype.removeEventListener=function(c,d,f,m){II(this,c,d,f,m)};function gt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new at(d,c);else if(d instanceof at)d.target=d.target||c;else{var C=d;d=new at(m,c),D(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];C=qc(O,m,!0,d)&&C}if(O=d.g=c,C=qc(O,m,!0,d)&&C,C=qc(O,m,!1,d)&&C,f)for(A=0;A<f.length;A++)O=d.g=f[A],C=qc(O,m,!1,d)&&C}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)$c(f[m]);delete c.g[d],c.h--}}this.F=null},ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function qc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Se=O.listener,nt=O.ha||O.src;O.fa&&sf(c.i,O),C=Se.call(nt,m)!==!1&&C}}return C&&!m.defaultPrevented}function EI(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function DI(c){c.g=EI(()=>{c.g=null,c.i&&(c.i=!1,DI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class AR extends lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(c){lr.call(this),this.h=c,this.g={}}S(Us,lr);var bI=[];function CI(c){J(c.g,function(d,f){this.g.hasOwnProperty(f)&&lf(d)},c),c.g={}}Us.prototype.N=function(){Us.aa.N.call(this),CI(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pf=a.JSON.stringify,RR=a.JSON.parse,MR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function mf(){}mf.prototype.h=null;function TI(c){return c.h||(c.h=c.i())}function SI(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gf(){at.call(this,"d")}S(gf,at);function yf(){at.call(this,"c")}S(yf,at);var Xr={},AI=null;function zc(){return AI=AI||new ct}Xr.La="serverreachability";function RI(c){at.call(this,Xr.La,c)}S(RI,at);function Bs(c){let d=zc();gt(d,new RI(d))}Xr.STAT_EVENT="statevent";function MI(c,d){at.call(this,Xr.STAT_EVENT,c),this.stat=d}S(MI,at);function yt(c){let d=zc();gt(d,new MI(d,c))}Xr.Ma="timingevent";function NI(c,d){at.call(this,Xr.Ma,c),this.size=d}S(NI,at);function $s(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function NR(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var O="",Se=A.split("&"),nt=0;nt<Se.length;nt++){var Ie=Se[nt].split("=");if(1<Ie.length){var ut=Ie[0];Ie=Ie[1];var lt=ut.split("_");O=2<=lt.length&&lt[1]=="type"?O+(ut+"="+Ie+"&"):O+(ut+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function xR(c,d,f,m,C,A,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+O})}function Yi(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+OR(c,f)+(m?" "+m:"")})}function PR(c,d){c.info(function(){return"TIMEOUT: "+d})}Hs.prototype.info=function(){};function OR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return pf(f)}catch{return d}}var Gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vf;function Wc(){}S(Wc,mf),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},vf=new Wc;function dr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var OI={},_f={};function If(c,d,f){c.L=1,c.v=Jc(On(d)),c.m=f,c.P=!0,kI(c,null)}function kI(c,d){c.F=Date.now(),Kc(c),c.A=On(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),QI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new PI,c.g=fw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new AR(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(bI[0]=C.toString()),C=bI);for(var A=0;A<C.length;A++){var O=yI(f,C[A],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Bs(),NR(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&kn(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{let lt=kn(this.g);var d=this.g.Ba();let Xi=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||nw(this.g)))){this.J||lt!=4||d==7||(d==8||0>=Xi?Bs(3):Bs(2)),wf(this);var f=this.g.Z();this.X=f;t:if(FI(this)){var m=nw(this.g);c="";var C=m.length,A=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),qs(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,xR(this.i,this.u,this.A,this.l,this.R,lt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,nt=this.g;if((Se=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Se)){var Ie=Se;break t}}Ie=null}if(f=Ie)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ef(this,f);else{this.o=!1,this.s=3,yt(12),ei(this),qs(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<O.length;)if(Qt=kR(this,O),Qt==_f){lt==4&&(this.s=4,yt(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==OI){this.s=4,yt(15),Yi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,Qt,null),Ef(this,Qt);if(FI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||O.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,O,"[Invalid Chunked Response]"),ei(this),qs(this);else if(0<O.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Af(ut),ut.M=!0,yt(11))}}else Yi(this.i,this.l,O,null),Ef(this,O);lt==4&&ei(this),this.o&&!this.J&&(lt==4?uw(this.j,this):(this.o=!1,Kc(this)))}else ZR(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ei(this),qs(this)}}}catch{}finally{}};function FI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kR(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?_f:(f=Number(d.substring(f,m)),isNaN(f)?OI:(m+=1,m+f>d.length?_f:(d=d.slice(m,m+f),c.C=m+f,d)))}dr.prototype.cancel=function(){this.J=!0,ei(this)};function Kc(c){c.S=Date.now()+c.I,LI(c,c.I)}function LI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$s(y(c.ba,c),d)}function wf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(PR(this.i,this.A),this.L!=2&&(Bs(),yt(17)),ei(this),this.s=2,qs(this)):LI(this,this.S-c)};function qs(c){c.j.G==0||c.J||uw(c.j,c)}function ei(c){wf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,CI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ef(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Df(f.h,c))){if(!c.K&&Df(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nu(f),eu(f);else break e;Sf(f),yt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=$s(y(f.Za,f),6e3));if(1>=jI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ni(f,11)}else if((c.K||f.g==c)&&nu(f),!q(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ie=C[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let ut=Ie[3];ut!=null&&(f.la=ut,f.j.info("VER="+f.la));let lt=Ie[4];lt!=null&&(f.Aa=lt,f.j.info("SVER="+f.Aa));let Xi=Ie[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(m=1.5*Xi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Qt=c.g;if(Qt){let iu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var A=m.h;A.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(bf(A,A.h),A.h=null))}if(m.D){let Rf=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rf&&(m.ya=Rf,Ne(m.I,m.D,Rf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=hw(m,m.J?m.ia:null,m.W),O.K){BI(m.h,O);var Se=O,nt=m.L;nt&&(Se.I=nt),Se.B&&(wf(Se),Kc(Se)),m.g=O}else aw(m);0<f.i.length&&tu(f)}else Ie[0]!="stop"&&Ie[0]!="close"||ni(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ni(f,7):Tf(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}Bs(4)}catch{}}var FR=class{constructor(c,d){this.g=c,this.map=d}};function VI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jI(c){return c.h?1:c.g?c.g.size:0}function Df(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function bf(c,d){c.g?c.g.add(d):c.h=d}function BI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}VI.prototype.cancel=function(){if(this.i=$I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $I(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function LR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function VR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function HI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=VR(c),m=LR(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ti){this.h=c.h,Qc(this,c.j),this.o=c.o,this.g=c.g,Yc(this,c.s),this.l=c.l;var d=c.i,f=new Ws;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),zI(this,f),this.m=c.m}else c&&(d=String(c).match(qI))?(this.h=!1,Qc(this,d[1]||"",!0),this.o=zs(d[2]||""),this.g=zs(d[3]||"",!0),Yc(this,d[4]),this.l=zs(d[5]||"",!0),zI(this,d[6]||"",!0),this.m=zs(d[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}ti.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Gs(d,GI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Gs(d,GI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Gs(f,f.charAt(0)=="/"?$R:BR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Gs(f,qR)),c.join("")};function On(c){return new ti(c)}function Qc(c,d,f){c.j=f?zs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function zI(c,d,f){d instanceof Ws?(c.i=d,zR(c.i,c.h)):(f||(d=Gs(d,HR)),c.i=new Ws(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function Jc(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var GI=/[#\/\?@]/g,BR=/[#\?:]/g,$R=/[#\?]/g,HR=/[#\?@]/g,qR=/#/g;function Ws(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&UR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ws.prototype,n.add=function(c,d){hr(this),this.i=null,c=Ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function WI(c,d){hr(c),d=Ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function KI(c,d){return hr(c),d=Ji(c,d),c.g.has(d)}n.forEach=function(c,d){hr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},n.V=function(c){hr(this);let d=[];if(typeof c=="string")KI(this,c)&&(d=d.concat(this.g.get(Ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return hr(this),this.i=null,c=Ji(this,c),KI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function QI(c,d,f){WI(c,d),0<f.length&&(c.i=null,c.g.set(Ji(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var C=A;O[m]!==""&&(C+="="+encodeURIComponent(String(O[m]))),c.push(C)}}return this.i=c.join("&")};function Ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function zR(c,d){d&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(WI(this,m),QI(this,C,f))},c)),c.j=d}function GR(c,d){let f=new Hs;if(a.Image){let m=new Image;m.onload=v(fr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(fr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(fr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(fr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function WR(c,d){let f=new Hs,m=new AbortController,C=setTimeout(()=>{m.abort(),fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?fr(f,"TestPingServer: ok",!0,d):fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),fr(f,"TestPingServer: error",!1,d)})}function fr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function KR(){this.g=new MR}function QR(c,d,f){let m=f||"";try{HI(c,function(C,A){let O=C;l(C)&&(O=pf(C)),d.push(m+A+"="+encodeURIComponent(O))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ks(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ks,mf),Ks.prototype.g=function(){return new Zc(this.l,this.j)},Ks.prototype.i=function(c){return function(){return c}}({});function Zc(c,d){ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zc,ct),n=Zc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ys(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function YI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qs(this):Ys(this),this.readyState==3&&YI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qs(this))},n.Qa=function(c){this.g&&(this.response=c,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ys(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ys(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function JI(c){let d="";return J(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Cf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=JI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function ke(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ke,ct);var YR=/^https?$/i,JR=["POST","PUT"];n=ke.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vf.g(),this.v=this.o?TI(this.o):TI(vf),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){ZI(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JR,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){ZI(this,A)}};function ZI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,XI(c),Xc(c)}function XI(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),Xc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ew(this):this.bb())},n.bb=function(){ew(this)};function ew(c){if(c.h&&typeof s<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)EI(c.Ea,0,c);else if(gt(c,"readystatechange"),kn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var C=String(c.D).match(qI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!YR.test(C?C.toLowerCase():"")}f=m}if(f)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var A=2<kn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",XI(c)}}finally{Xc(c)}}}}function Xc(c,d){if(c.g){tw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||gt(c,"ready");try{f.onreadystatechange=m}catch{}}}function tw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),RR(d)}};function nw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ZR(c){let d={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(q(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function rw(c){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,c),this.cb=Js("retryDelaySeedMs",1e4,c),this.Wa=Js("forwardChannelMaxRetries",2,c),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new VI(c&&c.concurrentRequestLimit),this.Da=new KR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){yt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=hw(this,null,this.W),tu(this)};function Tf(c){if(iw(c),c.G==3){var d=c.U++,f=On(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),Zs(c,f),d=new dr(c,c.j,d),d.L=2,d.v=Jc(On(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=fw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kc(d)}dw(c)}function eu(c){c.g&&(Af(c),c.g.cancel(),c.g=null)}function iw(c){eu(c),c.u&&(a.clearTimeout(c.u),c.u=null),nu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tu(c){if(!UI(c.h)&&!c.s){c.s=!0;var d=c.Ga;ks||gI(),Fs||(ks(),Fs=!0),of.add(d,c),c.B=0}}function XR(c,d){return jI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$s(y(c.Ga,c,d),lw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new dr(this,this.j,c),A=this.o;if(this.S&&(A?(A=g(A),D(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=sw(this,C,d),f=On(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),Zs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(JI(A)))+"&"+d:this.m&&Cf(f,this.m,A)),bf(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,If(C,f,null)):If(C,f,d),this.G=2}}else this.G==3&&(c?ow(this,c):this.i.length==0||UI(this.h)||ow(this))};function ow(c,d){var f;d?f=d.l:f=c.U++;let m=On(c.I);Ne(m,"SID",c.K),Ne(m,"RID",f),Ne(m,"AID",c.T),Zs(c,m),c.m&&c.o&&Cf(m,c.m,c.o),f=new dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=sw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),bf(c.h,f),If(f,m,d)}function Zs(c,d){c.H&&J(c.H,function(f,m){Ne(d,m,f)}),c.l&&HI({},function(f,m){Ne(d,m,f)})}function sw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?y(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=C[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Se=!0;for(let nt=0;nt<f;nt++){let Ie=C[nt].g,ut=C[nt].map;if(Ie-=A,0>Ie)A=Math.max(0,C[nt].g-100),Se=!1;else try{QR(ut,O,"req"+Ie+"_")}catch{m&&m(ut)}}if(Se){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function aw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ks||gI(),Fs||(ks(),Fs=!0),of.add(d,c),c.v=0}}function Sf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$s(y(c.Fa,c),lw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$s(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),eu(this),cw(this))};function Af(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cw(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=On(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),Zs(c,d),c.m&&c.o&&Cf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Jc(On(d)),f.m=null,f.P=!0,kI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,eu(this),Sf(this),yt(19))};function nu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uw(c,d){var f=null;if(c.g==d){nu(c),Af(c),c.g=null;var m=2}else if(Df(c.h,d))f=d.D,BI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=zc(),gt(m,new NI(m,f)),tu(c)}else aw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&XR(c,d)||m==2&&Sf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function lw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ni(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),m=c.Xa;let C=!m;m=new ti(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qc(m,"https"),Jc(m),C?GR(m.toString(),f):WR(m.toString(),f)}else yt(2);c.G=0,c.l&&c.l.sa(d),dw(c),iw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function dw(c){if(c.G=0,c.ka=[],c.l){let d=$I(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function hw(c,d,f){var m=f instanceof ti?On(f):new ti(f);if(m.g!="")d&&(m.g=d+"."+m.g),Yc(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new ti(null);m&&Qc(A,m),d&&(A.g=d),C&&Yc(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Ne(m,f,d),Ne(m,"VER",c.la),Zs(c,m),m}function fw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new Ks({eb:f})):new ke(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pw(){}n=pw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ru(){}ru.prototype.g=function(c,d){return new Mt(c,d)};function Mt(c,d){ct.call(this),this.g=new rw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Zi(this)}S(Mt,ct),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Tf(this.g)},Mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=pf(c),c=f);d.i.push(new FR(d.Ya++,c)),d.G==3&&tu(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,Mt.aa.N.call(this)};function mw(c){gf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(mw,gf);function gw(){yf.call(this),this.status=1}S(gw,yf);function Zi(c){this.g=c}S(Zi,pw),Zi.prototype.ua=function(){gt(this.g,"a")},Zi.prototype.ta=function(c){gt(this.g,new mw(c))},Zi.prototype.sa=function(c){gt(this.g,new gw)},Zi.prototype.ra=function(){gt(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,mv=ir.createWebChannelTransport=function(){return new ru},pv=ir.getStatEventTarget=function(){return zc()},fv=ir.Event=Xr,ah=ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,vc=ir.ErrorCode=Gc,xI.COMPLETE="complete",hv=ir.EventType=xI,SI.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",ct.prototype.listen=ct.prototype.K,us=ir.WebChannel=SI,X2=ir.FetchXmlHttpFactory=Ks,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,dv=ir.XhrIo=ke}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});var TS="@firebase/firestore";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var Ms="10.14.0";var Hi=new Lr("@firebase/firestore");function _c(){return Hi.logLevel}function B(n,...e){if(Hi.logLevel<=me.DEBUG){let t=e.map(Y_);Hi.debug(`Firestore (${Ms}): ${n}`,...t)}}function sr(n,...e){if(Hi.logLevel<=me.ERROR){let t=e.map(Y_);Hi.error(`Firestore (${Ms}): ${n}`,...t)}}function gs(n,...e){if(Hi.logLevel<=me.WARN){let t=e.map(Y_);Hi.warn(`Firestore (${Ms}): ${n}`,...t)}}function Y_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function Te(n,e){n||X()}function ne(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var or=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Iv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tt.UNAUTHENTICATED))}shutdown(){}},wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ev=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new or,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new or)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new hh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new tt(e)}},Dv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Dv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Te(this.o===void 0);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new Cv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var fh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=eB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function ys(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var st=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new st(0,0))}static max(){return new n(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ph=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Le=class n extends ph{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},tB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class n extends ph{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return tB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};var Sv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Sv.UNKNOWN_ID=-1;function nB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new qi(i,Y.empty(),e)}function rB(n){return new qi(n.readTime,n.key,-1)}var qi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),Y.empty(),-1)}static max(){return new n(se.max(),Y.empty(),-1)}};function iB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var oB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Av=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(n){return w(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==oB)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function sB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(n){return n.name==="IndexedDbTransactionError"}var oA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Hh(n){return n==null}function Tc(n){return n===0&&1/n==-1/0}function aB(n){return typeof n=="number"&&Number.isInteger(n)&&!Tc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var cB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],O5=[...cB,"documentOverlays"],uB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lB=uB,dB=[...lB,"indexConfiguration","indexState","indexEntries"];var k5=[...dB,"globals"];function SS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},mh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class n{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new n([])}unionWith(e){let t=new pt(Ut.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var hB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(n){if(Te(!!n),typeof n=="string"){let e=0,t=hB.exec(n);if(Te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yr(n){return typeof n=="string"?mt.fromBase64String(n):mt.fromUint8Array(n)}function J_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Z_(n){let e=n.mapValue.fields.__previous_value__;return J_(e)?Z_(e):e}function Sc(n){let e=ar(n.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Rv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},yh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?J_(n)?4:cA(n)?9007199254740991:aA(n)?10:11:X()}function Nn(n,e){if(n===e)return!0;let t=zi(n);if(t!==zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sc(n).isEqual(Sc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ar(i.timestampValue),a=ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Yr(i.bytesValue).isEqual(Yr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?Tc(s)===Tc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(SS(s)!==SS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(n,e);default:return X()}}function Ac(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function vs(n,e){if(n===e)return 0;let t=zi(n),r=zi(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return AS(n.timestampValue,e.timestampValue);case 4:return AS(Sc(n),Sc(e));case 5:return we(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Yr(o),u=Yr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Pe(o.latitude),Pe(s.latitude));return a!==0?a:we(Pe(o.longitude),Pe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=we(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:RS(v,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ch.mapValue&&s===ch.mapValue)return 0;if(o===ch.mapValue)return 1;if(s===ch.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=we(u[p],h[p]);if(y!==0)return y;let v=vs(a[u[p]],l[h[p]]);if(v!==0)return v}return we(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X()}}function AS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=ar(n),r=ar(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function RS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=vs(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function _s(n){return Mv(n)}function Mv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ar(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Yr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Mv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Mv(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function Nv(n){return!!n&&"integerValue"in n}function X_(n){return!!n&&"arrayValue"in n}function MS(n){return!!n&&"nullValue"in n}function NS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function aA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(wc(this.value))}};function uA(n){let e=[];return Ns(n.fields,(t,r)=>{let i=new Ut([t]);if(lh(r)){let o=uA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var cn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),an.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),an.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,t){this.position=e,this.inclusive=t}};function xS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=vs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}var ws=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function fB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vh=class{},Ze=class n extends vh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Pv(e,t,r):t==="array-contains"?new Fv(e,r):t==="in"?new Lv(e,r):t==="not-in"?new Vv(e,r):t==="array-contains-any"?new Uv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ov(e,r):new kv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vs(t,this.value)):t!==null&&zi(this.value)===zi(t)&&this.matchesComparison(vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class n extends vh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return lA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lA(n){return n.op==="and"}function dA(n){return pB(n)&&lA(n)}function pB(n){for(let e of n.filters)if(e instanceof xn)return!1;return!0}function xv(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+_s(n.value);if(dA(n))return n.filters.map(e=>xv(e)).join(",");{let e=n.filters.map(t=>xv(t)).join(",");return`${n.op}(${e})`}}function hA(n,e){return n instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(n,e):n instanceof xn?function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hA(s,i.filters[a]),!0):!1}(n,e):void X()}function fA(n){return n instanceof Ze?function(t){return`${t.field.canonicalString()} ${t.op} ${_s(t.value)}`}(n):n instanceof xn?function(t){return t.op.toString()+" {"+t.getFilters().map(fA).join(" ,")+"}"}(n):"Filter"}var Pv=class extends Ze{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},Ov=class extends Ze{constructor(e,t){super(e,"in",t),this.keys=pA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},kv=class extends Ze{constructor(e,t){super(e,"not-in",t),this.keys=pA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function pA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Fv=class extends Ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return X_(t)&&Ac(t.arrayValue,this.value)}},Lv=class extends Ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}},Vv=class extends Ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ac(this.value.arrayValue,t)}},Uv=class extends Ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!X_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}};var jv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function OS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new jv(n,e,t,r,i,o,s)}function eI(n){let e=ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_s(r)).join(",")),e.ue=t}return e.ue}function tI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PS(n.startAt,e.startAt)&&PS(n.endAt,e.endAt)}function Bv(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Es=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mB(n,e,t,r,i,o,s,a){return new Es(n,e,t,r,i,o,s,a)}function nI(n){return new Es(n)}function kS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gB(n){return n.collectionGroup!==null}function Ec(n){let e=ne(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(Ut.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ws(o,r))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new ws(Ut.keyField(),r))}return e.ce}function Rn(n){let e=ne(n);return e.le||(e.le=yB(e,Ec(n))),e.le}function yB(n,e){if(n.limitType==="F")return OS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ws(i.field,o)});let t=n.endAt?new Is(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Is(n.startAt.position,n.startAt.inclusive):null;return OS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $v(n,e,t){return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return tI(Rn(n),Rn(e))&&n.limitType===e.limitType}function mA(n){return`${eI(Rn(n))}|lt:${n.limitType}`}function ls(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fA(i)).join(", ")}]`),Hh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_s(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_s(i)).join(",")),`Target(${r})`}(Rn(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ec(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=xS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ec(r),i)||r.endAt&&!function(s,a,u){let l=xS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ec(r),i))}(n,e)}function vB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gA(n){return(e,t)=>{let r=!1;for(let i of Ec(n)){let o=_B(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _B(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?vs(u,l):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var Jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return sA(this.inner)}size(){return this.innerSize}};var IB=new Ve(Y.comparator);function cr(){return IB}var yA=new Ve(Y.comparator);function Ic(...n){let e=yA;for(let t of n)e=e.insert(t.key,t);return e}function vA(n){let e=yA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ui(){return Dc()}function _A(){return Dc()}function Dc(){return new Jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var wB=new Ve(Y.comparator),EB=new pt(Y.comparator);function ge(...n){let e=EB;for(let t of n)e=e.add(t);return e}var DB=new pt(we);function bB(){return DB}function rI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function CB(n,e){return aB(e)?IA(e):rI(n,e)}var Ds=class{constructor(){this._=void 0}};function TB(n,e,t){return n instanceof bs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&J_(o)&&(o=Z_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Gi?EA(n,e):n instanceof Wi?DA(n,e):function(i,o){let s=wA(i,o),a=FS(s)+FS(i.Pe);return Nv(s)&&Nv(i.Pe)?IA(a):rI(i.serializer,a)}(n,e)}function SB(n,e,t){return n instanceof Gi?EA(n,e):n instanceof Wi?DA(n,e):t}function wA(n,e){return n instanceof Cs?function(r){return Nv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var bs=class extends Ds{},Gi=class extends Ds{constructor(e){super(),this.elements=e}};function EA(n,e){let t=bA(e);for(let r of n.elements)t.some(i=>Nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Wi=class extends Ds{constructor(e){super(),this.elements=e}};function DA(n,e){let t=bA(e);for(let r of n.elements)t=t.filter(i=>!Nn(i,r));return{arrayValue:{values:t}}}var Cs=class extends Ds{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function FS(n){return Pe(n.integerValue||n.doubleValue)}function bA(n){return X_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?ys(r.elements,i.elements,Nn):r instanceof Cs&&i instanceof Cs?Nn(r.Pe,i.Pe):r instanceof bs&&i instanceof bs}(n.transform,e.transform)}var Hv=class{constructor(e,t){this.version=e,this.transformResults=t}},$i=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ts=class{};function CA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _h(n.key,$i.none()):new Ki(n.key,n.data,$i.none());{let t=n.data,r=an.empty(),i=new pt(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(n.key,r,new Sn(i.toArray()),$i.none())}}function RB(n,e,t){n instanceof Ki?function(i,o,s){let a=i.value.clone(),u=VS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ur?function(i,o,s){if(!dh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=VS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(TA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function bc(n,e,t,r){return n instanceof Ki?function(o,s,a,u){if(!dh(o.precondition,s))return a;let l=o.value.clone(),h=US(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ur?function(o,s,a,u){if(!dh(o.precondition,s))return a;let l=US(o.fieldTransforms,u,s),h=s.data;return h.setAll(TA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return dh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function MB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=wA(r.transform,i||null);o!=null&&(t===null&&(t=an.empty()),t.set(r.field,o))}return t||null}function LS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(o,s)=>AB(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ki=class extends Ts{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends Ts{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function TA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function VS(n,e,t){let r=new Map;Te(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,SB(s,a,t[i]))}return r}function US(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,TB(o,s,e))}return r}var _h=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qv=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&RB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_A();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=CA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,r)=>LS(t,r))&&ys(this.baseMutations,e.baseMutations,(t,r)=>LS(t,r))}},Gv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Te(e.mutations.length===r.length);let i=function(){return wB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Wv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,ve;function NB(n){switch(n){default:return X();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function SA(n){if(n===void 0)return sr("GRPC error has no .code"),N.UNKNOWN;switch(n){case We.OK:return N.OK;case We.CANCELLED:return N.CANCELLED;case We.UNKNOWN:return N.UNKNOWN;case We.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case We.INTERNAL:return N.INTERNAL;case We.UNAVAILABLE:return N.UNAVAILABLE;case We.UNAUTHENTICATED:return N.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case We.NOT_FOUND:return N.NOT_FOUND;case We.ALREADY_EXISTS:return N.ALREADY_EXISTS;case We.PERMISSION_DENIED:return N.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case We.ABORTED:return N.ABORTED;case We.OUT_OF_RANGE:return N.OUT_OF_RANGE;case We.UNIMPLEMENTED:return N.UNIMPLEMENTED;case We.DATA_LOSS:return N.DATA_LOSS;default:return X()}}(ve=We||(We={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var jS=null;function xB(){return new TextEncoder}var PB=new Kr([4294967295,4294967295],0);function BS(n){let e=xB().encode(n),t=new lv;return t.update(e),new Uint8Array(t.digest())}function $S(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kr([t,r],0),new Kr([i,o],0)]}var Qv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ji(`Invalid padding: ${t}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ji(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Kr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Kr.fromNumber(r)));return i.compare(PB)===1&&(i=new Kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=BS(e),[r,i]=$S(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=BS(e),[r,i]=$S(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ih=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Ve(we),cr(),ge())}},Rc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var ps=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},wh=class{constructor(e,t){this.targetId=e,this.me=t}},Eh=class{constructor(e,t,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Dh=class{constructor(){this.fe=0,this.ge=qS(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),t=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Rc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=qS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=HS(),this.Qe=new Ve(we)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Bv(o))if(r===0){let s=new Y(o.path);this.Ue(t,s,cn.newNoDocument(s,se.min()))}else Te(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}jS?.et(function(h,p,y,v,S){var M,R,F,q,U,re;let Ee={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Ee.bloomFilter={applied:S===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(re=(U=J?.bits)===null||U===void 0?void 0:U.padding)!==null&&re!==void 0?re:0,mightContain:E=>{var g;return(g=v?.mightContain(E))!==null&&g!==void 0&&g}}),Ee}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Yr(r).toUint8Array()}catch(u){if(u instanceof gh)return gs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qv(s,i,o)}catch(u){return gs(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Bv(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,cn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ih(e,t,this.Qe,this.ke,r);return this.ke=cr(),this.qe=HS(),this.Qe=new Ve(we),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Dh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new pt(we),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function HS(){return new Ve(Y.comparator)}function qS(){return new Ve(Y.comparator)}var OB={asc:"ASCENDING",desc:"DESCENDING"},kB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FB={and:"AND",or:"OR"},Jv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Zv(n,e){return n.useProto3Json||Hh(e)?e:{value:e}}function bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LB(n,e){return bh(n,e.toTimestamp())}function Mn(n){return Te(!!n),se.fromTimestamp(function(t){let r=ar(t);return new st(r.seconds,r.nanos)}(n))}function iI(n,e){return Xv(n,e).canonicalString()}function Xv(n,e){let t=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RA(n){let e=Le.fromString(n);return Te(OA(e)),e}function e_(n,e){return iI(n.databaseId,e.path)}function gv(n,e){let t=RA(e);if(t.get(1)!==n.databaseId.projectId)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(NA(t))}function MA(n,e){return iI(n.databaseId,e)}function VB(n){let e=RA(n);return e.length===4?Le.emptyPath():NA(e)}function t_(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NA(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zS(n,e,t){return{name:e_(n,e),fields:t.value.mapValue.fields}}function UB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:SA(l.code);return new G(h,l.message||"")}(s);t=new Eh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gv(n,r.document.name),o=Mn(r.document.updateTime),s=r.document.createTime?Mn(r.document.createTime):se.min(),a=new an({mapValue:{fields:r.document.fields}}),u=cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gv(n,r.document),o=r.readTime?Mn(r.readTime):se.min(),s=cn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gv(n,r.document),o=r.removedTargetIds||[];t=new ps([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Kv(i,o),a=r.targetId;t=new wh(a,s)}}return t}function jB(n,e){let t;if(e instanceof Ki)t={update:zS(n,e.key,e.value)};else if(e instanceof _h)t={delete:e_(n,e.key)};else if(e instanceof ur)t={update:zS(n,e.key,e.data),updateMask:QB(e.fieldMask)};else{if(!(e instanceof qv))return X();t={verify:e_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof bs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function BB(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Mn(i.updateTime):Mn(o);return s.isEqual(se.min())&&(s=Mn(o)),new Hv(s,i.transformResults||[])}(t,e))):[]}function $B(n,e){return{documents:[MA(n,e.path)]}}function HB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MA(n,i);let o=function(l){if(l.length!==0)return PA(xn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:ds(y.field),direction:GB(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Zv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function qB(n){let e=VB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=xA(p);return y instanceof xn&&dA(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(S){return new ws(hs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Hh(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,v=p.values||[];return new Is(v,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,v=p.values||[];return new Is(v,y)}(t.endAt)),mB(e,i,s,o,a,"F",u,l)}function zB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hs(t.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(t.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(t.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(t.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return Ze.create(hs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xn.create(t.compositeFilter.filters.map(r=>xA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function GB(n){return OB[n]}function WB(n){return kB[n]}function KB(n){return FB[n]}function ds(n){return{fieldPath:n.canonicalString()}}function hs(n){return Ut.fromServerFormat(n.fieldPath)}function PA(n){return n instanceof Ze?function(t){if(t.op==="=="){if(NS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NAN"}};if(MS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NAN"}};if(MS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(t.field),op:WB(t.op),value:t.value}}}(n):n instanceof xn?function(t){let r=t.getFilters().map(i=>PA(i));return r.length===1?r[0]:{compositeFilter:{op:KB(t.op),filters:r}}}(n):X()}function QB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var n_=class{constructor(e){this.ct=e}};function YB(n){let e=qB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$v(e,e.limit,"L"):e}var Ch=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Tc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ar(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Yr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?cA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):aA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):X()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Pe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Y.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Ch.vt=new Ch;var r_=class{constructor(){this.un=new i_}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(qi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},i_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pt(Le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Le.comparator)).toArray()}};var L5=new Uint8Array(0);var Tn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);var Nc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var o_=class{constructor(){this.changes=new Jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var s_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var a_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bc(r.mutation,i,Sn.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ic();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=cr(),s=Dc(),a=function(){return Dc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ur)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),bc(h.mutation,l,h.mutation.getFieldMask(),st.now())):s.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new s_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Dc(),i=new Ve((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=_A();h.forEach(y=>{if(!o.has(y)){let v=CA(t.get(y),r.get(y));v!==null&&p.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Ui()),a=-1,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:vA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ic();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,y){return new Es(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,cn.newInvalidDocument(h)))});let a=Ic();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&bc(h.mutation,l,Sn.empty(),st.now()),zh(t,l)&&(a=a.insert(u,l))}),a})}};var c_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:YB(i.bundledQuery),readTime:Mn(i.readTime)}}(t)),P.resolve()}};var u_=class{constructor(){this.overlays=new Ve(Y.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ui();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Ui(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ui(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Wv(t,r));let o=this.Ir.get(t);o===void 0&&(o=ge(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var l_=class{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var xc=class{constructor(){this.Tr=new pt(Ke.Er),this.dr=new pt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ke(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Y(new Le([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Y(new Le([])),r=new Ke(t,e),i=new Ke(t,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Y.comparator(e.key,t.key)||we(e.wr,t.wr)}static Ar(e,t){return we(e.wr,t.wr)||Y.comparator(e.key,t.key)}};var d_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new pt(Ke.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pt(we);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new Y(o),0),a=new pt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),P.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ke(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var h_=class{constructor(e){this.Mr=e,this.docs=function(){return new Ve(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr(),s=t.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||iB(rB(h),r)<=0||(i.has(h.key)||zh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new f_(this)}getSize(e){return P.resolve(this.size)}},f_=class extends o_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var p_=class{constructor(e){this.persistence=e,this.Nr=new Jr(t=>eI(t),tI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xc,this.targetCount=0,this.kr=Nc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var m_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new oA(0),this.Kr=!1,this.Kr=!0,this.$r=new l_,this.referenceDelegate=e(this),this.Ur=new p_(this),this.indexManager=new r_,this.remoteDocumentCache=function(i){return new h_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n_(t),this.Gr=new c_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new d_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new g_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},g_=class extends Av{constructor(e){super(),this.currentSequenceNumber=e}},y_=class n{constructor(e){this.persistence=e,this.Jr=new xc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var v_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var __=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var I_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TC()?8:sB(et())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new __;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(_c()<=me.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(_c()<=me.DEBUG&&B("QueryEngine","Query:",ls(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_c()<=me.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(t))):P.resolve())}Yi(e,t){if(kS(t))return P.resolve(null);let r=Rn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$v(t,null,"F"),r=Rn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,$v(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return kS(t)||i.isEqual(se.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?P.resolve(null):(_c()<=me.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(t)),this.rs(e,s,t,nB(i,-1)).next(a=>a))})}ts(e,t){let r=new pt(gA(e));return t.forEach((i,o)=>{zh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return _c()<=me.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ls(t)),this.Ji.getDocumentsMatchingQuery(e,t,qi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var w_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ve(we),this._s=new Jr(o=>eI(o),tI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function JB(n,e,t,r){return new w_(n,e,t,r)}function kA(n,e){return w(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZB(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),v=P.resolve();return y.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Te(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FA(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function XB(n,e){let t=ne(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(mt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(y,v,h)&&a.push(t.Ur.updateTargetData(o,v))});let u=cr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(e$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function e$(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=cr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function t$(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n$(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function E_(n,e,t){return w(this,null,function*(){let r=ne(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vc(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function GS(n,e,t){let r=ne(n),i=se.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ne(u),y=p._s.get(h);return y!==void 0?P.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,s,Rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:ge())).next(a=>(r$(r,vB(e),a),{documents:a,Ts:o})))}function r$(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Th=class{constructor(){this.activeTargetIds=bB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var D_=class{constructor(){this.so=new Th,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Th,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var b_=class{_o(e){}shutdown(){}};var Sh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var uh=null;function yv(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}var i$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var C_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ft="WebChannelConnection",T_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=yv(),u=this.xo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(B("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw gs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=i$[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=yv();return new Promise((s,a)=>{let u=new dv;u.setWithCredentials(!0),u.listenOnce(hv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vc.NO_ERROR:let h=u.getResponseJson();B(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case vc.TIMEOUT:B(ft,`RPC '${e}' ${o} timed out`),a(new G(N.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:let p=u.getStatus();if(B(ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let v=y?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new G(S,v.message))}else a(new G(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(N.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{B(ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(ft,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=yv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mv(),a=pv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,v=!1,S=new C_({Io:R=>{v?B(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(B(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),B(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,q)=>{R.listen(F,U=>{try{q(U)}catch(re){setTimeout(()=>{throw re},0)}})};return M(p,us.EventType.OPEN,()=>{v||(B(ft,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,us.EventType.CLOSE,()=>{v||(v=!0,B(ft,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,us.EventType.ERROR,R=>{v||(v=!0,gs(ft,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new G(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,us.EventType.MESSAGE,R=>{var F;if(!v){let q=R.data[0];Te(!!q);let U=q,re=U.error||((F=U[0])===null||F===void 0?void 0:F.error);if(re){B(ft,`RPC '${e}' stream ${i} received error:`,re);let Ee=re.status,J=function(_){let D=We[_];if(D!==void 0)return SA(D)}(Ee),E=re.message;J===void 0&&(J=N.INTERNAL,E="Unknown error status: "+Ee+" with message "+re.message),v=!0,S.So(new G(J,E)),p.close()}else B(ft,`RPC '${e}' stream ${i} received:`,q),S.bo(q)}}),M(a,fv.STAT_EVENT,R=>{R.stat===ah.PROXY?B(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ah.NOPROXY&&B(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function vv(){return typeof document<"u"?document:null}function Gh(n){return new Jv(n,!0)}var Ah=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Rh=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ah(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new G(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},S_=class extends Rh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=UB(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Mn(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=t_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Bv(u)?{documents:$B(o,u)}:{query:HB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AA(o,s.resumeToken);let l=Zv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=bh(o,s.snapshotVersion.toTimestamp());let l=Zv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=zB(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=t_(this.serializer),t.removeTarget=e,this.a_(t)}},A_=class extends Rh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=BB(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=t_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>jB(this.serializer,r))};this.a_(t)}};var R_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Xv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(N.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Xv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},M_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(t),this.D_=!1):B("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var N_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Qi(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ne(u);l.L_.add(4),yield Uc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Wh(l)})}(this))}))}),this.q_=new M_(r,i)}};function Wh(n){return w(this,null,function*(){if(Qi(n))for(let e of n.B_)yield e(!0)})}function Uc(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function LA(n,e){let t=ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),cI(t)?aI(t):xs(t).r_()&&sI(t,e))}function oI(n,e){let t=ne(n),r=xs(t);t.N_.delete(e),r.r_()&&VA(t,e),t.N_.size===0&&(r.r_()?r.o_():Qi(t)&&t.q_.set("Unknown"))}function sI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xs(n).A_(e)}function VA(n,e){n.Q_.xe(e),xs(n).R_(e)}function aI(n){n.Q_=new Yv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),xs(n).start(),n.q_.v_()}function cI(n){return Qi(n)&&!xs(n).n_()&&n.N_.size>0}function Qi(n){return ne(n).L_.size===0}function UA(n){n.Q_=void 0}function o$(n){return w(this,null,function*(){n.q_.set("Online")})}function s$(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{sI(n,e)})})}function a$(n,e){return w(this,null,function*(){UA(n),cI(n)?(n.q_.M_(e),aI(n)):n.q_.set("Unknown")})}function c$(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof Eh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mh(n,r)}else if(e instanceof ps?n.Q_.Ke(e):e instanceof wh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield FA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),VA(o,u);let p=new Mc(h.target,u,l,h.sequenceNumber);sI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield Mh(n,r)}})}function Mh(n,e,t){return w(this,null,function*(){if(!Vc(e))throw e;n.L_.add(1),yield Uc(n),n.q_.set("Offline"),t||(t=()=>FA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Wh(n)}))})}function jA(n,e){return e().catch(t=>Mh(n,t,e))}function Kh(n){return w(this,null,function*(){let e=ne(n),t=Zr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;u$(e);)try{let i=yield t$(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,l$(e,i)}catch(i){yield Mh(e,i)}BA(e)&&$A(e)})}function u$(n){return Qi(n)&&n.O_.length<10}function l$(n,e){n.O_.push(e);let t=Zr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function BA(n){return Qi(n)&&!Zr(n).n_()&&n.O_.length>0}function $A(n){Zr(n).start()}function d$(n){return w(this,null,function*(){Zr(n).p_()})}function h$(n){return w(this,null,function*(){let e=Zr(n);for(let t of n.O_)e.m_(t.mutations)})}function f$(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=Gv.from(r,e,t);yield jA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Kh(n)})}function p$(n,e){return w(this,null,function*(){e&&Zr(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return NB(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Zr(r).s_(),yield jA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Kh(r)}})}(n,e)),BA(n)&&$A(n)})}function WS(n,e){return w(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=Qi(t);t.L_.add(3),yield Uc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Wh(t)})}function m$(n,e){return w(this,null,function*(){let t=ne(n);e?(t.L_.delete(2),yield Wh(t)):e||(t.L_.add(2),yield Uc(t),t.q_.set("Unknown"))})}function xs(n){return n.K_||(n.K_=function(t,r,i){let o=ne(t);return o.w_(),new S_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:o$.bind(null,n),Ro:s$.bind(null,n),mo:a$.bind(null,n),d_:c$.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),cI(n)?aI(n):n.q_.set("Unknown")):(yield n.K_.stop(),UA(n))}))),n.K_}function Zr(n){return n.U_||(n.U_=function(t,r,i){let o=ne(t);return o.w_(),new A_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d$.bind(null,n),mo:p$.bind(null,n),f_:h$.bind(null,n),g_:f$.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Kh(n)):(yield n.U_.stop(),n.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var x_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uI(n,e){if(sr("AsyncQueue",`${e}: ${n}`),Vc(n))return new G(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Nh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Ic(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var xh=class{constructor(){this.W_=new Ve(Y.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ss=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Nh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var P_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},O_=class{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ne(t),o=i.queries;i.queries=KS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new G(N.ABORTED,"Firestore shutting down"))}};function KS(){return new Jr(n=>mA(n),qh)}function g$(n,e){return w(this,null,function*(){let t=ne(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new P_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=uI(s,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&lI(t)})}function y$(n,e){return w(this,null,function*(){let t=ne(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function v$(n,e){let t=ne(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&lI(t)}function _$(n,e,t){let r=ne(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function lI(n){n.Y_.forEach(e=>{e.next()})}var k_,QS;(QS=k_||(k_={})).ea="default",QS.Cache="cache";var F_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==k_.Cache}};var Ph=class{constructor(e){this.key=e}},Oh=class{constructor(e){this.key=e}},L_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=gA(e),this.Ra=new Nh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new xh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),v=zh(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;y&&v?y.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(y,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),R=!0):y&&!v&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(a=!0)),R&&(v?(s=s.add(v),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ss(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Oh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Ph(r))}),t}ba(e){this.Ta=e.Ts,this.da=ge();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ss.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},V_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},U_=class{constructor(e){this.key=e,this.va=!1}},j_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Jr(a=>mA(a),qh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(Y.comparator),this.Na=new Map,this.La=new xc,this.Ba={},this.ka=new Map,this.qa=Nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function I$(n,e,t=!0){return w(this,null,function*(){let r=KA(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield HA(r,e,t,!0),i})}function w$(n,e){return w(this,null,function*(){let t=KA(n);yield HA(t,e,!0,!1)})}function HA(n,e,t,r){return w(this,null,function*(){let i=yield n$(n.localStore,Rn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield E$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&LA(n.remoteStore,i),a})}function E$(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,v)=>function(M,R,F,q){return w(this,null,function*(){let U=R.view.ma(F);U.ns&&(U=yield GS(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,U)));let re=q&&q.targetChanges.get(R.targetId),Ee=q&&q.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(U,M.isPrimaryClient,re,Ee);return JS(M,R.targetId,J.wa),J.snapshot})}(n,p,y,v);let o=yield GS(n.localStore,e,!0),s=new L_(e,o.Ts),a=s.ma(o.documents),u=Rc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);JS(n,t,l.wa);let h=new V_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function D$(n,e,t){return w(this,null,function*(){let r=ne(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!qh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&oI(r.remoteStore,i.targetId),B_(r,i.targetId)}).catch(Lc))):(B_(r,i.targetId),yield E_(r.localStore,i.targetId,!0))})}function b$(n,e){return w(this,null,function*(){let t=ne(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oI(t.remoteStore,r.targetId))})}function C$(n,e,t){return w(this,null,function*(){let r=x$(n);try{let i=yield function(s,a){let u=ne(s),l=st.now(),h=a.reduce((v,S)=>v.add(S.key),ge()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=cr(),M=ge();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,q)=>{q.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let q of a){let U=MB(q,p.get(q.key).overlayedDocument);U!=null&&F.push(new ur(q.key,U,uA(U.value.mapValue),$i.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{y=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:y.batchId,changes:vA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ve(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield jc(r,i.changes),yield Kh(r.remoteStore)}catch(i){let o=uI(i,"Failed to persist write");t.reject(o)}})}function qA(n,e){return w(this,null,function*(){let t=ne(n);try{let r=yield XB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Te(s.va):i.removedDocuments.size>0&&(Te(s.va),s.va=!1))}),yield jc(t,r,e)}catch(r){yield Lc(r)}})}function YS(n,e,t){let r=ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&lI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T$(n,e,t){return w(this,null,function*(){let r=ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ve(Y.comparator);s=s.insert(o,cn.newNoDocument(o,se.min()));let a=ge().add(o),u=new Ih(se.min(),new Map,new Ve(we),s,a);yield qA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),dI(r)}else yield E_(r.localStore,e,!1).then(()=>B_(r,e,t)).catch(Lc)})}function S$(n,e){return w(this,null,function*(){let t=ne(n),r=e.batch.batchId;try{let i=yield ZB(t.localStore,e);GA(t,r,null),zA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield jc(t,i)}catch(i){yield Lc(i)}})}function A$(n,e,t){return w(this,null,function*(){let r=ne(n);try{let i=yield function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);GA(r,e,t),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield jc(r,i)}catch(i){yield Lc(i)}})}function zA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function GA(n,e,t){let r=ne(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function B_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||WA(n,r)})}function WA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(oI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),dI(n))}function JS(n,e,t){for(let r of t)r instanceof Ph?(n.La.addReference(r.key,e),R$(n,r)):r instanceof Oh?(B("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||WA(n,r.key)):X()}function R$(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(B("SyncEngine","New document in limbo: "+t),n.xa.add(r),dI(n))}function dI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Y(Le.fromString(e)),r=n.qa.next();n.Na.set(r,new U_(t)),n.Oa=n.Oa.insert(t,r),LA(n.remoteStore,new Mc(Rn(nI(t.path)),r,"TargetPurposeLimboResolution",oA.oe))}}function jc(n,e,t){return w(this,null,function*(){let r=ne(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=v_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.$i,v=>h.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>P.forEach(y.Ui,v=>h.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!Vc(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let v=h.os.get(y),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(y,M)}}})}(r.localStore,o))})}function M$(n,e){return w(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield kA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(N.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jc(t,r.hs)}})}function N$(n,e){let t=ne(n),r=t.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function KA(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T$.bind(null,e),e.Ca.d_=v$.bind(null,e.eventManager),e.Ca.$a=_$.bind(null,e.eventManager),e}function x$(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A$.bind(null,e),e}var ZS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Gh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return JB(this.persistence,new I_,t.initialUser,this.serializer)}Ga(t){return new m_(y_.Zr,this.serializer)}Wa(t){return new D_}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var P$=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M$.bind(null,this.syncEngine),yield m$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new O_}()}createDatastore(t){let r=Gh(t.databaseInfo.databaseId),i=function(s){return new T_(s)}(t.databaseInfo);return function(s,a,u,l){return new R_(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new N_(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>YS(this.syncEngine,r,0),function(){return Sh.D()?new Sh:new b_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new j_(o,s,a,u,l,h);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ne(o);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Uc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var H_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){B("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=uI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function _v(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield kA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function XS(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield O$(n);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WS(e.remoteStore,i)),n._onlineComponents=e})}function O$(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _v(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;gs("Error using user provided cache. Falling back to memory cache: "+t),yield _v(n,new ZS)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield _v(n,new ZS);return n._offlineComponents})}function QA(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield XS(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield XS(n,new P$))),n._onlineComponents})}function k$(n){return QA(n).then(e=>e.syncEngine)}function eA(n){return w(this,null,function*(){let e=yield QA(n),t=e.eventManager;return t.onListen=I$.bind(null,e.syncEngine),t.onUnlisten=D$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b$.bind(null,e.syncEngine),t})}function YA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tA=new Map;function JA(n,e,t){if(!t)throw new G(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function F$(n,e,t,r){if(e===!0&&r===!0)throw new G(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nA(n){if(!Y.isDocumentKey(n))throw new G(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rA(n){if(Y.isDocumentKey(n))throw new G(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function Cc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=hI(n);throw new G(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var kh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Iv;switch(r.type){case"firstParty":return new bv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tA.get(t);r&&(B("ComponentProvider","Removing Datastore"),tA.delete(t),r.terminate())}(this),Promise.resolve()}};function ZA(n,e,t,r={}){var i;let o=(n=Cc(n,As))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=tt.MOCK_USER;else{a=IC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tt(l)}n._authCredentials=new wv(new hh(a,u))}}var Fh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Kt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Qr=class n extends Fh{constructor(e,t,r){super(e,t,nI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function XA(n,e,...t){if(n=ht(n),JA("collection","path",e),n instanceof As){let r=Le.fromString(e,...t);return rA(r),new Qr(n,null,r)}{if(!(n instanceof Kt||n instanceof Qr))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return rA(r),new Qr(n.firestore,null,r)}}function eR(n,e,...t){if(n=ht(n),arguments.length===1&&(e=fh.newId()),JA("doc","path",e),n instanceof As){let r=Le.fromString(e,...t);return nA(r),new Kt(n,null,new Y(r))}{if(!(n instanceof Kt||n instanceof Qr))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return nA(r),new Kt(n.firestore,n instanceof Qr?n.converter:null,new Y(r))}}var Lh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ah(this,"async_queue_retry"),this.Vu=()=>{let r=vv();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=vv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=vv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new or;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=x_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function iA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Rs=class extends As{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lh(e),this._firestoreClient=void 0,yield e}})}};function tR(n,e){let t=typeof n=="object"?n:Zo(),r=typeof n=="string"?n:e||"(default)",i=Ja(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=_C("firestore");o&&ZA(i,...o)}return i}function nR(n){if(n._terminated)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L$(n),n._firestoreClient}function L$(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Rv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YA(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new H_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Pc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(mt.fromBase64String(e))}catch(t){throw new G(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Oc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vh=class{constructor(e){this._methodName=e}};var kc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Fc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var V$=/^__.*__$/,q_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ki(e,this.data,t,this.fieldTransforms)}};function rR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var z_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rR(this.Cu)&&V$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},G_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gh(e)}Qu(e,t,r,i=!1){return new z_({Cu:e,methodName:t,qu:r,path:Ut.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function U$(n){let e=n._freezeSettings(),t=Gh(n._databaseId);return new G_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j$(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);aR("Data must be an object, but it was:",s,r);let a=oR(r,s),u,l;if(o.merge)u=new Sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=B$(e,p,t);if(!s.contains(y))throw new G(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);H$(h,y)||h.push(y)}u=new Sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new q_(new an(a),u,l)}function iR(n,e){if(sR(n=ht(n)))return aR("Unsupported field value:",e,n),oR(n,e);if(n instanceof Vh)return function(r,i){if(!rR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=iR(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:bh(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,o)}}if(r instanceof kc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pc)return{bytesValue:AA(i.serializer,r._byteString)};if(r instanceof Kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return rI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hI(r)}`)}(n,e)}function oR(n,e){let t={};return sA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,i)=>{let o=iR(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function sR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof kc||n instanceof Pc||n instanceof Kt||n instanceof Vh||n instanceof Fc)}function aR(n,e,t){if(!sR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=hI(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function B$(n,e,t){if((e=ht(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return cR(n,e);throw Uh("Field path arguments must be of type string or ",n,!1,void 0,t)}var $$=new RegExp("[~\\*/\\[\\]]");function cR(n,e,t){if(e.search($$)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(N.INVALID_ARGUMENT,a+n+u)}function H$(n,e){return n.some(t=>t.isEqual(e))}var jh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},W_=class extends jh{data(){return super.data()}};function uR(n,e){return typeof e=="string"?cR(n,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}function q$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var K_=class{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ns(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Fc(o)}convertGeoPoint(e){return new kc(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Z_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){let t=ar(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Le.fromString(e);Te(OA(r));let i=new yh(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function z$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Bi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bh=class extends jh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ms=class extends Bh{data(e={}){return super.data(e)}},Q_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ms(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:G$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function G$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var $h=class extends K_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}};function lR(n,e){let t=Cc(n.firestore,Rs),r=eR(n),i=z$(n.converter,e);return W$(t,[j$(U$(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,$i.exists(!1))]).then(()=>r)}function dR(n,...e){var t,r,i;n=ht(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Kt)l=Cc(n.firestore,Rs),h=nI(n._key.path),u={next:p=>{e[s]&&e[s](K$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Cc(n,Fh);l=Cc(p.firestore,Rs),h=p._query;let y=new $h(l);u={next:v=>{e[s]&&e[s](new Q_(l,y,p,v))},error:e[s+1],complete:e[s+2]},q$(n._query)}return function(y,v,S,M){let R=new $_(M),F=new F_(v,R,S);return y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return g$(yield eA(y),F)})),()=>{R.Za(),y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return y$(yield eA(y),F)}))}}(nR(l),h,a,u)}function W$(n,e){return function(r,i){let o=new or;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return C$(yield k$(r),i,o)})),o.promise}(nR(n),e)}function K$(n,e,t){let r=t.docs.get(e._key),i=new $h(n);return new Bh(n,i,e._key,r,new Bi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ms=i})(jr),Ur(new Wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rs(new Ev(r.getProvider("auth-internal")),new Tv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Je(TS,"4.7.3",e),Je(TS,"4.7.3","esm2017")})();var un=class{constructor(e){return e}},hR="firestore",fI=class{constructor(){return Za(hR)}};var pI=new $("angularfire2.firestore-instances");function Q$(n,e){let t=wd(hR,n,e);return t&&new un(t)}function Y$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new un(r)}}var J$={provide:fI,deps:[[new wt,pI]]},Z$={provide:un,useFactory:Q$,deps:[[new wt,pI],er]};function fR(n,...e){return Je("angularfire",xi.full,"fst"),qt([Z$,J$,{provide:pI,useFactory:Y$(n),multi:!0,deps:[De,Ct,ts,Pi,[new wt,ac],[new wt,es],...e]}])}var pR=on(lR,!0);var Qh=on(XA,!0);var mR=on(tR,!0);var gR=on(dR,!0);function X$(n,e){if(n&1&&(V(0,"label",7),j(1),x()),n&2){let t=ze();Q(),wi(t.errorMessage)}}var Yh=class n{constructor(e,t,r){this.auth=e;this.router=t;this.firestore=r}email="";password="";loggedUser="";errorMessage="";showError=!1;login(){if(!this.email||!this.password){console.log("Email o contrase\xF1a vac\xEDos"),this.errorMessage="Email o contrase\xF1a vac\xEDos",this.showError=!0;return}console.log("Intentando iniciar sesi\xF3n..."),HT(this.auth,this.email,this.password).then(e=>{console.log("Inicio de sesi\xF3n exitoso",e),this.showError=!1,this.router.navigate(["/"])}).catch(e=>{console.log("Error en el inicio de sesi\xF3n:",e.code,e.message),this.errorMessage="Datos incorrectos",this.showError=!0})}accesoRapidoLogin(e,t){this.email=e,this.password=t}static \u0275fac=function(t){return new(t||n)(W(sn),W(wn),W(un))};static \u0275cmp=$e({type:n,selectors:[["app-login"]],standalone:!0,features:[Ge],decls:13,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit"],["style","color: red;",4,"ngIf"],["type","button",1,"quick-access-btn",3,"click"],[2,"color","red"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"form",1),Ce("ngSubmit",function(){return r.login()}),V(2,"h2"),j(3,"Iniciar Sesi\xF3n"),x(),V(4,"input",2),Vl("ngModelChange",function(o){return km(r.email,o)||(r.email=o),o}),x(),V(5,"input",3),Vl("ngModelChange",function(o){return km(r.password,o)||(r.password=o),o}),x(),V(6,"button",4),j(7,"Iniciar Sesi\xF3n"),x(),xe(8,X$,2,1,"label",5),V(9,"button",6),Ce("click",function(){return r.accesoRapidoLogin("admin@admin.com","admin123")}),j(10,"Acceso r\xE1pido 1"),x(),V(11,"button",6),Ce("click",function(){return r.accesoRapidoLogin("empleado@empleado.com","empleado123")}),j(12,"Acceso r\xE1pido 2"),x()()()),t&2&&(Q(4),Ll("ngModel",r.email),Q(),Ll("ngModel",r.password),Q(3),ue("ngIf",r.showError))},dependencies:[Et,_n,oh,ih,cs,eh,th,yc,sv,ov],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:20px;border-radius:8px;box-shadow:0 4px 10px #00000080;width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#000}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;margin:10px 0;border:1px solid #3d3d3d;border-radius:4px;background-color:#fff;color:#000;font-size:14px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s ease;margin-top:15px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0062cc}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #3d3d3d;color:#e0e0e0;margin-top:10px;padding:10px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#1d1d1d}"]})};var Ps=class n{constructor(e){this.http=e}getPaises(){return this.http.get("https://restcountries.com/v3.1/all")}static \u0275fac=function(t){return new(t||n)(K(ba))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function eH(n,e){if(n&1){let t=Lo();V(0,"div",4),Ce("click",function(){let i=yi(t).$implicit,o=ze();return vi(o.seleccionarPais(i))}),qe(1,"img",5),j(2),x()}if(n&2){let t=e.$implicit;Q(),ya("alt",t.name.common),ue("src",t.flags.png,Al),Q(),dt(" ",t.name.common," ")}}var Jh=class n{constructor(e){this.paisesService=e}paisesFiltrados=[];paisSeleccionado=new Re;ngOnInit(){this.paisesService.getPaises().subscribe(e=>{this.paisesFiltrados=e.filter(t=>t.region==="Americas"||t.region==="Europe").slice(0,3)})}seleccionarPais(e){console.log(e),this.paisSeleccionado.emit(e.name.common)}static \u0275fac=function(t){return new(t||n)(W(Ps))};static \u0275cmp=$e({type:n,selectors:[["app-lista-paises"]],outputs:{paisSeleccionado:"paisSeleccionado"},standalone:!0,features:[Ge],decls:5,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["width","30",1,"me-2",3,"src","alt"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"div",1)(2,"h5",2),j(3,"Selecciona un Pa\xEDs"),x(),xe(4,eH,3,3,"div",3),x()()),t&2&&(Q(4),ue("ngForOf",r.paisesFiltrados))},dependencies:[Et,ql],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #ccc;border-radius:.25rem;box-shadow:0 2px 5px #0000001a}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#0d6efd}"]})};function tH(n,e){n&1&&(V(0,"small"),j(1,"El nombre es requerido."),x())}function nH(n,e){n&1&&(V(0,"small"),j(1,"Solo se permiten letras."),x())}function rH(n,e){if(n&1&&(V(0,"div",25),xe(1,tH,2,0,"small",26)(2,nH,2,0,"small",26),x()),n&2){let t,r,i=ze();Q(),ue("ngIf",(t=i.choferForm.get("nombre"))==null||t.errors==null?null:t.errors.required),Q(),ue("ngIf",(r=i.choferForm.get("nombre"))==null||r.errors==null?null:r.errors.pattern)}}function iH(n,e){n&1&&(V(0,"small"),j(1,"El DNI es requerido."),x())}function oH(n,e){n&1&&(V(0,"small"),j(1,"Debe contener solo n\xFAmeros y tener 8 caracteres."),x())}function sH(n,e){if(n&1&&(V(0,"div",25),xe(1,iH,2,0,"small",26)(2,oH,2,0,"small",26),x()),n&2){let t,r,i=ze();Q(),ue("ngIf",(t=i.choferForm.get("dni"))==null||t.errors==null?null:t.errors.required),Q(),ue("ngIf",(r=i.choferForm.get("dni"))==null||r.errors==null?null:r.errors.pattern)}}function aH(n,e){n&1&&(V(0,"small"),j(1,"La edad es requerida."),x())}function cH(n,e){n&1&&(V(0,"small"),j(1,"La edad m\xEDnima es 18 a\xF1os."),x())}function uH(n,e){n&1&&(V(0,"small"),j(1,"La edad m\xE1xima es 50 a\xF1os."),x())}function lH(n,e){if(n&1&&(V(0,"div",25),xe(1,aH,2,0,"small",26)(2,cH,2,0,"small",26)(3,uH,2,0,"small",26),x()),n&2){let t,r,i,o=ze();Q(),ue("ngIf",(t=o.choferForm.get("edad"))==null||t.errors==null?null:t.errors.required),Q(),ue("ngIf",(r=o.choferForm.get("edad"))==null||r.errors==null?null:r.errors.min),Q(),ue("ngIf",(i=o.choferForm.get("edad"))==null||i.errors==null?null:i.errors.max)}}function dH(n,e){n&1&&(V(0,"small"),j(1,"El n\xFAmero de licencia es requerido."),x())}function hH(n,e){n&1&&(V(0,"small"),j(1,"Debe contener al menos 7 caracteres."),x())}function fH(n,e){n&1&&(V(0,"small"),j(1,"Debe contener solo n\xFAmeros."),x())}function pH(n,e){if(n&1&&(V(0,"div",25),xe(1,dH,2,0,"small",26)(2,hH,2,0,"small",26)(3,fH,2,0,"small",26),x()),n&2){let t,r,i,o=ze();Q(),ue("ngIf",(t=o.choferForm.get("nroLicencia"))==null||t.errors==null?null:t.errors.required),Q(),ue("ngIf",(r=o.choferForm.get("nroLicencia"))==null||r.errors==null?null:r.errors.minlength),Q(),ue("ngIf",(i=o.choferForm.get("nroLicencia"))==null||i.errors==null?null:i.errors.pattern)}}function mH(n,e){n&1&&(V(0,"small"),j(1,"La nacionalidad es requerida."),x())}function gH(n,e){if(n&1&&(V(0,"div",25),xe(1,mH,2,0,"small",26),x()),n&2){let t,r=ze();Q(),ue("ngIf",(t=r.choferForm.get("nacionalidad"))==null||t.errors==null?null:t.errors.required)}}var Zh=class n{constructor(e,t){this.fb=e;this.firestore=t;this.choferForm=this.fb.group({nombre:["",[Rt.required,Rt.pattern("^[a-zA-Z ]+$")]],dni:["",[Rt.required,Rt.pattern("^[0-9]{8}$")]],edad:["",[Rt.required,Rt.min(18),Rt.max(50)]],nroLicencia:["",[Rt.required,Rt.minLength(7),Rt.pattern("^[0-9]+$")]],licenciaProfesional:[!1],nacionalidad:["",Rt.required]})}choferForm;nacionalidadSeleccionada="";get nombre(){return this.choferForm.get("nombre")}get dni(){return this.choferForm.get("dni")}get edad(){return this.choferForm.get("edad")}get nroLicencia(){return this.choferForm.get("nroLicencia")}get licenciaProfesional(){return this.choferForm.get("licenciaProfesional")}get nacionalidad(){return this.choferForm.get("nacionalidad")}onPaisSeleccionado(e){this.nacionalidadSeleccionada=e,this.choferForm.patchValue({nacionalidad:e})}onSubmit(){return w(this,null,function*(){if(this.choferForm.valid){console.log("Datos del formulario:",this.choferForm.value);try{let e=yield pR(Qh(this.firestore,"alta-choferes"),this.choferForm.value);console.log("Documento escrito con ID: ",e.id)}catch(e){console.error("Error agregando documento: ",e)}}})}static \u0275fac=function(t){return new(t||n)(W(wS),W(un))};static \u0275cmp=$e({type:n,selectors:[["app-alta"]],standalone:!0,features:[Ge],decls:44,vars:8,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","nroLicencia",1,"form-label"],["type","text","id","nroLicencia","formControlName","nroLicencia","required","",1,"form-control"],["for","licenciaProfesional",1,"form-label"],["id","licenciaProfesional","type","checkbox","formControlName","licenciaProfesional"],[1,"col-12"],["for","nacionalidad",1,"form-label"],["type","text","id","nacionalidad","readonly","",1,"form-control",3,"value"],[3,"paisSeleccionado"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"invalid-feedback","d-block"],[4,"ngIf"]],template:function(t,r){if(t&1&&(V(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),j(4,"Formulario Alta de Chofer"),x()(),V(5,"div",2)(6,"div",3)(7,"h4",4),j(8,"Datos del Chofer"),x(),V(9,"form",5),Ce("ngSubmit",function(){return r.onSubmit()}),V(10,"div",6)(11,"div",7)(12,"label",8),j(13,"Nombre"),x(),qe(14,"input",9),xe(15,rH,3,2,"div",10),x(),V(16,"div",7)(17,"label",11),j(18,"DNI"),x(),qe(19,"input",12),xe(20,sH,3,2,"div",10),x(),V(21,"div",7)(22,"label",13),j(23,"Edad"),x(),qe(24,"input",14),xe(25,lH,4,3,"div",10),x(),V(26,"div",7)(27,"label",15),j(28,"Nro de Licencia"),x(),qe(29,"input",16),xe(30,pH,4,3,"div",10),x(),V(31,"div",7)(32,"label",17),j(33,"Licencia Profesional"),x(),qe(34,"input",18),x(),V(35,"div",19)(36,"label",20),j(37,"Nacionalidad"),x(),qe(38,"input",21),V(39,"app-lista-paises",22),Ce("paisSeleccionado",function(o){return r.onPaisSeleccionado(o)}),x(),xe(40,gH,2,1,"div",10),x()(),qe(41,"hr",23),V(42,"button",24),j(43,"Dar de Alta"),x()()()()()()),t&2){let i,o,s,a,u;Q(9),ue("formGroup",r.choferForm),Q(6),ue("ngIf",((i=r.choferForm.get("nombre"))==null?null:i.invalid)&&(((i=r.choferForm.get("nombre"))==null?null:i.dirty)||((i=r.choferForm.get("nombre"))==null?null:i.touched))),Q(5),ue("ngIf",((o=r.choferForm.get("dni"))==null?null:o.invalid)&&(((o=r.choferForm.get("dni"))==null?null:o.dirty)||((o=r.choferForm.get("dni"))==null?null:o.touched))),Q(5),ue("ngIf",((s=r.choferForm.get("edad"))==null?null:s.invalid)&&(((s=r.choferForm.get("edad"))==null?null:s.dirty)||((s=r.choferForm.get("edad"))==null?null:s.touched))),Q(5),ue("ngIf",((a=r.choferForm.get("nroLicencia"))==null?null:a.invalid)&&(((a=r.choferForm.get("nroLicencia"))==null?null:a.dirty)||((a=r.choferForm.get("nroLicencia"))==null?null:a.touched))),Q(8),ue("value",r.nacionalidadSeleccionada),Q(2),ue("ngIf",((u=r.choferForm.get("nacionalidad"))==null?null:u.invalid)&&(((u=r.choferForm.get("nacionalidad"))==null?null:u.dirty)||((u=r.choferForm.get("nacionalidad"))==null?null:u.touched))),Q(2),ue("disabled",r.choferForm.invalid)}},dependencies:[Et,_n,oh,ih,cs,av,Xy,eh,th,yc,ES,cv,uv,Jh],styles:[".container[_ngcontent-%COMP%]{max-width:960px;padding:15px;background-color:#f0f8ff}h2[_ngcontent-%COMP%]{margin-bottom:30px}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0}button[type=submit][_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{margin-top:20px}"]})};function yH(n,e){if(n&1){let t=Lo();V(0,"tr",3),Ce("click",function(){let i=yi(t).$implicit,o=ze();return vi(o.seleccionarChofer(i))}),V(1,"td"),j(2),x(),V(3,"td"),j(4),x(),V(5,"td"),j(6),x(),V(7,"td")(8,"button",4),Ce("click",function(){let i=yi(t).$implicit,o=ze();return vi(o.seleccionarChofer(i))}),j(9,"Ver Detalles"),x()()()}if(n&2){let t=e.$implicit;Q(2),wi(t.nombre),Q(2),wi(t.edad),Q(2),wi(t.pais)}}var Xh=class n{constructor(e){this.firestore=e}choferes=[];choferSeleccionado=new Re;ngOnInit(){let e=Qh(this.firestore,"choferes");gR(e,t=>{this.choferes=t.docs.map(r=>L({id:r.id},r.data()))})}seleccionarChofer(e){this.choferSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)(W(un))};static \u0275cmp=$e({type:n,selectors:[["app-tabla-choferes"]],outputs:{choferSeleccionado:"choferSeleccionado"},standalone:!0,features:[Ge],decls:12,vars:1,consts:[[1,"table-responsive"],[1,"table","table-bordered"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),j(5,"Nombre"),x(),V(6,"th"),j(7,"Edad"),x(),V(8,"th"),j(9,"Pa\xEDs"),x()()(),V(10,"tbody"),xe(11,yH,10,3,"tr",2),x()()()),t&2&&(Q(11),ue("ngForOf",r.choferes))},dependencies:[Et,ql]})};function vH(n,e){if(n&1&&(V(0,"div")(1,"h3"),j(2,"Detalle del Chofer"),x(),V(3,"p")(4,"strong"),j(5,"Nombre:"),x(),j(6),x(),V(7,"p")(8,"strong"),j(9,"Edad:"),x(),j(10),x(),V(11,"p")(12,"strong"),j(13,"Experiencia:"),x(),j(14),x()()),n&2){let t=ze();Q(6),dt(" ",t.chofer.nombre,""),Q(4),dt(" ",t.chofer.edad,""),Q(4),dt(" ",t.chofer.experiencia," a\xF1os")}}var ef=class n{chofer;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-detalle-chofer"]],inputs:{chofer:"chofer"},standalone:!0,features:[Ge],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,r){t&1&&xe(0,vH,15,3,"div",0),t&2&&ue("ngIf",r.chofer)},dependencies:[Et,_n]})};function _H(n,e){if(n&1&&(V(0,"div")(1,"h3"),j(2,"Detalle del Pa\xEDs"),x(),V(3,"p")(4,"strong"),j(5,"Pa\xEDs:"),x(),j(6),x(),V(7,"p")(8,"strong"),j(9,"Capital:"),x(),j(10),x(),V(11,"p")(12,"strong"),j(13,"Regi\xF3n:"),x(),j(14),x()()),n&2){let t=ze();Q(6),dt(" ",t.pais.nombre,""),Q(4),dt(" ",t.pais.capital,""),Q(4),dt(" ",t.pais.region,"")}}var tf=class n{constructor(e){this.paisesService=e}paisNombre="";pais;ngOnInit(){this.paisNombre&&this.paisesService.getPaises().subscribe(e=>{this.pais=e.find(t=>t.name.common.toLowerCase()===this.paisNombre.toLowerCase())})}static \u0275fac=function(t){return new(t||n)(W(Ps))};static \u0275cmp=$e({type:n,selectors:[["app-detalle-pais"]],inputs:{paisNombre:"paisNombre"},standalone:!0,features:[Ge],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,r){t&1&&xe(0,_H,15,3,"div",0),t&2&&ue("ngIf",r.pais)},dependencies:[Et,_n]})};var nf=class n{choferSeleccionado;mostrarDetalles(e){this.choferSeleccionado=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-choferes"]],standalone:!0,features:[Ge],decls:9,vars:2,consts:[[1,"container","my-5"],[1,"row"],[1,"col-12","mb-3"],[3,"choferSeleccionado"],[1,"col-md-6","mb-3"],[3,"chofer"],[3,"paisNombre"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-tabla-choferes",3),Ce("choferSeleccionado",function(o){return r.mostrarDetalles(o)}),x()()(),V(4,"div",1)(5,"div",4),qe(6,"app-detalle-chofer",5),x(),V(7,"div",4),qe(8,"app-detalle-pais",6),x()()()),t&2&&(Q(6),ue("chofer",r.choferSeleccionado),Q(2),ue("paisNombre",r.choferSeleccionado==null?null:r.choferSeleccionado.pais))},dependencies:[Xh,ef,tf],styles:[".container[_ngcontent-%COMP%]{padding:20px}.mb-3[_ngcontent-%COMP%]{margin-bottom:15px}"]})};var Bc=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return new Promise(e=>{this.auth.onAuthStateChanged(t=>{t?e(!0):(this.router.navigate(["/login"]),e(!1))})})}static \u0275fac=function(t){return new(t||n)(K(sn),K(wn))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var vR=[{path:"",redirectTo:"/bienvenido",pathMatch:"full"},{path:"bienvenido",component:Hd},{path:"login",component:Yh},{path:"alta",component:Zh,canActivate:[Bc]},{path:"choferes",component:nf,canActivate:[Bc]}];var _R={providers:[eb({eventCoalescing:!0}),mC(vR),qC(()=>zC({projectId:"primer-parcial-e8c6b",appId:"1:873726604068:web:999c91785fcff4029c79b1",storageBucket:"primer-parcial-e8c6b.appspot.com",apiKey:"AIzaSyB-niiLHnuxfs_tgfBE_lgH7Vw6Vxhb68k",authDomain:"primer-parcial-e8c6b.firebaseapp.com",messagingSenderId:"873726604068"})),BT(()=>$T()),fR(()=>mR()),Db()]};var rf=class n{constructor(e){this.router=e}title="primer-parcial";IrAOtraRuta(e){console.log("hola"),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(W(wn))};static \u0275cmp=$e({type:n,selectors:[["app-root"]],standalone:!0,features:[Ge],decls:10,vars:0,consts:[[3,"click"]],template:function(t,r){t&1&&(V(0,"nav")(1,"button",0),Ce("click",function(){return r.IrAOtraRuta("/bienvenido")}),j(2,"Home"),x(),V(3,"button",0),Ce("click",function(){return r.IrAOtraRuta("/login")}),j(4,"Login"),x(),V(5,"button",0),Ce("click",function(){return r.IrAOtraRuta("/alta")}),j(6,"Alta Chofer"),x(),V(7,"button",0),Ce("click",function(){return r.IrAOtraRuta("/choferes")}),j(8,"Choferes"),x()(),qe(9,"router-outlet"))},dependencies:[xg],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{background-color:#f0f0f0;margin:0;font-family:Arial,sans-serif}nav[_ngcontent-%COMP%]{background-color:#333;padding:1rem;display:flex;justify-content:center;gap:1rem;border-radius:8px}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#444;color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#555}']})};xb(rf,_R).catch(n=>console.error(n));
