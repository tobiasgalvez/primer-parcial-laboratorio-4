var EA=Object.defineProperty,DA=Object.defineProperties;var bA=Object.getOwnPropertyDescriptors;var aI=Object.getOwnPropertySymbols,TA=Object.getPrototypeOf,CA=Object.prototype.hasOwnProperty,SA=Object.prototype.propertyIsEnumerable,AA=Reflect.get;var cI=(t,e,n)=>e in t?EA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})CA.call(e,n)&&cI(t,n,e[n]);if(aI)for(var n of aI(e))SA.call(e,n)&&cI(t,n,e[n]);return t},se=(t,e)=>DA(t,bA(e));var sr=(t,e,n)=>AA(TA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function uI(t,e){return Object.is(t,e)}var $e=null,Nc=!1,xc=1,bn=Symbol("SIGNAL");function ge(t){let e=$e;return $e=t,e}function lI(){return $e}var Po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qh(t){if(Nc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(Fc($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&xo($e)){let n=$e.producerNode[e];kc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=xo($e)?pI(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function RA(){xc++}function dI(t){if(!(xo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xc)){if(!t.producerMustRecompute(t)&&!Gh(t)){t.dirty=!1,t.lastCleanEpoch=xc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xc}}function hI(t){if(t.liveConsumerNode===void 0)return;let e=Nc;Nc=!0;try{for(let n of t.liveConsumerNode)n.dirty||MA(n)}finally{Nc=e}}function fI(){return $e?.consumerAllowSignalWrites!==!1}function MA(t){t.dirty=!0,hI(t),t.consumerMarkedDirty?.(t)}function Oc(t){return t&&(t.nextProducerIndex=0),ge(t)}function zh(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gh(t){Fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dI(n),r!==n.version))return!0}return!1}function Wh(t){if(Fc(t),xo(t))for(let e=0;e<t.producerNode.length;e++)kc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pI(t,e,n){if(gI(t),t.liveConsumerNode.length===0&&mI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function kc(t,e){if(gI(t),t.liveConsumerNode.length===1&&mI(t))for(let r=0;r<t.producerNode.length;r++)kc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fc(i),i.producerIndexOfThis[r]=e}}function xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mI(t){return t.producerNode!==void 0}function yI(t){let e=Object.create(NA);e.computation=t;let n=()=>{if(dI(e),qh(e),e.value===Pc)throw e.error;return e.value};return n[bn]=e,n}var $h=Symbol("UNSET"),Hh=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),NA=se(k({},Po),{value:$h,dirty:!0,error:null,equal:uI,producerMustRecompute(t){return t.value===$h||t.value===Hh},producerRecomputeValue(t){if(t.value===Hh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Hh;let n=Oc(t),r;try{r=t.computation()}catch(i){r=Pc,t.error=i}finally{zh(t,n)}if(e!==$h&&e!==Pc&&r!==Pc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function xA(){throw new Error}var vI=xA;function _I(){vI()}function II(t){vI=t}var PA=null;function wI(t){let e=Object.create(DI);e.value=t;let n=()=>(qh(e),e.value);return n[bn]=e,n}function Kh(t,e){fI()||_I(),t.equal(t.value,e)||(t.value=e,OA(t))}function EI(t,e){fI()||_I(),Kh(t,e(t.value))}var DI=se(k({},Po),{equal:uI,value:void 0});function OA(t){t.version++,RA(),hI(t),PA?.()}function Z(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lc=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof Lc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{bI(s)}catch(o){e=e??[],o instanceof Lc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)}remove(e){let{_finalizers:n}=this;n&&Wr(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Qh=Ne.EMPTY;function Vc(t){return t instanceof Ne||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function bI(t){Z(t)?t():t.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Uc(t){ji.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(t);else throw t})}function Oo(){}var TI=Yh("C",void 0,void 0);function CI(t){return Yh("E",void 0,t)}function SI(t){return Yh("N",t,void 0)}function Yh(t,e,n){return{kind:t,value:e,error:n}}var Kr=null;function Bi(t){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Kr;if(e&&(Kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else t()}function AI(t){Gt.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Qr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vc(e)&&e.add(this)):this.destination=LA}static create(e,n,r){return new $i(e,n,r)}next(e){this.isStopped?Zh(SI(e),this):this._next(e)}error(e){this.isStopped?Zh(CI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zh(TI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kA=Function.prototype.bind;function Jh(t,e){return kA.call(t,e)}var Xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}},$i=class extends Qr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Gt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Jh(e.next,s),error:e.error&&Jh(e.error,s),complete:e.complete&&Jh(e.complete,s)}):i=e}this.destination=new Xh(i)}};function jc(t){Gt.useDeprecatedSynchronousErrorHandling?AI(t):Uc(t)}function FA(t){throw t}function Zh(t,e){let{onStoppedNotification:n}=Gt;n&&ji.setTimeout(()=>n(t,e))}var LA={closed:!0,next:Oo,error:FA,complete:Oo};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(t){return t}function ef(...t){return tf(t)}function tf(t){return t.length===0?bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=UA(n)?n:new $i(n,r,i);return Bi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=RI(r),new r((i,s)=>{let o=new $i({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hi](){return this}pipe(...n){return tf(n)(this)}toPromise(n){return n=RI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function RI(t){var e;return(e=t??Gt.Promise)!==null&&e!==void 0?e:Promise}function VA(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function UA(t){return t&&t instanceof Qr||VA(t)&&Vc(t)}function nf(t){return Z(t?.lift)}function fe(t){return e=>{if(nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new rf(t,e,n,r,i)}var rf=class extends Qr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qi(){return fe((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return qi()(this)}};var MI=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MI}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Qh:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Wr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Bc(e,n),t})(),Bc=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qh}};var Je=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sf={now(){return(sf.delegate||Date).now()},delegate:void 0};var $c=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var ko={setInterval(t,e,...n){let{delegate:r}=ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gi=class extends $c{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Wi.now=sf.now;var Ki=class extends Wi{constructor(e,n=Wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var of=new Ki(Gi);var Hc=class extends Gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var qc=class extends Ki{};var af=new qc(Hc);var Tt=new oe(t=>t.complete());function NI(t){return t&&Z(t.schedule)}function xI(t){return t[t.length-1]}function zc(t){return Z(xI(t))?t.pop():void 0}function or(t){return NI(xI(t))?t.pop():void 0}function cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function PI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(t){return this instanceof Yr?(this.v=t,this):new Yr(t)}function kI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,g)}}function c(I,S){r[I]&&(i[I]=function(M){return new Promise(function(R,F){s.push([I,M,R,F])>1||u(I,M)})},S&&(i[I]=S(i[I])))}function u(I,S){try{d(r[I](S))}catch(M){_(s[0][3],M)}}function d(I){I.value instanceof Yr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function FI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PI=="function"?PI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var Gc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wc(t){return Z(t?.then)}function Kc(t){return Z(t[Hi])}function Qc(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Yc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jc=jA();function Zc(t){return Z(t?.[Jc])}function Xc(t){return kI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Yr(n.read());if(i)return yield Yr(void 0);yield yield Yr(r)}}finally{n.releaseLock()}})}function eu(t){return Z(t?.getReader)}function Oe(t){if(t instanceof oe)return t;if(t!=null){if(Kc(t))return BA(t);if(Gc(t))return $A(t);if(Wc(t))return HA(t);if(Qc(t))return LI(t);if(Zc(t))return qA(t);if(eu(t))return zA(t)}throw Yc(t)}function BA(t){return new oe(e=>{let n=t[Hi]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $A(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HA(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Uc)})}function qA(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LI(t){return new oe(e=>{GA(t,e).catch(n=>e.error(n))})}function zA(t){return LI(Xc(t))}function GA(t,e){var n,r,i,s;return OI(this,void 0,void 0,function*(){try{for(n=FI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ar(t,e=0){return fe((n,r)=>{n.subscribe(ae(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VI(t,e){return Oe(t).pipe(cr(e),ar(e))}function UI(t,e){return Oe(t).pipe(cr(e),ar(e))}function jI(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function BI(t,e){return new oe(n=>{let r;return gt(n,e,()=>{r=t[Jc](),gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function tu(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $I(t,e){return tu(Xc(t),e)}function HI(t,e){if(t!=null){if(Kc(t))return VI(t,e);if(Gc(t))return jI(t,e);if(Wc(t))return UI(t,e);if(Qc(t))return tu(t,e);if(Zc(t))return BI(t,e);if(eu(t))return $I(t,e)}throw Yc(t)}function Re(t,e){return e?HI(t,e):Oe(t)}function Q(...t){let e=or(t);return Re(t,e)}function Qi(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function uf(t){return!!t&&(t instanceof oe||Z(t.lift)&&Z(t.subscribe))}var Tn=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return fe((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:WA}=Array;function KA(t,e){return WA(e)?t(...e):t(e)}function nu(t){return X(e=>KA(t,e))}var{isArray:QA}=Array,{getPrototypeOf:YA,prototype:JA,keys:ZA}=Object;function ru(t){if(t.length===1){let e=t[0];if(QA(e))return{args:e,keys:null};if(XA(e)){let n=ZA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XA(t){return t&&typeof t=="object"&&YA(t)===JA}function iu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function su(...t){let e=or(t),n=zc(t),{args:r,keys:i}=ru(t);if(r.length===0)return Re([],e);let s=new oe(eR(r,e,i?o=>iu(i,o):bt));return n?s.pipe(nu(n)):s}function eR(t,e,n=bt){return r=>{qI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)qI(e,()=>{let d=Re(t[u],e),f=!1;d.subscribe(ae(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function qI(t,e,n){t?gt(n,t,e):e()}function zI(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=M=>d<r?S(M):u.push(M),S=M=>{s&&e.next(M),d++;let R=!1;Oe(n(M,f++)).subscribe(ae(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let F=u.shift();o?gt(e,o,()=>S(F)):S(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(ae(e,I,()=>{g=!0,_()})),()=>{c?.()}}function He(t,e,n=1/0){return Z(e)?He((r,i)=>X((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>zI(r,i,t,n)))}function lf(t=1/0){return He(bt,t)}function GI(){return lf(1)}function Yi(...t){return GI()(Re(t,or(t)))}function ou(t){return new oe(e=>{Oe(t()).subscribe(e)})}function df(...t){let e=zc(t),{args:n,keys:r}=ru(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;Oe(n[f]).subscribe(ae(s,_=>{g||(g=!0,d--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?iu(r,c):c),s.complete())}))}});return e?i.pipe(nu(e)):i}function Ct(t,e){return fe((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ur(t){return fe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=Oe(t(o,ur(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function WI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(ae(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function lr(t,e){return Z(e)?He(t,e,1):He(t,1)}function dr(t){return fe((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Cn(t){return t<=0?()=>Tt:fe((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hf(t){return X(()=>t)}function au(t=tR){return fe((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tR(){return new Tn}function Jr(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):bt,Cn(1),n?dr(e):au(()=>new Tn))}function Ji(t){return t<=0?()=>Tt:fe((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ff(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):bt,Ji(1),n?dr(e):au(()=>new Tn))}function pf(t,e){return fe(WI(t,e,arguments.length>=2,!0))}function gf(...t){let e=or(t);return fe((n,r)=>{(e?Yi(t,n,e):Yi(t,n)).subscribe(r)})}function St(t,e){return fe((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let d=0,f=s++;Oe(t(u,f)).subscribe(i=ae(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function mf(t){return fe((e,n)=>{Oe(t).subscribe(ae(n,()=>n.complete(),Oo)),!n.closed&&e.subscribe(n)})}function ke(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ae(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):bt}var Pw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Bu(e,n)),this.code=e}};function Bu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Go(t){return{toString:t}.toString()}var cu="__parameters__";function nR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ow(t,e,n){return Go(()=>{let r=nR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(cu)?u[cu]:Object.defineProperty(u,cu,{value:[]})[cu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function rR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function KI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iR=we({__forward_ref__:we});function Yt(t){return t.__forward_ref__=Yt,t.toString=function(){return lt(this())},t}function ut(t){return kw(t)?t():t}function kw(t){return typeof t=="function"&&t.hasOwnProperty(iR)&&t.__forward_ref__===Yt}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function $u(t){return QI(t,Lw)||QI(t,Vw)}function Fw(t){return $u(t)!==null}function QI(t,e){return t.hasOwnProperty(e)?t[e]:null}function sR(t){let e=t&&(t[Lw]||t[Vw]);return e||null}function YI(t){return t&&(t.hasOwnProperty(JI)||t.hasOwnProperty(oR))?t[JI]:null}var Lw=we({\u0275prov:we}),JI=we({\u0275inj:we}),Vw=we({ngInjectableDef:we}),oR=we({ngInjectorDef:we}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uw(t){return t&&!!t.\u0275providers}var aR=we({\u0275cmp:we}),cR=we({\u0275dir:we}),uR=we({\u0275pipe:we}),lR=we({\u0275mod:we}),yu=we({\u0275fac:we}),Vo=we({__NG_ELEMENT_ID__:we}),ZI=we({__NG_ENV_ID__:we});function Hu(t){return typeof t=="string"?t:t==null?"":String(t)}function dR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hu(t)}function hR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function vp(t,e){throw new B(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),Mf;function jw(){return Mf}function kt(t){let e=Mf;return Mf=t,e}function Bw(t,e,n){let r=$u(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;vp(t,"Injector")}var fR={},Uo=fR,Nf="__NG_DI_FLAG__",vu="ngTempTokenPath",pR="ngTokenPath",gR=/\n/gm,mR="\u0275",XI="__source",ts;function yR(){return ts}function hr(t){let e=ts;return ts=t,e}function vR(t,e=te.Default){if(ts===void 0)throw new B(-203,!1);return ts===null?Bw(t,void 0,e):ts.get(t,e&te.Optional?null:void 0,e)}function G(t,e=te.Default){return(jw()||vR)(ut(t),e)}function O(t,e=te.Default){return G(t,qu(e))}function qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xf(t){let e=[];for(let n=0;n<t.length;n++){let r=ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let c=r[o],u=_R(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(G(i,s))}else e.push(G(r))}return e}function $w(t,e){return t[Nf]=e,t.prototype[Nf]=e,t}function _R(t){return t[Nf]}function IR(t,e,n,r){let i=t[vu];throw e[XI]&&i.unshift(e[XI]),t.message=wR(`
`+t.message,i,n,r),t[pR]=i,t[vu]=null,t}function wR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mR?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gR,`
  `)}`}var ht=$w(Ow("Optional"),8);var Hw=$w(Ow("SkipSelf"),4);function rs(t,e){let n=t.hasOwnProperty(yu);return n?t[yu]:null}function _p(t,e){t.forEach(n=>Array.isArray(n)?_p(n,e):e(n))}function qw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _u(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ER(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function DR(t,e,n){let r=Wo(t,e);return r>=0?t[r|1]=n:(r=~r,ER(t,r,e,n)),r}function yf(t,e){let n=Wo(t,e);if(n>=0)return t[n|1]}function Wo(t,e){return bR(t,e,1)}function bR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var is={},Ft=[],ss=new V(""),zw=new V("",-1),Gw=new V(""),Iu=class{get(e,n=Uo){if(n===Uo){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},Ww=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ww||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),gr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gr||{});function TR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Pf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];SR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function CR(t){return t===3||t===4||t===6}function SR(t){return t.charCodeAt(0)===64}function jo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ew(t,n,i,null,e[++r]):ew(t,n,i,null,null))}}return t}function ew(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Kw="ng-template";function AR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ip(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ip(t){return t.type===4&&t.value!==Kw}function RR(t,e,n){let r=t.type===4&&!n?Kw:t.value;return e===r}function MR(t,e,n){let r=4,i=t.attrs,s=i!==null?PR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Wt(r)&&!Wt(u))return!1;if(o&&Wt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!RR(t,u,n)||u===""&&e.length===1){if(Wt(r))return!1;o=!0}}else if(r&8){if(i===null||!AR(t,i,u,n)){if(Wt(r))return!1;o=!0}}else{let d=e[++c],f=NR(u,i,Ip(t),n);if(f===-1){if(Wt(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Wt(r))return!1;o=!0}}}}return Wt(r)||o}function Wt(t){return(t&1)===0}function NR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OR(e,t)}function xR(t,e,n=!1){for(let r=0;r<e.length;r++)if(MR(t,e[r],n))return!0;return!1}function PR(t){for(let e=0;e<t.length;e++){let n=t[e];if(CR(n))return e}return t.length}function OR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tw(t,e){return t?":not("+e.trim()+")":e}function kR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Wt(o)&&(e+=tw(s,i),i=""),r=o,s=s||!Wt(r);n++}return i!==""&&(e+=tw(s,i)),e}function FR(t){return t.map(kR).join(",")}function LR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Wt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ut(t){return Go(()=>{let e=Xw(t),n=se(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});eE(n);let r=t.dependencies;return n.directiveDefs=rw(r,!1),n.pipeDefs=rw(r,!0),n.id=jR(n),n})}function VR(t){return Xr(t)||Qw(t)}function UR(t){return t!==null}function Nn(t){return Go(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nw(t,e){if(t==null)return is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=gr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==gr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Le(t){return Go(()=>{let e=Xw(t);return eE(e),e})}function Xr(t){return t[aR]||null}function Qw(t){return t[cR]||null}function Yw(t){return t[uR]||null}function Jw(t){let e=Xr(t)||Qw(t)||Yw(t);return e!==null?e.standalone:!1}function Zw(t,e){let n=t[lR]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function Xw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nw(t.inputs,e),outputs:nw(t.outputs),debugInfo:null}}function eE(t){t.features?.forEach(e=>e(t))}function rw(t,e){if(!t)return null;let n=e?Yw:VR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(UR)}function jR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jt(t){return{\u0275providers:t}}function BR(...t){return{\u0275providers:tE(!0,t),\u0275fromNgModule:!0}}function tE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return _p(e,o=>{let c=o;Of(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&nE(i,s),n}function nE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wp(i,s=>{e(s,r)})}}function Of(t,e,n,r){if(t=ut(t),!t)return!1;let i=null,s=YI(t),o=!s&&Xr(t);if(!s&&!o){let u=t.ngModule;if(s=YI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Of(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{_p(s.imports,f=>{Of(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&nE(d,e)}if(!c){let d=rs(i)||(()=>new i);e({provide:i,useFactory:d,deps:Ft},i),e({provide:Gw,useValue:i,multi:!0},i),e({provide:ss,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;wp(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function wp(t,e){for(let n of t)Uw(n)&&(n=n.\u0275providers),Array.isArray(n)?wp(n,e):e(n)}var $R=we({provide:String,useValue:we});function rE(t){return t!==null&&typeof t=="object"&&$R in t}function HR(t){return!!(t&&t.useExisting)}function qR(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function zR(t){return!!t.useClass}var zu=new V(""),hu={},GR={},vf;function Ep(){return vf===void 0&&(vf=new Iu),vf}var mt=class{},Bo=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(e,o=>this.processProvider(o)),this.records.set(zw,Zi(void 0,this)),i.has("environment")&&this.records.set(mt,Zi(void 0,this));let s=this.records.get(zu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Gw,Ft,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hr(this),r=kt(void 0),i;try{return e()}finally{hr(n),kt(r)}}get(e,n=Uo,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZI))return e[ZI](this);r=qu(r);let i,s=hr(this),o=kt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=JR(e)&&$u(e);d&&this.injectableDefInScope(d)?u=Zi(kf(e),hu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?Ep():this.parent;return n=r&te.Optional&&n===Uo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[vu]=c[vu]||[]).unshift(lt(e)),s)throw c;return IR(c,e,"R3InjectorError",this.source)}else throw c}finally{kt(o),hr(s)}}resolveInjectorInitializers(){let e=ge(null),n=hr(this),r=kt(void 0),i;try{let s=this.get(ss,Ft,te.Self);for(let o of s)o()}finally{hr(n),kt(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=ut(e);let n=os(e)?e:ut(e&&e.provide),r=KR(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,hu,!0),i.factory=()=>xf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===hu&&(n.value=GR,n.value=n.factory()),typeof n.value=="object"&&n.value&&YR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kf(t){let e=$u(t),n=e!==null?e.factory:rs(t);if(n!==null)return n;if(t instanceof V)throw new B(204,!1);if(t instanceof Function)return WR(t);throw new B(204,!1)}function WR(t){if(t.length>0)throw new B(204,!1);let n=sR(t);return n!==null?()=>n.factory(t):()=>new t}function KR(t){if(rE(t))return Zi(void 0,t.useValue);{let e=iE(t);return Zi(e,hu)}}function iE(t,e,n){let r;if(os(t)){let i=ut(t);return rs(i)||kf(i)}else if(rE(t))r=()=>ut(t.useValue);else if(qR(t))r=()=>t.useFactory(...xf(t.deps||[]));else if(HR(t))r=()=>G(ut(t.useExisting));else{let i=ut(t&&(t.useClass||t.provide));if(QR(t))r=()=>new i(...xf(t.deps));else return rs(i)||kf(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QR(t){return!!t.deps}function YR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JR(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function Ff(t,e){for(let n of t)Array.isArray(n)?Ff(n,e):n&&Uw(n)?Ff(n.\u0275providers,e):e(n)}function Jt(t,e){t instanceof Bo&&t.assertNotDestroyed();let n,r=hr(t),i=kt(void 0);try{return e()}finally{hr(r),kt(i)}}function ZR(){return jw()!==void 0||yR()!=null}function XR(t){return typeof t=="function"}var xn=0,ce=1,Y=2,dt=3,Kt=4,Zt=5,wu=6,Eu=7,Qt=8,as=9,sn=10,Fe=11,$o=12,iw=13,gs=14,on=15,cs=16,Xi=17,us=18,Gu=19,sE=20,fr=21,_f=22,Lt=23,mr=25,oE=1;var ei=7,Du=8,bu=9,Vt=10,Tu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tu||{});function pr(t){return Array.isArray(t)&&typeof t[oE]=="object"}function Pn(t){return Array.isArray(t)&&t[oE]===!0}function aE(t){return(t.flags&4)!==0}function Wu(t){return t.componentOffset>-1}function Dp(t){return(t.flags&1)===1}function yr(t){return!!t.template}function Lf(t){return(t[Y]&512)!==0}var Vf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function On(){return uE}function uE(t){return t.type.prototype.ngOnChanges&&(t.setInput=tM),eM}On.ngInherit=!0;function eM(){let t=dE(this),e=t?.current;if(e){let n=t.previous;if(n===is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tM(t,e,n,r,i){let s=this.declaredInputs[r],o=dE(t)||nM(t,{previous:is,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Vf(d&&d.currentValue,n,u===is),cE(t,e,i,n)}var lE="__ngSimpleChanges__";function dE(t){return t[lE]||null}function nM(t,e){return t[lE]=e}var sw=null;var tn=function(t,e,n){sw?.(t,e,n)},rM="svg",iM="math";function an(t){for(;Array.isArray(t);)t=t[xn];return t}function hE(t,e){return an(e[t])}function Bt(t,e){return an(e[t.index])}function fE(t,e){return t.data[e]}function _r(t,e){let n=e[t];return pr(n)?n:n[xn]}function bp(t){return(t[Y]&128)===128}function sM(t){return Pn(t[dt])}function Cu(t,e){return e==null?null:t[e]}function pE(t){t[Xi]=0}function gE(t){t[Y]&1024||(t[Y]|=1024,bp(t)&&Qu(t))}function oM(t,e){for(;t>0;)e=e[gs],t--;return e}function Ku(t){return!!(t[Y]&9216||t[Lt]?.dirty)}function Uf(t){t[sn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),Ku(t)&&Qu(t)}function Qu(t){t[sn].changeDetectionScheduler?.notify(0);let e=ti(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!bp(e)));)e=ti(e)}function mE(t,e){if((t[Y]&256)===256)throw new B(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function aM(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function ti(t){let e=t[dt];return Pn(e)?e[dt]:e}var ue={lFrame:TE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yE=!1;function cM(){return ue.lFrame.elementDepthCount}function uM(){ue.lFrame.elementDepthCount++}function lM(){ue.lFrame.elementDepthCount--}function vE(){return ue.bindingsEnabled}function dM(){return ue.skipHydrationRootTNode!==null}function hM(t){return ue.skipHydrationRootTNode===t}function fM(){ue.skipHydrationRootTNode=null}function De(){return ue.lFrame.lView}function vt(){return ue.lFrame.tView}function Ko(t){return ue.lFrame.contextLView=t,t[Qt]}function Qo(t){return ue.lFrame.contextLView=null,t}function _t(){let t=_E();for(;t!==null&&t.type===64;)t=t.parent;return t}function _E(){return ue.lFrame.currentTNode}function pM(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yo(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function IE(){return ue.lFrame.isParent}function gM(){ue.lFrame.isParent=!1}function wE(){return yE}function ow(t){yE=t}function mM(t){return ue.lFrame.bindingIndex=t}function Yu(){return ue.lFrame.bindingIndex++}function yM(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vM(){return ue.lFrame.inI18n}function _M(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,jf(e)}function IM(){return ue.lFrame.currentDirectiveIndex}function jf(t){ue.lFrame.currentDirectiveIndex=t}function wM(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EE(t){ue.lFrame.currentQueryIndex=t}function EM(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Zt]:null}function DE(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=EM(s),i===null||(s=s[gs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=bE();return r.currentTNode=e,r.lView=t,!0}function Tp(t){let e=bE(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bE(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?TE(t):e}function TE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function CE(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SE=CE;function Cp(){let t=CE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DM(t){return(ue.lFrame.contextLView=oM(t,ue.lFrame.contextLView))[Qt]}function ms(){return ue.lFrame.selectedIndex}function ni(t){ue.lFrame.selectedIndex=t}function Ju(){let t=ue.lFrame;return fE(t.tView,t.selectedIndex)}function bM(){return ue.lFrame.currentNamespace}var AE=!0;function Sp(){return AE}function Ap(t){AE=t}function TM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Rp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function fu(t,e,n){RE(t,e,3,n)}function pu(t,e,n,r){(t[Y]&3)===n&&RE(t,e,n,r)}function If(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function RE(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Xi]+=65536),(c<s||s==-1)&&(CM(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function aw(t,e){tn(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),tn(5,t,e)}}function CM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[Y]>>14<t[Xi]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,aw(c,s)):aw(c,s)}var ns=-1,ri=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function SM(t){return t instanceof ri}function AM(t){return(t.flags&8)!==0}function RM(t){return(t.flags&16)!==0}var wf={},Bf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qu(r);let i=this.injector.get(e,wf,r);return i!==wf||n===wf?i:this.parentInjector.get(e,n,r)}};function ME(t){return t!==ns}function Su(t){return t&32767}function MM(t){return t>>16}function Au(t,e){let n=MM(t),r=e;for(;n>0;)r=r[gs],n--;return r}var $f=!0;function cw(t){let e=$f;return $f=t,e}var NM=256,NE=NM-1,xE=5,xM=0,nn={};function PM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vo)&&(r=n[Vo]),r==null&&(r=n[Vo]=xM++);let i=r&NE,s=1<<i;e.data[t+(i>>xE)]|=s}function Ru(t,e){let n=PE(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Ef(r.data,t),Ef(e,null),Ef(r.blueprint,null));let i=Mp(t,e),s=t.injectorIndex;if(ME(i)){let o=Su(i),c=Au(i,e),u=c[ce].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function Ef(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VE(i),r===null)return ns;if(n++,i=i[gs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ns}function Hf(t,e,n){PM(t,e,n)}function OE(t,e,n){if(n&te.Optional||t!==void 0)return t;vp(e,"NodeInjector")}function kE(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[as],s=kt(void 0);try{return i?i.get(e,r,n&te.Optional):Bw(e,r,n&te.Optional)}finally{kt(s)}}return OE(r,e,n)}function FE(t,e,n,r=te.Default,i){if(t!==null){if(e[Y]&2048&&!(r&te.Self)){let o=VM(t,e,n,r,nn);if(o!==nn)return o}let s=LE(t,e,n,r,nn);if(s!==nn)return s}return kE(e,n,r,i)}function LE(t,e,n,r,i){let s=FM(n);if(typeof s=="function"){if(!DE(e,t,r))return r&te.Host?OE(i,n,r):kE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))vp(n);else return o}finally{SE()}}else if(typeof s=="number"){let o=null,c=PE(t,e),u=ns,d=r&te.Host?e[on][Zt]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?Mp(t,e):e[c+8],u===ns||!lw(r,!1)?c=-1:(o=e[ce],c=Su(u),e=Au(u,e)));c!==-1;){let f=e[ce];if(uw(s,c,f.data)){let g=OM(c,e,n,o,r,d);if(g!==nn)return g}u=e[c+8],u!==ns&&lw(r,e[ce].data[c+8]===d)&&uw(s,c,e)?(o=f,c=Su(u),e=Au(u,e)):c=-1}}return i}function OM(t,e,n,r,i,s){let o=e[ce],c=o.data[t+8],u=r==null?Wu(c)&&$f:r!=o&&(c.type&3)!==0,d=i&te.Host&&s===c,f=kM(c,o,n,u,d);return f!==null?ls(e,o,f,c):nn}function kM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:d;for(let I=g;I<_;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&yr(I)&&I.type===n)return u}return null}function ls(t,e,n,r){let i=t[n],s=e.data;if(SM(i)){let o=i;o.resolving&&hR(dR(s[n]));let c=cw(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?kt(o.injectImpl):null,f=DE(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TM(n,s[n],e)}finally{d!==null&&kt(d),cw(c),o.resolving=!1,SE()}}return i}function FM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vo)?t[Vo]:void 0;return typeof e=="number"?e>=0?e&NE:LM:e}function uw(t,e,n){let r=1<<t;return!!(n[e+(t>>xE)]&r)}function lw(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var Zr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FE(this._tNode,this._lView,e,qu(r),n)}};function LM(){return new Zr(_t(),De())}function Ir(t){return Go(()=>{let e=t.prototype.constructor,n=e[yu]||qf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[yu]||qf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function qf(t){return kw(t)?()=>{let e=qf(ut(t));return e&&e()}:rs(t)}function VM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let c=LE(s,o,n,r|te.Self,nn);if(c!==nn)return c;let u=s.parent;if(!u){let d=o[sE];if(d){let f=d.get(n,nn,r);if(f!==nn)return f}u=VE(o),o=o[gs]}s=u}return i}function VE(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Zt]:null}function dw(t,e=null,n=null,r){let i=UE(t,e,n,r);return i.resolveInjectorInitializers(),i}function UE(t,e=null,n=null,r,i=new Set){let s=[n||Ft,BR(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new Bo(s,e||Ep(),r||null,i)}var yt=class t{static{this.THROW_IF_NOT_FOUND=Uo}static{this.NULL=new Iu}static create(e,n){if(Array.isArray(e))return dw({name:""},n,e,"");{let r=e.name??"";return dw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>G(zw)})}static{this.__NG_ELEMENT_ID__=-1}};var UM=new V("");UM.__NG_ELEMENT_ID__=t=>{let e=_t();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new B(204,!1)};var jM="ngOriginalError";function Df(t){return t[jM]}var jE=!0,BE=(()=>{class t{static{this.__NG_ELEMENT_ID__=BM}static{this.__NG_ENV_ID__=n=>n}}return t})(),zf=class extends BE{constructor(e){super(),this._lView=e}onDestroy(e){return mE(this._lView,e),()=>aM(this._lView,e)}};function BM(){return new zf(De())}var wr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Gf=class extends Ye{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ZR()&&(this.destroyRef=O(BE,{optional:!0})??void 0,this.pendingTasks=O(wr,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=Gf;function Mu(...t){}function $E(t){let e,n;function r(){t=Mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hw(t){return queueMicrotask(()=>t()),()=>{t=Mu}}var Np="isAngularZone",Nu=Np+"_ID",$M=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=jE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,zM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Np)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,HM,Mu,Mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},HM={};function xp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$E(()=>{t.callbackScheduled=!1,Wf(t),t.isCheckStableRunning=!0,xp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Wf(t)}function zM(t){let e=()=>{qM(t)},n=$M++;t._inner=t._inner.fork({name:"angular",properties:{[Np]:!0,[Nu]:n,[Nu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(GM(u))return r.invokeTask(s,o,c,u);try{return fw(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pw(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return fw(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!WM(u)&&e(),pw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Wf(t),xp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Wf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pw(t){t._nesting--,xp(t)}var Kf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function GM(t){return HE(t,"__ignore_ng_zone__")}function WM(t){return HE(t,"__scheduler_tick__")}function HE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Df(e);for(;n&&Df(n);)n=Df(n);return n||null}},KM=new V("",{providedIn:"root",factory:()=>{let t=O(ye),e=O(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function QM(){return Zu(_t(),De())}function Zu(t,e){return new ai(Bt(t,e))}var ai=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=QM}}return t})();function qE(t){return(t.flags&128)===128}var zE=new Map,YM=0;function JM(){return YM++}function ZM(t){zE.set(t[Gu],t)}function Qf(t){zE.delete(t[Gu])}var gw="__ngContext__";function ii(t,e){pr(e)?(t[gw]=e[Gu],ZM(e)):t[gw]=e}function GE(t){return KE(t[$o])}function WE(t){return KE(t[Kt])}function KE(t){for(;t!==null&&!Pn(t);)t=t[Kt];return t}var Yf;function QE(t){Yf=t}function XM(){if(Yf!==void 0)return Yf;if(typeof document<"u")return document;throw new B(210,!1)}var Pp=new V("",{providedIn:"root",factory:()=>eN}),eN="ng",Op=new V(""),cn=new V("",{providedIn:"platform",factory:()=>"unknown"});var kp=new V("",{providedIn:"root",factory:()=>XM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tN="h",nN="b";var rN=()=>null;function Fp(t,e,n=!1){return rN(t,e,n)}var YE=!1,iN=new V("",{providedIn:"root",factory:()=>YE});var xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pw})`}};function Xu(t){return t instanceof xu?t.changingThisBreaksApplicationSecurity:t}function JE(t,e){let n=sN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Pw})`)}return n===e}function sN(t){return t instanceof xu&&t.getTypeName()||null}var oN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZE(t){return t=String(t),t.match(oN)?t:"unsafe:"+t}var Lp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lp||{});function el(t){let e=aN();return e?e.sanitize(Lp.URL,t)||"":JE(t,"URL")?Xu(t):ZE(Hu(t))}function aN(){let t=De();return t&&t[sn].sanitizer}function XE(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),cN;function Vp(t,e){return cN(t,e)}function es(t,e,n,r,i){if(r!=null){let s,o=!1;Pn(r)?s=r:pr(r)&&(o=!0,r=r[xn]);let c=an(r);t===0&&n!==null?i==null?iD(e,n,c):Pu(e,n,c,i||null,!0):t===1&&n!==null?Pu(e,n,c,i||null,!0):t===2?DN(e,c,o):t===3&&e.destroyNode(c),s!=null&&TN(e,t,s,n,i)}}function uN(t,e){return t.createText(e)}function lN(t,e,n){t.setValue(e,n)}function eD(t,e,n){return t.createElement(e,n)}function dN(t,e){tD(t,e),e[xn]=null,e[Zt]=null}function hN(t,e,n,r,i,s){r[xn]=i,r[Zt]=e,tl(t,r,n,1,i,s)}function tD(t,e){e[sn].changeDetectionScheduler?.notify(9),tl(t,e,e[Fe],2,null,null)}function fN(t){let e=t[$o];if(!e)return bf(t[ce],t);for(;e;){let n=null;if(pr(e))n=e[$o];else{let r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)pr(e)&&bf(e[ce],e),e=e[dt];e===null&&(e=t),pr(e)&&bf(e[ce],e),n=e&&e[Kt]}e=n}}function pN(t,e,n,r){let i=Vt+r,s=n.length;r>0&&(n[i-1][Kt]=e),r<s-Vt?(e[Kt]=n[i],qw(n,Vt+r,e)):(n.push(e),e[Kt]=null),e[dt]=n;let o=e[cs];o!==null&&n!==o&&nD(o,e);let c=e[us];c!==null&&c.insertView(t),Uf(e),e[Y]|=128}function nD(t,e){let n=t[bu],r=e[dt];if(pr(r))t[Y]|=Tu.HasTransplantedViews;else{let i=r[dt][on];e[on]!==i&&(t[Y]|=Tu.HasTransplantedViews)}n===null?t[bu]=[e]:n.push(e)}function Up(t,e){let n=t[bu],r=n.indexOf(e);n.splice(r,1)}function Jf(t,e){if(t.length<=Vt)return;let n=Vt+e,r=t[n];if(r){let i=r[cs];i!==null&&i!==t&&Up(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let s=_u(t,Vt+e);dN(r[ce],r);let o=s[us];o!==null&&o.detachView(s[ce]),r[dt]=null,r[Kt]=null,r[Y]&=-129}return r}function rD(t,e){if(!(e[Y]&256)){let n=e[Fe];n.destroyNode&&tl(t,e,n,3,null,null),fN(e)}}function bf(t,e){if(e[Y]&256)return;let n=ge(null);try{e[Y]&=-129,e[Y]|=256,e[Lt]&&Wh(e[Lt]),mN(t,e),gN(t,e),e[ce].type===1&&e[Fe].destroy();let r=e[cs];if(r!==null&&Pn(e[dt])){r!==e[dt]&&Up(r,e);let i=e[us];i!==null&&i.detachView(t)}Qf(e)}finally{ge(n)}}function gN(t,e){let n=t.cleanup,r=e[Eu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Eu]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ri)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];tn(4,c,u);try{u.call(c)}finally{tn(5,c,u)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}function yN(t,e,n){return vN(t,e.parent,n)}function vN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rn.None||s===rn.Emulated)return null}return Bt(r,n)}}function Pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iD(t,e,n){t.appendChild(e,n)}function mw(t,e,n,r,i){r!==null?Pu(t,e,n,r,i):iD(t,e,n)}function sD(t,e){return t.parentNode(e)}function _N(t,e){return t.nextSibling(e)}function IN(t,e,n){return EN(t,e,n)}function wN(t,e,n){return t.type&40?Bt(t,n):null}var EN=wN,yw;function jp(t,e,n,r){let i=yN(t,r,e),s=e[Fe],o=r.parent||e[Zt],c=IN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)mw(s,i,n[u],c,!1);else mw(s,i,n,c,!1);yw!==void 0&&yw(s,r,e,n,i)}function Fo(t,e){if(e!==null){let n=e.type;if(n&3)return Bt(e,t);if(n&4)return Zf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fo(t,r);{let i=t[e.index];return Pn(i)?Zf(-1,i):an(i)}}else{if(n&128)return Fo(t,e.next);if(n&32)return Vp(e,t)()||an(t[e.index]);{let r=oD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ti(t[on]);return Fo(i,r)}else return Fo(t,e.next)}}}return null}function oD(t,e){if(e!==null){let r=t[on][Zt],i=e.projection;return r.projection[i]}return null}function Zf(t,e){let n=Vt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Fo(r,i)}return e[ei]}function DN(t,e,n){t.removeChild(null,e,n)}function Bp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&ii(an(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Bp(t,e,n.child,r,i,s,!1),es(e,t,i,c,s);else if(u&32){let d=Vp(n,r),f;for(;f=d();)es(e,t,i,f,s);es(e,t,i,c,s)}else u&16?bN(t,e,r,n,i,s):es(e,t,i,c,s);n=o?n.projectionNext:n.next}}function tl(t,e,n,r,i,s){Bp(n,r,t.firstChild,e,i,s,!1)}function bN(t,e,n,r,i,s){let o=n[on],u=o[Zt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];es(e,t,i,f,s)}else{let d=u,f=o[dt];qE(r)&&(d.flags|=128),Bp(t,e,d,f,i,s,!0)}}function TN(t,e,n,r,i){let s=n[ei],o=an(n);s!==o&&es(e,t,r,s,i);for(let c=Vt;c<n.length;c++){let u=n[c];tl(u[ce],u,t,e,r,s)}}function CN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),t.setStyle(n,r,i,s))}}function SN(t,e,n){t.setAttribute(e,"style",n)}function aD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function cD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Pf(t,e,r),i!==null&&aD(t,e,i),s!==null&&SN(t,e,s)}var ci={};function le(t=1){uD(vt(),De(),ms()+t,!1)}function uD(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&fu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&pu(e,s,0,n)}ni(n)}function q(t,e=te.Default){let n=De();if(n===null)return G(t,e);let r=_t();return FE(r,n,ut(t),e)}function lD(t,e,n,r,i,s){let o=ge(null);try{let c=null;i&gr.SignalBased&&(c=e[r][bn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&gr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):cE(e,c,r,s)}finally{ge(o)}}function AN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ni(~i);else{let s=i,o=n[++r],c=n[++r];_M(o,s);let u=e[s];c(2,u)}}}finally{ni(-1)}}function nl(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[xn]=i,g[Y]=r|4|128|8|64,(d!==null||t&&t[Y]&2048)&&(g[Y]|=2048),pE(g),g[dt]=g[gs]=t,g[Qt]=n,g[sn]=o||t&&t[sn],g[Fe]=c||t&&t[Fe],g[as]=u||t&&t[as]||null,g[Zt]=s,g[Gu]=JM(),g[wu]=f,g[sE]=d,g[on]=e.type==2?t[on]:g,g}function rl(t,e,n,r,i){let s=t.data[e];if(s===null)s=RN(t,e,n,r,i),vM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=pM();s.injectorIndex=o===null?-1:o.injectorIndex}return Yo(s,!0),s}function RN(t,e,n,r,i){let s=_E(),o=IE(),c=o?s:s&&s.parent,u=t.data[e]=ON(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function dD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hD(t,e,n,r,i){let s=ms(),o=r&2;try{ni(-1),o&&e.length>mr&&uD(t,e,mr,!1),tn(o?2:0,i),n(r,i)}finally{ni(s),tn(o?3:1,i)}}function fD(t,e,n){if(aE(e)){let r=ge(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ge(r)}}}function pD(t,e,n){vE()&&(jN(t,e,n,Bt(n,e)),(n.flags&64)===64&&_D(t,e,n))}function gD(t,e,n=Bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function mD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$p(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $p(t,e,n,r,i,s,o,c,u,d,f){let g=mr+r,_=g+i,I=MN(g,_),S=typeof d=="function"?d():d;return I[ce]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function MN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ci);return n}function NN(t,e,n,r){let s=r.get(iN,YE)||n===rn.ShadowDom,o=t.selectRootElement(e,s);return xN(o),o}function xN(t){PN(t)}var PN=()=>null;function ON(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return dM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=gr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?_w(r,n,d,c,u):_w(r,n,d,c)}return r}function _w(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function kN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,S=_?_.outputs:null;u=vw(0,g.inputs,f,u,I),d=vw(1,g.outputs,f,d,S);let M=u!==null&&o!==null&&!Ip(e)?JN(u,f,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function FN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hp(t,e,n,r,i,s,o,c){let u=Bt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(qp(t,n,f,r,i),Wu(e)&&LN(n,e.index)):e.type&3?(r=FN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function LN(t,e){let n=_r(e,t);n[Y]&16||(n[Y]|=64)}function yD(t,e,n,r){if(vE()){let i=r===null?null:{"":-1},s=$N(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&vD(t,e,n,o,i,c),i&&HN(n,r,i)}n.mergedAttrs=jo(n.mergedAttrs,n.attrs)}function vD(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Hf(Ru(n,e),t,r[d].type);zN(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=dD(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=jo(n.mergedAttrs,f.hostAttrs),GN(t,n,e,u,f),qN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}kN(t,n,s)}function VN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;UN(o)!=c&&o.push(c),o.push(n,r,s)}}function UN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Wu(n)&&WN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ru(n,e),ii(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=ls(e,t,c,n);if(ii(d,e),o!==null&&YN(e,c-i,d,u,n,o),yr(u)){let f=_r(n.index,e);f[Qt]=ls(e,t,c,n)}}}function _D(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=IM();try{ni(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];jf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BN(u,d)}}finally{ni(-1),jf(o)}}function BN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $N(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(xR(e,o.selectors,!1))if(r||(r=[]),yr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Xf(t,e,u)}else r.unshift(o),Xf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Xf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function qN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function zN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=rs(i.type,!0)),o=new ri(s,yr(i),q);t.blueprint[r]=o,n[r]=o,VN(t,e,r,dD(t,n,i.hostVars,ci),i)}function WN(t,e,n){let r=Bt(e,t),i=mD(n),s=t[sn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=il(t,nl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function KN(t,e,n,r,i,s){let o=Bt(t,e);QN(e[Fe],o,s,t.value,n,r,i)}function QN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Hu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function YN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];lD(r,n,u,d,f,g)}}function JN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function ID(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wD(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];EE(s),c.contentQueries(2,e[o],o)}}}finally{ge(r)}}}function il(t,e){return t[$o]?t[iw][Kt]=e:t[$o]=e,t[iw]=e,e}function ep(t,e,n){EE(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function ZN(t){return t[Eu]??=[]}function XN(t){return t.cleanup??=[]}function ED(t,e){let n=t[as],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function qp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];lD(f,d,r,c,u,i)}}function ex(t,e,n){let r=hE(e,t);lN(t[Fe],r,n)}function tx(t,e){let n=_r(e,t),r=n[ce];nx(r,n);let i=n[xn];i!==null&&n[wu]===null&&(n[wu]=Fp(i,n[as])),zp(r,n,n[Qt])}function nx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zp(t,e,n){Tp(e);try{let r=t.viewQuery;r!==null&&ep(1,r,n);let i=t.template;i!==null&&hD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[us]?.finishViewCreation(t),t.staticContentQueries&&wD(t,e),t.staticViewQueries&&ep(2,t.viewQuery,n);let s=t.components;s!==null&&rx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Cp()}}function rx(t,e){for(let n=0;n<e.length;n++)tx(t,e[n])}function ix(t,e,n,r){let i=ge(null);try{let s=e.tView,c=t[Y]&4096?4096:16,u=nl(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[cs]=d;let f=t[us];return f!==null&&(u[us]=f.createEmbeddedView(s)),zp(s,u,n),u}finally{ge(i)}}function Iw(t,e){return!e||e.firstChild===null||qE(t)}function sx(t,e,n,r=!0){let i=e[ce];if(pN(i,e,t,n),r){let o=Zf(n,t),c=e[Fe],u=sD(c,t[ei]);u!==null&&hN(i,t[Zt],c,e,u,o)}let s=e[wu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ou(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(an(s)),Pn(s)&&ox(s,r);let o=n.type;if(o&8)Ou(t,e,n.child,r);else if(o&32){let c=Vp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=oD(e,n);if(Array.isArray(c))r.push(...c);else{let u=ti(e[on]);Ou(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ox(t,e){for(let n=Vt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Ou(r[ce],r,i,e)}t[ei]!==t[xn]&&e.push(t[ei])}var DD=[];function ax(t){return t[Lt]??cx(t)}function cx(t){let e=DD.pop()??Object.create(lx);return e.lView=t,e}function ux(t){t.lView[Lt]!==t&&(t.lView=null,DD.push(t))}var lx=se(k({},Po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qu(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function dx(t){let e=t[Lt]??Object.create(hx);return e.lView=t,e}var hx=se(k({},Po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ti(t.lView);for(;e&&!bD(e[ce]);)e=ti(e);e&&gE(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function bD(t){return t.type!==2}var fx=100;function TD(t,e=!0,n=0){let r=t[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{px(t,n)}catch(o){throw e&&ED(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function px(t,e){let n=wE();try{ow(!0),tp(t,e);let r=0;for(;Ku(t);){if(r===fx)throw new B(103,!1);r++,tp(t,1)}}finally{ow(n)}}function gx(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sn].inlineEffectRunner?.flush(),Tp(e);let c=!0,u=null,d=null;s||(bD(t)?(d=ax(e),u=Oc(d)):lI()===null?(c=!1,d=dx(e),u=Oc(d)):e[Lt]&&(Wh(e[Lt]),e[Lt]=null));try{pE(e),mM(t.bindingStartIndex),n!==null&&hD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&fu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&pu(e,I,0,null),If(e,0)}if(o||mx(e),CD(e,0),t.contentQueries!==null&&wD(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&fu(e,I)}else{let I=t.contentHooks;I!==null&&pu(e,I,1),If(e,1)}AN(t,e);let g=t.components;g!==null&&AD(e,g,0);let _=t.viewQuery;if(_!==null&&ep(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&fu(e,I)}else{let I=t.viewHooks;I!==null&&pu(e,I,2),If(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_f]){for(let I of e[_f])I();e[_f]=null}s||(e[Y]&=-73)}catch(f){throw s||Qu(e),f}finally{d!==null&&(zh(d,u),c&&ux(d)),Cp()}}function CD(t,e){for(let n=GE(t);n!==null;n=WE(n))for(let r=Vt;r<n.length;r++){let i=n[r];SD(i,e)}}function mx(t){for(let e=GE(t);e!==null;e=WE(e)){if(!(e[Y]&Tu.HasTransplantedViews))continue;let n=e[bu];for(let r=0;r<n.length;r++){let i=n[r];gE(i)}}}function yx(t,e,n){let r=_r(e,t);SD(r,n)}function SD(t,e){bp(t)&&tp(t,e)}function tp(t,e){let r=t[ce],i=t[Y],s=t[Lt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Gh(s)),o||=!1,s&&(s.dirty=!1),t[Y]&=-9217,o)gx(r,t,r.template,t[Qt]);else if(i&8192){CD(t,1);let c=r.components;c!==null&&AD(t,c,1)}}function AD(t,e,n){for(let r=0;r<e.length;r++)yx(t,e[r],n)}function Gp(t,e){let n=wE()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=ti(t);if(Lf(t)&&!r)return t;t=r}return null}var si=class{get rootNodes(){let e=this._lView,n=e[ce];return Ou(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Pn(e)){let n=e[Du],r=n?n.indexOf(this):-1;r>-1&&(Jf(e,r),_u(n,r))}this._attachedToViewContainer=!1}rD(this._lView[ce],this._lView)}onDestroy(e){mE(this._lView,e)}markForCheck(){Gp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Uf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,TD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Lf(this._lView),n=this._lView[cs];n!==null&&!e&&Up(n,this._lView),tD(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Lf(this._lView),r=this._lView[cs];r!==null&&!n&&nD(r,this._lView),Uf(this._lView)}},sl=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ix}}return t})(),vx=sl,_x=class extends vx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ix(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new si(i)}};function Ix(){return wx(_t(),De())}function wx(t,e){return t.type&4?new _x(e,t,Zu(t,e)):null}var kG=new RegExp(`^(\\d+)*(${nN}|${tN})*(.*)`);var Ex=()=>null;function ww(t,e){return Ex(t,e)}var ds=class{},ol=new V("",{providedIn:"root",factory:()=>!1});var RD=new V(""),MD=new V(""),np=class{},ku=class{};function Dx(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[bx]=t,e}var bx="ngComponent";var rp=class{resolveComponentFactory(e){throw Dx(e)}},hs=class{static{this.NULL=new rp}},fs=class{},ys=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Tx()}}return t})();function Tx(){let t=De(),e=_t(),n=_r(e.index,t);return(pr(n)?n:t)[Fe]}var Cx=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})();function ip(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=KI(i,c);else if(s==2){let u=c,d=e[++o];r=KI(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Fu=class extends hs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xr(e);return new Ho(n,this.ngModule)}};function Ew(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:gr.None;e?n.push({propName:o,templateName:r,isSignal:(c&gr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Sx(t){let e=t.toLowerCase();return e==="svg"?rM:e==="math"?iM:null}var Ho=class extends ku{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Ew(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ew(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ge(null);try{i=i||this.ngModule;let o=i instanceof mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Bf(e,o):e,u=c.get(fs,null);if(u===null)throw new B(407,!1);let d=c.get(Cx,null),f=c.get(ds,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?NN(_,r,this.componentDef.encapsulation,c):eD(_,I,Sx(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Fp(S,c,!0));let F=$p(0,null,null,1,0,null,null,null,null,null,null),W=nl(null,F,null,M,null,null,g,_,c,null,R);Tp(W);let U,ie,Te=null;try{let ne=this.componentDef,D,m=null;ne.findHostDirectiveDefs?(D=[],m=new Map,ne.findHostDirectiveDefs(ne,D,m),D.push(ne)):D=[ne];let y=Ax(W,S);Te=Rx(y,S,ne,D,W,g,_),ie=fE(F,mr),S&&xx(_,ne,S,r),n!==void 0&&Px(ie,this.ngContentSelectors,n),U=Nx(Te,ne,D,m,W,[Ox]),zp(F,W,null)}catch(ne){throw Te!==null&&Qf(Te),Qf(W),ne}finally{Cp()}return new sp(this.componentType,U,Zu(ie,W),W,ie)}finally{ge(s)}}},sp=class extends np{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new si(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;qp(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=_r(this._tNode.index,s);Gp(o,1)}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ax(t,e){let n=t[ce],r=mr;return t[r]=e,rl(n,r,2,"#host",null)}function Rx(t,e,n,r,i,s,o){let c=i[ce];Mx(r,t,e,o);let u=null;e!==null&&(u=Fp(e,i[as]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=nl(i,mD(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&Xf(c,t,r.length-1),il(i,g),i[t.index]=g}function Mx(t,e,n,r){for(let i of t)e.mergedAttrs=jo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ip(e,e.mergedAttrs,!0),n!==null&&cD(r,n,e))}function Nx(t,e,n,r,i,s){let o=_t(),c=i[ce],u=Bt(o,i);vD(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=ls(i,c,g,o);ii(_,i)}_D(c,i,o),u&&ii(u,i);let d=ls(i,c,o.directiveStart+o.componentOffset,o);if(t[Qt]=i[Qt]=d,s!==null)for(let f of s)f(d,e);return fD(c,o,i),d}function xx(t,e,n,r){if(r)Pf(t,n,["ng-version","18.2.8"]);else{let{attrs:i,classes:s}=LR(e.selectors[0]);i&&Pf(t,n,i),s&&s.length>0&&aD(t,n,s.join(" "))}}function Px(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ox(){let t=_t();Rp(De()[ce],t)}var vs=(()=>{class t{static{this.__NG_ELEMENT_ID__=kx}}return t})();function kx(){let t=_t();return Lx(t,De())}var Fx=vs,ND=class extends Fx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mp(this._hostTNode,this._hostLView);if(ME(e)){let n=Au(e,this._hostLView),r=Su(e),i=n[ce].data[r+8];return new Zr(i,n)}else return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Dw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ww(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Iw(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!XR(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ho(Xr(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?d:this.parentInjector).get(mt,null);M&&(s=M)}let f=Xr(u.componentType??{}),g=ww(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,c,Iw(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[dt],d=new ND(u,u[Zt],u[dt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return sx(o,i,s,r),e.attachToViewContainerRef(),qw(Tf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Dw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Jf(this._lContainer,n);r&&(_u(Tf(this._lContainer),n),rD(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Jf(this._lContainer,n);return r&&_u(Tf(this._lContainer),n)!=null?new si(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Dw(t){return t[Du]}function Tf(t){return t[Du]||(t[Du]=[])}function Lx(t,e){let n,r=e[t.index];return Pn(r)?n=r:(n=ID(r,e,null,t),e[t.index]=n,il(e,n)),Ux(n,e,t,r),new ND(n,t,e)}function Vx(t,e){let n=t[Fe],r=n.createComment(""),i=Bt(e,t),s=sD(n,i);return Pu(n,s,r,_N(n,i),!1),r}var Ux=$x,jx=()=>!1;function Bx(t,e,n){return jx(t,e,n)}function $x(t,e,n,r){if(t[ei])return;let i;n.type&8?i=an(r):i=Vx(e,n),t[ei]=i}var bw=new Set;function _s(t){bw.has(t)||(bw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Hx(t){return typeof t=="function"&&t[bn]!==void 0}function Is(t,e){_s("NgSignals");let n=wI(t),r=n[bn];return e?.equal&&(r.equal=e.equal),n.set=i=>Kh(r,i),n.update=i=>EI(r,i),n.asReadonly=qx.bind(n),n}function qx(){let t=this[bn];if(t.readonlyFn===void 0){let e=()=>this();e[bn]=t,t.readonlyFn=e}return t.readonlyFn}function xD(t){return Hx(t)&&typeof t.set=="function"}function zx(t){return Object.getPrototypeOf(t.prototype).constructor}function At(t){let e=zx(t.type),n=!0,r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=uu(t.inputs),o.inputTransforms=uu(t.inputTransforms),o.declaredInputs=uu(t.declaredInputs),o.outputs=uu(t.outputs);let c=i.hostBindings;c&&Yx(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&Kx(t,u),d&&Qx(t,d),Gx(t,i),rR(t.outputs,i.outputs),yr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===At&&(n=!1)}}e=Object.getPrototypeOf(e)}Wx(r)}function Gx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Wx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,n=jo(n,i.hostAttrs))}}function uu(t){return t===is?{}:t===Ft?[]:t}function Kx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Qx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Yx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var vr=class{},qo=class{};var op=class extends vr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fu(this);let s=Zw(e);this._bootstrapComponents=XE(s.bootstrap),this._r3Injector=UE(e,n,[{provide:vr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ap=class extends qo{constructor(e){super(),this.moduleType=e}create(e){return new op(this.moduleType,e,[])}};var Lu=class extends vr{constructor(e){super(),this.componentFactoryResolver=new Fu(this),this.instance=null;let n=new Bo([...e.providers,{provide:vr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver}],e.parent||Ep(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wp(t,e,n=null){return new Lu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function PD(t){return Zx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Jx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Zx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Jo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Xx(t){return(t.flags&32)===32}function eP(t,e,n,r,i,s,o,c,u){let d=e.consts,f=rl(e,t,4,o||null,c||null);yD(e,n,f,Cu(d,u)),Rp(e,f);let g=f.tView=$p(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function tP(t,e,n,r,i,s,o,c,u,d){let f=n+mr,g=e.firstCreatePass?eP(f,e,t,r,i,s,o,c,u):e.data[f];Yo(g,!1);let _=nP(e,t,g,n);Sp()&&jp(e,t,_,g),ii(_,t);let I=ID(_,t,_,g);return t[f]=I,il(t,I),Bx(I,g,t),Dp(g)&&pD(e,t,g),u!=null&&gD(t,g,d),g}function ze(t,e,n,r,i,s,o,c){let u=De(),d=vt(),f=Cu(d.consts,s);return tP(u,d,t,e,n,r,i,f,o,c),ze}var nP=rP;function rP(t,e,n,r){return Ap(!0),e[Fe].createComment("")}var Lo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Lo||{}),iP=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Tw=class t{constructor(){this.ngZone=O(ye),this.scheduler=O(ds),this.errorHandler=O(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Lo.EarlyRead,Lo.Write,Lo.MixedReadWrite,Lo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}};function al(t,e,n,r){let i=De(),s=Yu();if(Jo(i,s,e)){let o=vt(),c=Ju();KN(c,i,t,e,n,r)}return al}function OD(t,e,n,r){return Jo(t,Yu(),n)?e+Hu(n)+r:ci}function lu(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function sP(t){return(t&2)==2}function oP(t,e){return t&131071|e<<17}function cp(t){return t|2}function ps(t){return(t&131068)>>2}function Cf(t,e){return t&-131069|e<<2}function aP(t){return(t&1)===1}function up(t){return t|1}function cP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=oi(o),u=ps(o);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Wo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let _=oi(t[c+1]);t[r+1]=lu(_,c),_!==0&&(t[_+1]=Cf(t[_+1],r)),t[c+1]=oP(t[c+1],r)}else t[r+1]=lu(c,0),c!==0&&(t[c+1]=Cf(t[c+1],r)),c=r;else t[r+1]=lu(u,0),c===0?c=r:t[u+1]=Cf(t[u+1],r),u=r;d&&(t[r+1]=cp(t[r+1])),Cw(t,f,r,!0),Cw(t,f,r,!1),uP(e,f,t,r,s),o=lu(c,u),s?e.classBindings=o:e.styleBindings=o}function uP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Wo(s,e)>=0&&(n[r+1]=up(n[r+1]))}function Cw(t,e,n,r){let i=t[n+1],s=e===null,o=r?oi(i):ps(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],d=t[o+1];lP(u,e)&&(c=!0,t[o+1]=r?up(d):cp(d)),o=r?oi(d):ps(d)}c&&(t[n+1]=r?cp(i):up(i))}function lP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wo(t,e)>=0:!1}function ve(t,e,n){let r=De(),i=Yu();if(Jo(r,i,e)){let s=vt(),o=Ju();Hp(s,o,r,t,e,r[Fe],n,!1)}return ve}function Sw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";qp(t,n,s[o],o,r)}function cl(t,e){return dP(t,e,null,!0),cl}function dP(t,e,n,r){let i=De(),s=vt(),o=yM(2);if(s.firstUpdatePass&&fP(s,t,o,r),e!==ci&&Jo(i,o,e)){let c=s.data[ms()];vP(s,c,i,i[Fe],t,i[o+1]=_P(e,n),r,o)}}function hP(t,e){return e>=t.expandoStartIndex}function fP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ms()],o=hP(t,n);IP(s,r)&&e===null&&!o&&(e=!1),e=pP(i,s,e,r),cP(i,s,e,n,o,r)}}function pP(t,e,n,r){let i=wM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Sf(null,t,e,n,r),n=zo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Sf(i,t,e,n,r),s===null){let u=gP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Sf(null,t,e,u[1],r),u=zo(u,e.attrs,r),mP(t,e,r,u))}else s=yP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function gP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ps(r)!==0)return t[oi(r)]}function mP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[oi(i)]=r}function yP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=zo(r,o,n)}return zo(r,e.attrs,n)}function Sf(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=zo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function zo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function vP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=aP(d)?Aw(u,e,n,i,ps(d),o):void 0;if(!Vu(f)){Vu(s)||sP(d)&&(s=Aw(u,null,n,i,c,o));let g=hE(ms(),n);CN(r,o,g,i,s)}}function Aw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,_=n[i+1];_===ci&&(_=g?Ft:void 0);let I=g?yf(_,r):f===r?_:void 0;if(d&&!Vu(I)&&(I=yf(u,r)),Vu(I)&&(c=I,o))return c;let S=t[i+1];i=o?oi(S):ps(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=yf(u,r))}return c}function Vu(t){return t!==void 0}function _P(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(Xu(t)))),t}function IP(t,e){return(t.flags&(e?8:16))!==0}function wP(t,e,n,r,i,s){let o=e.consts,c=Cu(o,i),u=rl(e,t,2,r,c);return yD(e,n,u,Cu(o,s)),u.attrs!==null&&ip(u,u.attrs,!1),u.mergedAttrs!==null&&ip(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function H(t,e,n,r){let i=De(),s=vt(),o=mr+t,c=i[Fe],u=s.firstCreatePass?wP(o,s,i,e,n,r):s.data[o],d=EP(s,i,u,c,e,t);i[o]=d;let f=Dp(u);return Yo(u,!0),cD(c,d,u),!Xx(u)&&Sp()&&jp(s,i,d,u),cM()===0&&ii(d,i),uM(),f&&(pD(s,i,u),fD(s,u,i)),r!==null&&gD(i,u),H}function L(){let t=_t();IE()?gM():(t=t.parent,Yo(t,!1));let e=t;hM(e)&&fM(),lM();let n=vt();return n.firstCreatePass&&(Rp(n,t),aE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&AM(e)&&Sw(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RM(e)&&Sw(n,e,De(),e.stylesWithoutHost,!1),L}function Ze(t,e,n,r){return H(t,e,n,r),L(),Ze}var EP=(t,e,n,r,i,s)=>(Ap(!0),eD(r,i,bM()));function ul(){return De()}var Uu="en-US";var DP=Uu;function bP(t){typeof t=="string"&&(DP=t.toLowerCase().replace(/_/g,"-"))}var TP=(t,e,n)=>{};function Ae(t,e,n,r){let i=De(),s=vt(),o=_t();return kD(s,i,i[Fe],o,t,e,r),Ae}function CP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Eu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function kD(t,e,n,r,i,s,o){let c=Dp(r),d=t.firstCreatePass&&XN(t),f=e[Qt],g=ZN(e),_=!0;if(r.type&3||o){let M=Bt(r,e),R=o?o(M):M,F=g.length,W=o?ie=>o(an(ie[r.index])):r.index,U=null;if(!o&&c&&(U=CP(t,e,i,r.index)),U!==null){let ie=U.__ngLastListenerFn__||U;ie.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,_=!1}else{s=Mw(r,e,f,s),TP(M,i,s);let ie=n.listen(R,i,s);g.push(s,ie),d&&d.push(i,W,F,F+1)}}else s=Mw(r,e,f,s);let I=r.outputs,S;if(_&&I!==null&&(S=I[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],W=S[R+1],Te=e[F][W].subscribe(s),ne=g.length;g.push(s,Te),d&&d.push(i,r.index,ne,-(ne+1))}}}function Rw(t,e,n,r){let i=ge(null);try{return tn(6,e,n),n(r)!==!1}catch(s){return ED(t,s),!1}finally{tn(7,e,n),ge(i)}}function Mw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?_r(t.index,e):e;Gp(o,5);let c=Rw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Rw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function It(t=1){return DM(t)}function Zo(t,e,n){return FD(t,"",e,"",n),Zo}function FD(t,e,n,r,i){let s=De(),o=OD(s,e,n,r);if(o!==ci){let c=vt(),u=Ju();Hp(c,u,s,t,o,s[Fe],i,!1)}return FD}function J(t,e=""){let n=De(),r=vt(),i=t+mr,s=r.firstCreatePass?rl(r,i,1,e,null):r.data[i],o=SP(r,n,s,e,t);n[i]=o,Sp()&&jp(r,n,o,s),Yo(s,!1)}var SP=(t,e,n,r,i)=>(Ap(!0),uN(e[Fe],r));function Kp(t){return kn("",t,""),Kp}function kn(t,e,n){let r=De(),i=OD(r,t,e,n);return i!==ci&&ex(r,ms(),i),kn}function ll(t,e,n){xD(e)&&(e=e());let r=De(),i=Yu();if(Jo(r,i,e)){let s=vt(),o=Ju();Hp(s,o,r,t,e,r[Fe],n,!1)}return ll}function Qp(t,e){let n=xD(t);return n&&t.set(e),n}function dl(t,e){let n=De(),r=vt(),i=_t();return kD(r,n,n[Fe],i,t,e),dl}function AP(t,e,n){let r=vt();if(r.firstCreatePass){let i=yr(t);lp(n,r.data,r.blueprint,i,!0),lp(e,r.data,r.blueprint,i,!1)}}function lp(t,e,n,r,i){if(t=ut(t),Array.isArray(t))for(let s=0;s<t.length;s++)lp(t[s],e,n,r,i);else{let s=vt(),o=De(),c=_t(),u=os(t)?t:ut(t.provide),d=iE(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(os(t)||!t.multi){let I=new ri(d,i,q),S=Rf(u,e,i?f:f+_,g);S===-1?(Hf(Ru(c,o),s,u),Af(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=Rf(u,e,f+_,g),S=Rf(u,e,f,f+_),M=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!M){Hf(Ru(c,o),s,u);let F=NP(i?MP:RP,n.length,i,r,d);!i&&R&&(n[S].providerFactory=F),Af(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=LD(n[i?S:I],d,!i&&r);Af(s,t,I>-1?I:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Af(t,e,n,r){let i=os(e),s=zR(e);if(i||s){let u=(s?ut(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function LD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RP(t,e,n,r){return dp(this.multi,[])}function MP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=ls(n,n[ce],this.providerFactory.index,r);s=c.slice(0,o),dp(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],dp(i,s);return s}function dp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function NP(t,e,n,r,i){let s=new ri(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,LD(s,i,r&&!n),s}function Fn(t,e=[]){return n=>{n.providersResolver=(r,i)=>AP(r,i?i(t):t,e)}}var xP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tE(!1,n.type),i=r.length>0?Wp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(G(mt))})}}return t})();function $t(t){_s("NgStandalone"),t.getStandaloneInjector=e=>e.get(xP).getOrCreateStandaloneInjector(t)}var Rn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},VD=new Rn("18.2.8");var hl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var UD=new V("");function ui(t){return!!t&&typeof t.then=="function"}function jD(t){return!!t&&typeof t.subscribe=="function"}var BD=new V(""),$D=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(BD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(ui(s))n.push(s);else if(jD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fl=new V("");function PP(){II(()=>{throw new B(600,!1)})}function OP(t){return t.isBoundToModule}var kP=10;function FP(t,e,n){try{let r=n();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Er=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(KM),this.afterRenderManager=O(iP),this.zonelessEnabled=O(ol),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ye,this.afterTick=new Ye,this.componentTypes=[],this.components=[],this.isStable=O(wr).hasPendingTasks.pipe(X(n=>!n)),this._injector=O(mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ku;if(!this._injector.get($D).done){let _=!i&&Jw(n),I=!1;throw new B(405,I)}let o;i?o=n:o=this._injector.get(hs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=OP(o)?void 0:this._injector.get(vr),u=r||o.selector,d=o.create(yt.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(UD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),gu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let n=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ge(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(fs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<kP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)LP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ku(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;gu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(fl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LP(t,e,n,r){if(!n&&!Ku(t))return;TD(t,e,n&&!r?0:1)}var hp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yp=(()=>{class t{compileModuleSync(n){return new ap(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zw(n),s=XE(i.declarations).reduce((o,c)=>{let u=Xr(c);return u&&o.push(new Ho(u)),o},[]);return new hp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var VP=(()=>{class t{constructor(){this.zone=O(ye),this.changeDetectionScheduler=O(ds),this.applicationRef=O(Er)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UP=new V("",{factory:()=>!1});function HD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(se(k({},zD()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:ss,multi:!0,useFactory:()=>{let r=O(VP,{optional:!0});return()=>r.initialize()}},{provide:ss,multi:!0,useFactory:()=>{let r=O(jP);return()=>{r.initialize()}}},e===!0?{provide:RD,useValue:!0}:[],{provide:MD,useValue:n??jE}]}function qD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=HD({ngZoneFactory:()=>{let i=zD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_s("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return jt([{provide:UP,useValue:!0},{provide:ol,useValue:!1},r])}function zD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jP=(()=>{class t{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=O(ye),this.pendingTasks=O(wr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var BP=(()=>{class t{constructor(){this.appRef=O(Er),this.taskService=O(wr),this.ngZone=O(ye),this.zonelessEnabled=O(ol),this.disableScheduling=O(RD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(MD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hw:$E;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $P(){return typeof $localize<"u"&&$localize.locale||Uu}var Jp=new V("",{providedIn:"root",factory:()=>O(Jp,te.Optional|te.SkipSelf)||$P()});var fp=new V("");function du(t){return!t.moduleRef}function HP(t){let e=du(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{du(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),du(t)){let s=()=>e.destroy(),o=t.platformInjector.get(fp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(fp);o.add(s),t.moduleRef.onDestroy(()=>{gu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return FP(r,n,()=>{let s=e.get($D);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Jp,Uu);if(bP(o||Uu),du(t)){let c=e.get(Er);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return qP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function qP(t,e){let n=t.injector.get(Er);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var mu=null;function zP(t=[],e){return yt.create({name:e,providers:[{provide:zu,useValue:"platform"},{provide:fp,useValue:new Set([()=>mu=null])},...t]})}function GP(t=[]){if(mu)return mu;let e=zP(t);return mu=e,PP(),WP(e),e}function WP(t){t.get(Op,null)?.forEach(n=>n())}var li=(()=>{class t{static{this.__NG_ELEMENT_ID__=KP}}return t})();function KP(t){return QP(_t(),De(),(t&16)===16)}function QP(t,e,n){if(Wu(t)&&!n){let r=_r(t.index,e);return new si(r,r)}else if(t.type&175){let r=e[on];return new si(r,e)}return null}var pp=class{constructor(){}supports(e){return PD(e)}create(e){return new gp(e)}},YP=(t,e)=>e,gp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Nw(r,i,s)?n:r,c=Nw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,S=I+_;f<=S&&S<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-d}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!PD(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Jx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new mp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ju),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ju),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},mp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ju=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function xw(){return new Zp([new pp])}var Zp=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:xw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xw()),deps:[[t,new Hw,new ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function GD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=GP(r),s=[HD({}),{provide:ds,useExisting:BP},...n||[]],o=new Lu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return HP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Xo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ws(t,e){_s("NgSignals");let n=yI(t);return e?.equal&&(n[bn].equal=e.equal),n}function un(t){let e=ge(null);try{return t()}finally{ge(e)}}var JD=null;function Ln(){return JD}function ZD(t){JD??=t}var pl=class{};var wt=new V(""),XD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(eO),providedIn:"platform"})}}return t})();var eO=(()=>{class t extends XD{constructor(){super(),this._doc=O(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(n){let r=Ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function eb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function WD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function di(t){return t&&t[0]!=="?"?"?"+t:t}var gl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(tb),providedIn:"root"})}}return t})(),tO=new V(""),tb=(()=>{class t extends gl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(G(XD),G(tO,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ea=(()=>{class t{constructor(n){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=iO(WD(KD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(rO(this._basePath,KD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=di}static{this.joinWithSlash=eb}static{this.stripTrailingSlash=WD}static{this.\u0275fac=function(r){return new(r||t)(G(gl))}}static{this.\u0275prov=j({token:t,factory:()=>nO(),providedIn:"root"})}}return t})();function nO(){return new ea(G(gl))}function rO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function KD(t){return t.replace(/\/index.html$/,"")}function iO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ml(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Xp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nb=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),QD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);QD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(vs),q(sl),q(Zp))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function QD(t,e){t.context.$implicit=e.item}var Ds=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new eg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(vs),q(sl))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),eg=class{constructor(){this.$implicit=null,this.ngIf=null}};function YD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${lt(e)}'.`)}var Vn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nn({type:t})}static{this.\u0275inj=Mn({})}}return t})(),rb="browser",sO="server";function yl(t){return t===sO}var Es=class{};var ra=class{},_l=class{},Un=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ng=class{encodeKey(e){return ib(e)}encodeValue(e){return ib(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function oO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(c),n.set(o,u)}),n}var aO=/%(\d[a-f0-9])/gi,cO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ib(t){return encodeURIComponent(t).replace(aO,(e,n)=>cO[n]??e)}function vl(t){return`${t}`}var br=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ng,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=oO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vl):[vl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function uO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ob(t){return typeof Blob<"u"&&t instanceof Blob}function ab(t){return typeof FormData<"u"&&t instanceof FormData}function lO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var na=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(uO(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Un,this.context??=new rg,!this.params)this.params=new br,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sb(this.body)||ob(this.body)||ab(this.body)||lO(this.body)?this.body:this.body instanceof br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ab(this.body)?null:ob(this.body)?this.body.type||null:sb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),f)),new t(n,r,o,{params:f,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},Tr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Tr||{}),ia=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Un,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Il=class t extends ia{constructor(e={}){super(e),this.type=Tr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sa=class t extends ia{constructor(e={}){super(e),this.type=Tr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dr=class extends ia{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},db=200,dO=204;function tg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var oa=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof na)s=n;else{let u;i.headers instanceof Un?u=i.headers:u=new Un(i.headers);let d;i.params&&(i.params instanceof br?d=i.params:d=new br({fromObject:i.params})),s=new na(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Q(s).pipe(lr(u=>this.handler.handle(u)));if(n instanceof na||i.observe==="events")return o;let c=o.pipe(Ct(u=>u instanceof sa));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(X(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new br().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,tg(i,r))}post(n,r,i={}){return this.request("POST",n,tg(i,r))}put(n,r,i={}){return this.request("PUT",n,tg(i,r))}static{this.\u0275fac=function(r){return new(r||t)(G(ra))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),hO=/^\)\]\}',?\n/,fO="X-Request-URL";function cb(t){if(t.url)return t.url;let e=fO.toLocaleLowerCase();return t.headers.get(e)}var pO=(()=>{class t{constructor(){this.fetchImpl=O(ig,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=O(ye)}handle(n){return new oe(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(sg,s=>r.error(new Dr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,k({signal:r},s)));gO(I),i.next({type:Tr.Sent}),o=yield I}catch(I){i.error(new Dr({error:I,status:I.status??0,statusText:I.statusText,url:n.urlWithParams,headers:I.headers}));return}let c=new Un(o.headers),u=o.statusText,d=cb(o)??n.urlWithParams,f=o.status,g=null;if(n.reportProgress&&i.next(new Il({headers:c,status:f,statusText:u,url:d})),o.body){let I=o.headers.get("content-length"),S=[],M=o.body.getReader(),R=0,F,W,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:Te,value:ne}=yield M.read();if(Te)break;if(S.push(ne),R+=ne.length,n.reportProgress){W=n.responseType==="text"?(W??"")+(F??=new TextDecoder).decode(ne,{stream:!0}):void 0;let D=()=>i.next({type:Tr.DownloadProgress,total:I?+I:void 0,loaded:R,partialText:W});U?U.run(D):D()}}}));let ie=this.concatChunks(S,R);try{let Te=o.headers.get("Content-Type")??"";g=this.parseBody(n,ie,Te)}catch(Te){i.error(new Dr({error:Te,headers:new Un(o.headers),status:o.status,statusText:o.statusText,url:cb(o)??n.urlWithParams}));return}}f===0&&(f=g?db:0),f>=200&&f<300?(i.next(new sa({body:g,headers:c,status:f,statusText:u,url:d})),i.complete()):i.error(new Dr({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(hO,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ig=class{};function sg(){}function gO(t){t.then(sg,sg)}function mO(t,e){return e(t)}function yO(t,e,n){return(r,i)=>Jt(n,()=>e(r,s=>t(s,i)))}var hb=new V(""),vO=new V(""),_O=new V("",{providedIn:"root",factory:()=>!0});var ub=(()=>{class t extends ra{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=O(wr),this.contributeToStability=O(_O)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hb),...this.injector.get(vO,[])]));this.chain=r.reduceRight((i,s)=>yO(i,s,this.injector),mO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Jr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(G(_l),G(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var IO=/^\)\]\}',?\n/;function wO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var lb=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Re(r.\u0275loadImpl()):Q(null)).pipe(St(()=>new oe(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((M,R)=>o.setRequestHeader(M,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let M=n.detectContentTypeHeader();M!==null&&o.setRequestHeader("Content-Type",M)}if(n.responseType){let M=n.responseType.toLowerCase();o.responseType=M!=="json"?M:"text"}let c=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let M=o.statusText||"OK",R=new Un(o.getAllResponseHeaders()),F=wO(o)||n.url;return u=new Il({headers:R,status:o.status,statusText:M,url:F}),u},f=()=>{let{headers:M,status:R,statusText:F,url:W}=d(),U=null;R!==dO&&(U=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=U?db:0);let ie=R>=200&&R<300;if(n.responseType==="json"&&typeof U=="string"){let Te=U;U=U.replace(IO,"");try{U=U!==""?JSON.parse(U):null}catch(ne){U=Te,ie&&(ie=!1,U={error:ne,text:U})}}ie?(s.next(new sa({body:U,headers:M,status:R,statusText:F,url:W||void 0})),s.complete()):s.error(new Dr({error:U,headers:M,status:R,statusText:F,url:W||void 0}))},g=M=>{let{url:R}=d(),F=new Dr({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},_=!1,I=M=>{_||(s.next(d()),_=!0);let R={type:Tr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},S=M=>{let R={type:Tr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),n.reportProgress&&(o.addEventListener("progress",I),c!==null&&o.upload&&o.upload.addEventListener("progress",S)),o.send(c),s.next({type:Tr.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),n.reportProgress&&(o.removeEventListener("progress",I),c!==null&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(G(Es))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),fb=new V(""),EO="XSRF-TOKEN",DO=new V("",{providedIn:"root",factory:()=>EO}),bO="X-XSRF-TOKEN",TO=new V("",{providedIn:"root",factory:()=>bO}),wl=class{},CO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ml(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(G(wt),G(cn),G(DO))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function SO(t,e){let n=t.url.toLowerCase();if(!O(fb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(wl).getToken(),i=O(TO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function pb(...t){let e=[oa,lb,ub,{provide:ra,useExisting:ub},{provide:_l,useFactory:()=>O(pO,{optional:!0})??O(lb)},{provide:hb,useValue:SO,multi:!0},{provide:fb,useValue:!0},{provide:wl,useClass:CO}];for(let n of t)e.push(...n.\u0275providers);return jt(e)}var cg=class extends pl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ug=class t extends cg{static makeCurrent(){ZD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=AO();return n==null?null:RO(n)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ml(document.cookie,e)}},aa=null;function AO(){return aa=aa||document.querySelector("base"),aa?aa.getAttribute("href"):null}function RO(t){return new URL(t,document.baseURI).pathname}var MO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),lg=new V(""),_b=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(G(lg),G(ye))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),El=class{constructor(e){this._doc=e}},og="ng-app-id",Ib=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${og}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(og),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(og,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(G(wt),G(Pp),G(kp,8),G(cn))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hg=/%COMP%/g,wb="%COMP%",NO=`_nghost-${wb}`,xO=`_ngcontent-${wb}`,PO=!0,OO=new V("",{providedIn:"root",factory:()=>PO});function kO(t){return xO.replace(hg,t)}function FO(t){return NO.replace(hg,t)}function Eb(t,e){return e.map(n=>n.replace(hg,t))}var mb=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=yl(c),this.defaultRenderer=new ca(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r=se(k({},r),{encapsulation:rn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Dl?i.applyToHost(n):i instanceof ua&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:s=new Dl(u,d,r,this.appId,f,o,c,g);break;case rn.ShadowDom:return new dg(u,d,n,r,o,c,this.nonce,g);default:s=new ua(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(G(_b),G(Ib),G(Pp),G(OO),G(wt),G(cn),G(ye),G(kp))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ca=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ag[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ag[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ag[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dg=class extends ca{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Eb(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ua=class extends ca{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Eb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dl=class extends ua{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=kO(d),this.hostAttr=FO(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},LO=(()=>{class t extends El{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(G(wt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),vb=["alt","control","meta","shift"],VO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},jO=(()=>{class t extends El{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),vb.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=VO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vb.forEach(o=>{if(o!==i){let c=UO[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(G(wt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Db(t,e){return GD(k({rootComponent:t},BO(e)))}function BO(t){return{appProviders:[...GO,...t?.providers??[]],platformProviders:zO}}function $O(){ug.makeCurrent()}function HO(){return new Sn}function qO(){return QE(document),document}var zO=[{provide:cn,useValue:rb},{provide:Op,useValue:$O,multi:!0},{provide:wt,useFactory:qO,deps:[]}];var GO=[{provide:zu,useValue:"root"},{provide:Sn,useFactory:HO,deps:[]},{provide:lg,useClass:LO,multi:!0,deps:[wt,ye,cn]},{provide:lg,useClass:jO,multi:!0,deps:[wt]},mb,Ib,_b,{provide:fs,useExisting:mb},{provide:Es,useClass:MO,deps:[]},[]];var bb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(G(wt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee="primary",Ca=Symbol("RouteTitle"),yg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rs(t){return new yg(t)}function KO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?vg(t):void 0,r=e?vg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xb(t[i],e[i]))return!1;return!0}function vg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Pb(t){return t.length>0?t[t.length-1]:null}function Cr(t){return uf(t)?t:ui(t)?Re(Promise.resolve(t)):Q(t)}var YO={exact:kb,subset:Fb},Ob={exact:JO,subset:ZO,ignored:()=>!0};function Tb(t,e,n){return YO[n.paths](t.root,e.root,n.matrixParams)&&Ob[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function JO(t,e){return ln(t,e)}function kb(t,e,n){if(!fi(t.segments,e.segments)||!Cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kb(t.children[r],e.children[r],n))return!1;return!0}function ZO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xb(t[n],e[n]))}function Fb(t,e,n){return Lb(t,e,e.segments,n)}function Lb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fi(i,n)||e.hasChildren()||!Cl(i,n,r))}else if(t.segments.length===n.length){if(!fi(t.segments,n)||!Cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Fb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!fi(t.segments,i)||!Cl(t.segments,i,r)||!t.children[ee]?!1:Lb(t.children[ee],e,s,r)}}function Cl(t,e,n){return e.every((r,i)=>Ob[n](t[i].parameters,r.parameters))}var Bn=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return tk.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sl(this)}},hi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return Ub(this)}};function XO(t,e){return fi(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function fi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ek(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var qg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new ma,providedIn:"root"})}}return t})(),ma=class{parse(e){let n=new Ig(e);return new Bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${la(e.root,!0)}`,r=ik(e.queryParams),i=typeof e.fragment=="string"?`#${nk(e.fragment)}`:"";return`${n}${r}${i}`}},tk=new ma;function Sl(t){return t.segments.map(e=>Ub(e)).join("/")}function la(t,e){if(!t.hasChildren())return Sl(t);if(e){let n=t.children[ee]?la(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${la(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ek(t,(r,i)=>i===ee?[la(t.children[ee],!1)]:[`${i}:${la(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Sl(t)}/${n[0]}`:`${Sl(t)}/(${n.join("//")})`}}function Vb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bl(t){return Vb(t).replace(/%3B/gi,";")}function nk(t){return encodeURI(t)}function _g(t){return Vb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(t){return decodeURIComponent(t)}function Cb(t){return Al(t.replace(/\+/g,"%20"))}function Ub(t){return`${_g(t.path)}${rk(t.parameters)}`}function rk(t){return Object.entries(t).map(([e,n])=>`;${_g(e)}=${_g(n)}`).join("")}function ik(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bl(n)}=${bl(i)}`).join("&"):`${bl(n)}=${bl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sk=/^[^\/()?;#]+/;function fg(t){let e=t.match(sk);return e?e[0]:""}var ok=/^[^\/()?;=#]+/;function ak(t){let e=t.match(ok);return e?e[0]:""}var ck=/^[^=?&#]+/;function uk(t){let e=t.match(ck);return e?e[0]:""}var lk=/^[^&#]+/;function dk(t){let e=t.match(lk);return e?e[0]:""}var Ig=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new _e(e,n)),r}parseSegment(){let e=fg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new hi(Al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ak(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fg(this.remaining);i&&(r=i,this.capture(r))}e[Al(n)]=Al(r)}parseQueryParam(e){let n=uk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=dk(this.remaining);o&&(r=o,this.capture(r))}let i=Cb(n),s=Cb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function jb(t){return t.segments.length>0?new _e([],{[ee]:t}):t}function Bb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Bb(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return hk(n)}function hk(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new _e(t.segments.concat(e.segments),e.children)}return t}function ya(t){return t instanceof Bn}function fk(t,e,n=null,r=null){let i=$b(t);return Hb(i,e,n,r)}function $b(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new _e(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=jb(r);return e??i}function Hb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pg(i,i,i,n,r);let s=pk(e);if(s.toRoot())return pg(i,i,new _e([],{}),n,r);let o=gk(s,i,t),c=o.processChildren?fa(o.segmentGroup,o.index,s.commands):zb(o.segmentGroup,o.index,s.commands);return pg(i,o.segmentGroup,c,n,r)}function Rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function va(t){return typeof t=="object"&&t!=null&&t.outlets}function pg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=qb(t,e,n);let c=jb(Bb(o));return new Bn(c,s,i)}function qb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qb(s,e,n)}),new _e(t.segments,r)}var Ml=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rl(r[0]))throw new B(4003,!1);let i=r.find(va);if(i&&i!==Pb(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Ml(n,e,r)}var Cs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function gk(t,e,n){if(t.isAbsolute)return new Cs(e,!0,0);if(!n)return new Cs(e,!1,NaN);if(n.parent===null)return new Cs(n,!0,0);let r=Rl(t.commands[0])?0:1,i=n.segments.length-1+r;return mk(n,i,t.numberOfDoubleDots)}function mk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Cs(r,!1,i-s)}function yk(t){return va(t[0])?t[0].outlets:{[ee]:t}}function zb(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return fa(t,e,n);let r=vk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new _e(t.segments.slice(r.pathIndex),t.children),fa(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?wg(t,e,n):r.match?fa(t,0,i):wg(t,e,n)}function fa(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=yk(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=fa(t.children[ee],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function vk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(va(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!Ab(u,d,o))return s;r+=2}else{if(!Ab(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(va(s)){let u=_k(s.outlets);return new _e(r,u)}if(i===0&&Rl(n[0])){let u=t.segments[e];r.push(new hi(u.path,Sb(n[0]))),i++;continue}let o=va(s)?s.outlets[ee]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Rl(c)?(r.push(new hi(o,Sb(c))),i+=2):(r.push(new hi(o,{})),i++)}return new _e(r,{})}function _k(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=wg(new _e([],{}),0,r))}),e}function Sb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ab(t,e,n){return t==n.path&&ln(e,n.parameters)}var pa="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Ht=class{constructor(e,n){this.id=e,this.url=n}},_a=class extends Ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pi=class extends Ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Eg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Eg||{}),jn=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationSkipped}},Ia=class extends Ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nl=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class extends Ht{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tg=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ag=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ng=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wa=class{},Ms=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Ik(t,e){return t.providers&&!t._injector&&(t._injector=Wp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xt(t){return t.outlet||ee}function wk(t,e){let n=t.filter(r=>Xt(r)===e);return n.push(...t.filter(r=>Xt(r)!==e)),n}function Sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pg=class{get injector(){return Sa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vl(this.rootInjector),this.attachRef=null}},Vl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Pg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(G(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Og(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Og(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kg(e,this._root).map(n=>n.value)}};function Og(t,e){if(t===e.value)return e;for(let n of e.children){let r=Og(t,n);if(r)return r}return null}function kg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=kg(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pl=class extends xl{constructor(e,n){super(e),this.snapshot=n,zg(this,e)}toString(){return this.snapshot.toString()}};function Gb(t){let e=Ek(t),n=new Je([new hi("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),c=new Ns(n,r,s,o,i,ee,t,e.root);return c.snapshot=e.root,new Pl(new Mt(c,[]),e)}function Ek(t){let e={},n={},r={},i="",s=new Ss([],e,r,i,n,ee,t,null,{});return new kl("",new Mt(s,[]))}var Ns=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(d=>d[Ca]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ol(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&Kb(i)&&(r.resolve[Ca]=i.title),r}var Ss=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kl=class extends xl{constructor(e,n){super(n),this.url=e,zg(this,n)}toString(){return Wb(this._root)}};function zg(t,e){e.value._routerState=t,e.children.forEach(n=>zg(t,n))}function Wb(t){let e=t.children.length>0?` { ${t.children.map(Wb).join(", ")} } `:"";return`${t.value}${e}`}function gg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),QO(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fg(t,e){let n=ln(t.params,e.params)&&XO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fg(t.parent,e.parent))}function Kb(t){return typeof t.title=="string"||t.title===null}var Gg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=O(Vl),this.location=O(vs),this.changeDetector=O(li),this.inputBinder=O(Wg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Lg(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]})}}return t})(),Lg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ns?this.route:e===Vl?this.childContexts:this.parent.get(e,n)}},Wg=new V("");function Dk(t,e,n){let r=Ea(t,e._root,n?n._root:void 0);return new Pl(r,e)}function Ea(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=bk(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ea(t,c)),o}}let r=Tk(e.value),i=e.children.map(s=>Ea(t,s));return new Mt(r,i)}}function bk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ea(t,r,i);return Ea(t,r)})}function Tk(t){return new Ns(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Da=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Qb="ngNavigationCancelingError";function Fl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ya(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yb(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Yb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Qb]=!0,n.cancellationCode=e,n}function Ck(t){return Jb(t)&&ya(t.url)}function Jb(t){return!!t&&t[Qb]}var Sk=(t,e,n,r)=>X(i=>(new Vg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(gg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),gg(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ll=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},As=class{constructor(e,n){this.component=e,this.route=n}};function Ak(t,e,n){let r=t._root,i=e?e._root:null;return da(r,i,n,[r.value])}function Rk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ps(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Fw(t)?t:e.get(t):r}function da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ts(e);return t.children.forEach(o=>{Mk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ga(c,n.getContext(o),i)),i}function Mk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Nk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ll(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?da(t,e,c?c.children:null,r,i):da(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new As(c.outlet.component,o))}else o&&ga(e,c,i),i.canActivateChecks.push(new Ll(r)),s.component?da(t,null,c?c.children:null,r,i):da(t,null,n,r,i);return i}function Nk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fi(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!Fg(t,e)}}function ga(t,e,n){let r=Ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ga(o,e.children.getContext(s),n):ga(o,null,n):ga(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new As(e.outlet.component,i)):n.canDeactivateChecks.push(new As(null,i)):n.canDeactivateChecks.push(new As(null,i))}function Aa(t){return typeof t=="function"}function xk(t){return typeof t=="boolean"}function Pk(t){return t&&Aa(t.canLoad)}function Ok(t){return t&&Aa(t.canActivate)}function kk(t){return t&&Aa(t.canActivateChild)}function Fk(t){return t&&Aa(t.canDeactivate)}function Lk(t){return t&&Aa(t.canMatch)}function Zb(t){return t instanceof Tn||t?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function xs(){return St(t=>su(t.map(e=>e.pipe(Cn(1),gf(Tl)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Tl)return Tl;if(n===!1||Vk(n))return n}return!0}),Ct(e=>e!==Tl),Cn(1)))}function Vk(t){return ya(t)||t instanceof Da}function Uk(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(se(k({},n),{guardsResult:!0})):jk(o,r,i,t).pipe(He(c=>c&&xk(c)?Bk(r,s,t,e):Q(c)),X(c=>se(k({},n),{guardsResult:c})))})}function jk(t,e,n,r){return Re(t).pipe(He(i=>Gk(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function Bk(t,e,n,r){return Re(e).pipe(lr(i=>Yi(Hk(i.route.parent,r),$k(i.route,r),zk(t,i.path,n),qk(t,i.route,n))),en(i=>i!==!0,!0))}function $k(t,e){return t!==null&&e&&e(new Ng(t)),Q(!0)}function Hk(t,e){return t!==null&&e&&e(new Rg(t)),Q(!0)}function qk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>ou(()=>{let o=Sa(e)??n,c=Ps(s,o),u=Ok(c)?c.canActivate(e,t):Jt(o,()=>c(e,t));return Cr(u).pipe(en())}));return Q(i).pipe(xs())}function zk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Rk(o)).filter(o=>o!==null).map(o=>ou(()=>{let c=o.guards.map(u=>{let d=Sa(o.node)??n,f=Ps(u,d),g=kk(f)?f.canActivateChild(r,t):Jt(d,()=>f(r,t));return Cr(g).pipe(en())});return Q(c).pipe(xs())}));return Q(s).pipe(xs())}function Gk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(c=>{let u=Sa(e)??i,d=Ps(c,u),f=Fk(d)?d.canDeactivate(t,e,n,r):Jt(u,()=>d(t,e,n,r));return Cr(f).pipe(en())});return Q(o).pipe(xs())}function Wk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let c=Ps(o,t),u=Pk(c)?c.canLoad(e,n):Jt(t,()=>c(e,n));return Cr(u)});return Q(s).pipe(xs(),Xb(r))}function Xb(t){return ef(ke(e=>{if(typeof e!="boolean")throw Fl(t,e)}),X(e=>e===!0))}function Kk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let c=Ps(o,t),u=Lk(c)?c.canMatch(e,n):Jt(t,()=>c(e,n));return Cr(u)});return Q(s).pipe(xs(),Xb(r))}var ba=class{constructor(e){this.segmentGroup=e||null}},Ta=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(t){return Qi(new ba(t))}function Qk(t){return Qi(new B(4e3,!1))}function Yk(t){return Qi(Yb(!1,Nt.GuardRejected))}var Ug=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ee])return Qk(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:I,data:S,title:M}=i,R=Jt(s,()=>c({params:I,data:S,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:M}));if(R instanceof Bn)throw new Ta(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ta(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Bn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jk(t,e,n,r,i){let s=eT(t,e,n);return s.matched?(r=Ik(e,r),Kk(r,e,n,i).pipe(X(o=>o===!0?s:k({},jg)))):Q(s)}function eT(t,e,n){if(e.path==="**")return Zk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KO)(n,t,e);if(!i)return k({},jg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Zk(t){return{matched:!0,parameters:t.length>0?Pb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Rb(t,e,n,r){return n.length>0&&t1(t,n,r)?{segmentGroup:new _e(e,e1(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&n1(t,n,r)?{segmentGroup:new _e(t.segments,Xk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function Xk(t,e,n,r){let i={};for(let s of n)if(Ul(t,e,s)&&!r[Xt(s)]){let o=new _e([],{});i[Xt(s)]=o}return k(k({},r),i)}function e1(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&Xt(r)!==ee){let i=new _e([],{});n[Xt(r)]=i}return n}function t1(t,e,n){return n.some(r=>Ul(t,e,r)&&Xt(r)!==ee)}function n1(t,e,n){return n.some(r=>Ul(t,e,r))}function Ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function r1(t,e,n){return e.length===0&&!t.children[n]}var Bg=class{};function i1(t,e,n,r,i,s,o="emptyOnly"){return new $g(t,e,n,r,i,o,s).recognize()}var s1=31,$g=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Ug(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=Rb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new kl("",i),o=fk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ss([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(X(r=>({children:r,rootSnapshot:n})),ur(r=>{if(r instanceof Ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ba?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(X(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(lr(o=>{let c=r.children[o],u=wk(n,o);return this.processSegmentGroup(e,u,c,o,i)}),pf((o,c)=>(o.push(...c),o)),dr(null),ff(),He(o=>{if(o===null)return bs(r);let c=tT(o);return o1(c),Q(c)}))}processSegment(e,n,r,i,s,o,c){return Re(n).pipe(lr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(ur(d=>{if(d instanceof ba)return Q(null);throw d}))),en(u=>!!u),ur(u=>{if(Zb(u))return r1(r,i,s)?Q(new Bg):bs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Xt(r)!==o&&(o===ee||!Ul(i,s,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=eT(n,i,s);if(!u)return bs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>s1&&(this.allowRedirects=!1));let I=new Ss(s,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(i),Xt(i),i.component??i._loadedComponent??null,i,Nb(i)),S=Ol(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(He(R=>this.processSegment(e,r,n,R.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=Jk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,S=new Ss(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(r),Xt(r),r.component??r._loadedComponent??null,r,Nb(r)),M=Ol(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=Rb(n,_,I,d);if(F.length===0&&R.hasChildren())return this.processChildren(f,d,R,S).pipe(X(U=>new Mt(S,U)));if(d.length===0&&F.length===0)return Q(new Mt(S,[]));let W=Xt(r)===s;return this.processSegment(f,d,R,F,W?ee:s,!0,S).pipe(X(U=>new Mt(S,U instanceof Mt?[U]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):Wk(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Yk(n))):Q({routes:[],injector:e})}};function o1(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function a1(t){let e=t.value.routeConfig;return e&&e.path===""}function tT(t){let e=[],n=new Set;for(let r of t){if(!a1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tT(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function Mb(t){return t.data||{}}function Nb(t){return t.resolve||{}}function c1(t,e,n,r,i,s){return He(o=>i1(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:c,tree:u})=>se(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function u1(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of nT(u))o.add(d);let c=0;return Re(o).pipe(lr(u=>s.has(u)?l1(u,r,t,e):(u.data=Ol(u,u.parent,t).resolve,Q(void 0))),ke(()=>c++),Ji(1),He(u=>c===o.size?Q(n):Tt))})}function nT(t){let e=t.children.map(n=>nT(n)).flat();return[t,...e]}function l1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Kb(i)&&(s[Ca]=i.title),d1(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=Ol(t,t.parent,n).resolve,null)))}function d1(t,e,n,r){let i=vg(t);if(i.length===0)return Q({});let s={};return Re(i).pipe(He(o=>h1(t[o],e,n,r).pipe(en(),ke(c=>{if(c instanceof Da)throw Fl(new ma,c);s[o]=c}))),Ji(1),hf(s),ur(o=>Zb(o)?Tt:Qi(o)))}function h1(t,e,n,r){let i=Sa(e)??r,s=Ps(t,i),o=s.resolve?s.resolve(e,n):Jt(i,()=>s(e,n));return Cr(o)}function mg(t){return St(e=>{let n=t(e);return n?Re(n).pipe(X(()=>e)):Q(e)})}var rT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[Ca]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(f1),providedIn:"root"})}}return t})(),f1=(()=>{class t extends rT{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(G(bb))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kg=new V("",{providedIn:"root",factory:()=>({})}),p1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ut({type:t,selectors:[["ng-component"]],standalone:!0,features:[$t],decls:1,vars:0,template:function(r,i){r&1&&Ze(0,"router-outlet")},dependencies:[Gg],encapsulation:2})}}return t})();function Qg(t){let e=t.children&&t.children.map(Qg),n=e?se(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=p1),n}var Yg=new V(""),g1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Yp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Cr(n.loadComponent()).pipe(X(iT),ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Jr(()=>{this.componentLoaders.delete(n)})),i=new zi(r,()=>new Ye).pipe(qi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=m1(r,this.compiler,n,this.onLoadEndListener).pipe(Jr(()=>{this.childrenLoaders.delete(r)})),o=new zi(s,()=>new Ye).pipe(qi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function m1(t,e,n,r){return Cr(t.loadChildren()).pipe(X(iT),He(i=>i instanceof qo||Array.isArray(i)?Q(i):Re(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Yg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qg),injector:s}}))}function y1(t){return t&&typeof t=="object"&&"default"in t}function iT(t){return y1(t)?t.default:t}var Jg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(v1),providedIn:"root"})}}return t})(),v1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_1=new V("");var I1=new V(""),w1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=O(g1),this.environmentInjector=O(mt),this.urlSerializer=O(qg),this.rootContexts=O(Vl),this.location=O(ea),this.inputBindingEnabled=O(Wg,{optional:!0})!==null,this.titleStrategy=O(rT),this.options=O(Kg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Jg),this.createViewTransition=O(_1,{optional:!0}),this.navigationErrorHandler=O(I1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Sg(i)),r=i=>this.events.next(new Ag(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(se(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(s=>s.id!==0),X(s=>se(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),St(s=>{let o=!1,c=!1;return Q(s).pipe(St(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),Tt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?se(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.rawUrl),g,Eg.IgnoredSameUrlNavigation)),u.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(St(g=>{let _=this.transitions?.getValue();return this.events.next(new _a(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Tt:Promise.resolve(g)}),c1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=se(k({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Nl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:S,extras:M}=u,R=new _a(g,this.urlSerializer.serialize(_),I,S);this.events.next(R);let F=Gb(this.rootComponentType).snapshot;return this.currentTransition=s=se(k({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:se(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Q(s)}else{let g="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Eg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Tt}}),ke(u=>{let d=new Dg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),X(u=>(this.currentTransition=s=se(k({},u),{guards:Ak(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Uk(this.environmentInjector,u=>this.events.next(u)),ke(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Fl(this.urlSerializer,u.guardsResult);let d=new bg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nt.GuardRejected),!1)),mg(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(ke(d=>{let f=new Tg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),St(d=>{let f=!1;return Q(d).pipe(u1(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Nt.NoDataFromResolver)}}))}),ke(d=>{let f=new Cg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),mg(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(ke(_=>{f.component=_}),X(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return su(d(u.targetSnapshot.root)).pipe(dr(null),Cn(1))}),mg(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Re(f).pipe(X(()=>s)):Q(s)}),X(u=>{let d=Dk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=se(k({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ke(()=>{this.events.next(new wa)}),Sk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Cn(1),ke({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),mf(this.transitionAbortSubject.pipe(ke(u=>{throw u}))),Jr(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ur(u=>{if(c=!0,Jb(u))this.events.next(new jn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Ck(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Ia(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Da){let{message:g,cancellationCode:_}=Fl(this.urlSerializer,f);this.events.next(new jn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Ms(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Tt}))}))}cancelNavigationTransition(n,r,i){let s=new jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function E1(t){return t!==pa}var D1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(b1),providedIn:"root"})}}return t})(),Hg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},b1=(()=>{class t extends Hg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(T1),providedIn:"root"})}}return t})(),T1=(()=>{class t extends sT{constructor(){super(...arguments),this.location=O(ea),this.urlSerializer=O(qg),this.options=O(Kg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Bn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof _a)this.stateMemento=this.createStateMemento();else if(n instanceof gi)this.rawUrlTree=r.initialUrl;else if(n instanceof Nl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof jn&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ia?this.restoreHistory(r,!0):n instanceof pi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Bn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ha=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ha||{});function C1(t,e){t.events.pipe(Ct(n=>n instanceof pi||n instanceof jn||n instanceof Ia||n instanceof gi),X(n=>n instanceof pi||n instanceof gi?ha.COMPLETE:(n instanceof jn?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?ha.REDIRECTING:ha.FAILED),Ct(n=>n!==ha.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function S1(t){throw t}var A1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(hl),this.stateManager=O(sT),this.options=O(Kg,{optional:!0})||{},this.pendingTasks=O(wr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(w1),this.urlSerializer=O(qg),this.location=O(ea),this.urlHandlingStrategy=O(Jg),this._events=new Ye,this.errorHandler=this.options.errorHandler||S1,this.navigated=!1,this.routeReuseStrategy=O(D1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Yg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Wg,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof jn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pi)this.navigated=!0;else if(r instanceof Ms){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||E1(i.source)},o);this.scheduleNavigation(c,pa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}N1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=$b(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return Hb(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ya(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,pa,null,r)}navigate(n,r={skipLocationChange:!1}){return M1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},A1):r===!1?i=k({},R1):i=r,ya(n))return Tb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return Tb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return C1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function M1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function N1(t){return!(t instanceof wa)&&!(t instanceof Ms)}var x1=new V("");function oT(t,...e){return jt([{provide:Yg,multi:!0,useValue:t},[],{provide:Ns,useFactory:P1,deps:[Sr]},{provide:fl,multi:!0,useFactory:O1},e.map(n=>n.\u0275providers)])}function P1(t){return t.routerState.root}function O1(){let t=O(yt);return e=>{let n=t.get(Er);if(e!==n.components[0])return;let r=t.get(Sr),i=t.get(k1);t.get(F1)===1&&r.initialNavigation(),t.get(L1,null,te.Optional)?.setUpPreloading(),t.get(x1,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var k1=new V("",{factory:()=>new Ye}),F1=new V("",{providedIn:"root",factory:()=>1});var L1=new V("");var cT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new em;let _=s<<2|c>>4;if(r.push(_),d!==64){let I=c<<4&240|d>>2;if(r.push(I),g!==64){let S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},U1=function(t){let e=cT(t);return uT.encodeByteArray(e,!0)},Ra=function(t){return U1(t).replace(/\./g,"")},nm=function(t){try{return uT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var B1=()=>j1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&nm(t[1]);return e&&JSON.parse(e)},Bl=()=>{try{return B1()||$1()||H1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rm=t=>{var e,n;return(n=(e=Bl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lT=t=>{let e=rm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},im=()=>{var t;return(t=Bl())===null||t===void 0?void 0:t.config},sm=t=>{var e;return(e=Bl())===null||e===void 0?void 0:e[`_${t}`]};var jl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function dT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ra(JSON.stringify(n)),Ra(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function q1(){var t;let e=(t=Bl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mT(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yT(){return!q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function om(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var z1="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}},$n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?G1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new xt(i,c,r)}};function G1(t,e){return t.replace(W1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var W1=/\{\$([^}]+)}/g;function _T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(aT(s)&&aT(o)){if(!mi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}function Ma(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Os(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IT(t,e){let n=new tm(t,e);return n.subscribe.bind(n)}var tm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function K1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}var IW=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var qt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yi="[DEFAULT]";var am=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y1(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q1(t){return t===yi?void 0:t}function Y1(t){return t.instantiationMode==="EAGER"}var $l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new am(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var J1=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),Z1={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},X1=de.INFO,eF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},tF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=eF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=tF,this._userLogHandler=null,J1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var nF=(t,e)=>e.some(n=>t instanceof n),wT,ET;function rF(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iF(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DT=new WeakMap,um=new WeakMap,bT=new WeakMap,cm=new WeakMap,dm=new WeakMap;function sF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),dm.set(e,t),e}function oF(t){if(um.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}var lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TT(t){lm=t(lm)}function aF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hl(this),e,...n);return bT.set(r,e.sort?e.sort():[e]),dn(r)}:iF().includes(t)?function(...e){return t.apply(Hl(this),e),dn(DT.get(this))}:function(...e){return dn(t.apply(Hl(this),e))}}function cF(t){return typeof t=="function"?aF(t):(t instanceof IDBTransaction&&oF(t),nF(t,rF())?new Proxy(t,lm):t)}function dn(t){if(t instanceof IDBRequest)return sF(t);if(cm.has(t))return cm.get(t);let e=cF(t);return e!==t&&(cm.set(t,e),dm.set(e,t)),e}var Hl=t=>dm.get(t);function ST(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=dn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(dn(o.result),u.oldVersion,u.newVersion,dn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var uF=["get","getKey","getAll","getAllKeys","count"],lF=["put","add","delete","clear"],hm=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=lF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uF.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return hm.set(e,s),s}TT(t=>se(k({},t),{get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));var pm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dF(t){let e=t.getComponent();return e?.type==="VERSION"}var gm="@firebase/app",AT="0.10.13";var Hn=new Ar("@firebase/app"),hF="@firebase/app-compat",fF="@firebase/analytics-compat",pF="@firebase/analytics",gF="@firebase/app-check-compat",mF="@firebase/app-check",yF="@firebase/auth",vF="@firebase/auth-compat",_F="@firebase/database",IF="@firebase/data-connect",wF="@firebase/database-compat",EF="@firebase/functions",DF="@firebase/functions-compat",bF="@firebase/installations",TF="@firebase/installations-compat",CF="@firebase/messaging",SF="@firebase/messaging-compat",AF="@firebase/performance",RF="@firebase/performance-compat",MF="@firebase/remote-config",NF="@firebase/remote-config-compat",xF="@firebase/storage",PF="@firebase/storage-compat",OF="@firebase/firestore",kF="@firebase/vertexai-preview",FF="@firebase/firestore-compat",LF="firebase",VF="10.14.1";var mm="[DEFAULT]",UF={[gm]:"fire-core",[hF]:"fire-core-compat",[pF]:"fire-analytics",[fF]:"fire-analytics-compat",[mF]:"fire-app-check",[gF]:"fire-app-check-compat",[yF]:"fire-auth",[vF]:"fire-auth-compat",[_F]:"fire-rtdb",[IF]:"fire-data-connect",[wF]:"fire-rtdb-compat",[EF]:"fire-fn",[DF]:"fire-fn-compat",[bF]:"fire-iid",[TF]:"fire-iid-compat",[CF]:"fire-fcm",[SF]:"fire-fcm-compat",[AF]:"fire-perf",[RF]:"fire-perf-compat",[MF]:"fire-rc",[NF]:"fire-rc-compat",[xF]:"fire-gcs",[PF]:"fire-gcs-compat",[OF]:"fire-fst",[FF]:"fire-fst-compat",[kF]:"fire-vertex","fire-js":"fire-js",[LF]:"fire-js-all"};var Na=new Map,jF=new Map,ym=new Map;function RT(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mr(t){let e=t.name;if(ym.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,t);for(let n of Na.values())RT(n,t);for(let n of jF.values())RT(n,t);return!0}function Pa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t.settings!==void 0}var BF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new $n("app","Firebase",BF);var vm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}};var Nr=VF;function wm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Rr.create("bad-app-name",{appName:String(i)});if(n||(n=im()),!n)throw Rr.create("no-options");let s=Na.get(i);if(s){if(mi(n,s.options)&&mi(r,s.config))return s;throw Rr.create("duplicate-app",{appName:i})}let o=new $l(i);for(let u of ym.values())o.addComponent(u);let c=new vm(n,r,o);return Na.set(i,c),c}function Fs(t=mm){let e=Na.get(t);if(!e&&t===mm&&im())return wm();if(!e)throw Rr.create("no-app",{appName:t});return e}function ql(){return Array.from(Na.values())}function qe(t,e,n){var r;let i=(r=UF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(c.join(" "));return}Mr(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $F="firebase-heartbeat-database",HF=1,xa="firebase-heartbeat-store",fm=null;function PT(){return fm||(fm=ST($F,HF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),fm}function qF(t){return w(this,null,function*(){try{let n=(yield PT()).transaction(xa),r=yield n.objectStore(xa).get(OT(t));return yield n.done,r}catch(e){if(e instanceof xt)Hn.warn(e.message);else{let n=Rr.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(n.message)}}})}function MT(t,e){return w(this,null,function*(){try{let r=(yield PT()).transaction(xa,"readwrite");yield r.objectStore(xa).put(e,OT(t)),yield r.done}catch(n){if(n instanceof xt)Hn.warn(n.message);else{let r=Rr.create("idb-set",{originalErrorMessage:n?.message});Hn.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var zF=1024,GF=30*24*60*60*1e3,_m=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Im(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=GF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NT(),{heartbeatsToSend:r,unsentEntries:i}=WF(this._heartbeatsCache.heartbeats),s=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hn.warn(n),""}})}};function NT(){return new Date().toISOString().substring(0,10)}function WF(t,e=zF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Im=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return om()?vT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xT(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function KF(t){Mr(new qt("platform-logger",e=>new pm(e),"PRIVATE")),Mr(new qt("heartbeat",e=>new _m(e),"PRIVATE")),qe(gm,AT,t),qe(gm,AT,"esm2017"),qe("fire-js","")}KF("");var QF="firebase",YF="10.14.1";qe(QF,YF,"app");var _i=new Rn("ANGULARFIRE2_VERSION");function Gl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oa=(t,e)=>{let n=e?[e]:ql(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Vs=class{constructor(){return Oa(JF)}},JF="app-check";function Ls(){}var zl=class{zone;delegate;constructor(e,n=af){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Em=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),n.pipe(ke({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Us=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=n.run(()=>new zl(Zone.current,of)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(ye))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ZF(t){return Wl().ngZone.runOutsideAngular(()=>t())}function vi(t){return Wl().ngZone.run(()=>t())}function XF(t){return eL(Wl())(t)}function eL(t){return function(n){return n=n.lift(new Em(t.ngZone)),n.pipe(cr(t.outsideAngular),ar(t.insideAngular))}}var tL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vi(()=>t.apply(void 0,r))},fn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls))),r[s]=tL(r[s],n));let i=ZF(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=Wl();return i.pipe(cr(s.outsideAngular),ar(s.insideAngular))}else return vi(()=>i);return i instanceof oe?i.pipe(XF):i instanceof Promise?vi(()=>new Promise((s,o)=>i.then(c=>vi(()=>s(c)),c=>vi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};var qn=class{constructor(e){return e}},Ii=class{constructor(){return ql()}};function nL(t){return t&&t.length===1?t[0]:new qn(Fs())}var Dm=new V("angularfire2._apps"),rL={provide:qn,useFactory:nL,deps:[[new ht,Dm]]},iL={provide:Ii,deps:[[new ht,Dm]]};function sL(t){return(e,n)=>{let r=n.get(cn);qe("angularfire",_i.full,"core"),qe("angularfire",_i.full,"app"),qe("angular",VD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qn(i)}}function kT(t,...e){return jt([rL,iL,{provide:Dm,useFactory:sL(t),multi:!0,deps:[ye,yt,Us,...e]}])}var FT=fn(wm,!0);function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tC=eC,nC=new $n("auth","Firebase",eC());var Xl=new Ar("@firebase/auth");function oL(t,...e){Xl.logLevel<=de.WARN&&Xl.warn(`Auth (${Nr}): ${t}`,...e)}function Ql(t,...e){Xl.logLevel<=de.ERROR&&Xl.error(`Auth (${Nr}): ${t}`,...e)}function gn(t,...e){throw zm(t,...e)}function wi(t,...e){return zm(t,...e)}function rC(t,e,n){let r=Object.assign(Object.assign({},tC()),{[e]:n});return new $n("auth","Firebase",r).create(e,{appName:t.name})}function Pr(t){return rC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nC.create(t,...e)}function K(t,e,...n){if(!t)throw zm(e,...n)}function zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Or(t,e){t||zn(e)}function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aL(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function cL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aL()||pT()||"connection"in navigator)?navigator.onLine:!0}function uL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=hT()||gT()}get(){return cL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gm(t,e){Or(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ed=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dL=new Ei(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function kr(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return iC(t,i,()=>w(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Ma(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:_},d);return fT()||(I.referrerPolicy="no-referrer"),ed.fetch()(sC(t,t.config.apiHost,n,g),I)}))})}function iC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lL),e);try{let i=new Am(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Kl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Kl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rC(t,f,d);gn(t,f)}}catch(i){if(i instanceof xt)throw i;gn(t,"network-request-failed",{message:String(i)})}})}function ld(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let d=yield kr(t,e,n,r,i);return"mfaPendingCredential"in d&&gn(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function sC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gm(t.config,i):`${t.config.apiScheme}://${i}`}function hL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Am=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),dL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wi(t,e,r);return i.customData._tokenResponse=n,i}function VT(t){return t!==void 0&&t.enterprise!==void 0}var Rm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function fL(t,e){return w(this,null,function*(){return kr(t,"GET","/v2/recaptchaConfig",bi(t,e))})}function pL(t,e){return w(this,null,function*(){return kr(t,"POST","/v1/accounts:delete",e)})}function oC(t,e){return w(this,null,function*(){return kr(t,"POST","/v1/accounts:lookup",e)})}function ka(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wm(t,e=!1){return w(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=Km(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ka(bm(i.auth_time)),issuedAtTime:ka(bm(i.iat)),expirationTime:ka(bm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function bm(t){return Number(t)*1e3}function Km(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{let i=nm(n);return i?JSON.parse(i):(Ql("Failed to decode base64 JWT payload"),null)}catch(i){return Ql("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UT(t){let e=Km(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function La(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&gL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Va=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function td(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield La(t,oC(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aC(s.providerUserInfo):[],c=mL(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Va(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Qm(t){return w(this,null,function*(){let e=ft(t);yield td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function mL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aC(t){return t.map(e=>{var{providerId:n}=e,r=cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yL(t,e){return w(this,null,function*(){let n=yield iC(t,{},()=>w(this,null,function*(){let r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ed.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function vL(t,e){return w(this,null,function*(){return kr(t,"POST","/v2/accounts:revokeToken",bi(t,e))})}var Fa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=UT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield yL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zn("not implemented")}};function xr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var js=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Va(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield La(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wm(this,e)}reload(){return Qm(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield td(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(hn(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield La(this,pL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:U,emailVerified:ie,isAnonymous:Te,providerData:ne,stsTokenManager:D}=n;K(U&&D,e,"internal-error");let m=Fa.fromJSON(this.name,D);K(typeof U=="string",e,"internal-error"),xr(g,e.name),xr(_,e.name),K(typeof ie=="boolean",e,"internal-error"),K(typeof Te=="boolean",e,"internal-error"),xr(I,e.name),xr(S,e.name),xr(M,e.name),xr(R,e.name),xr(F,e.name),xr(W,e.name);let y=new t({uid:U,auth:e,email:_,emailVerified:ie,displayName:g,isAnonymous:Te,photoURL:S,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:F,lastLoginAt:W});return ne&&Array.isArray(ne)&&(y.providerData=ne.map(E=>Object.assign({},E))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Fa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield td(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?aC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Fa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Va(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var jT=new Map;function Gn(t){Or(t instanceof Function,"Expected a class definition");let e=jT.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jT.set(t,e),e)}var _L=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Nm=_L;function Yl(t,e,n){return`firebase:${t}:${e}:${n}`}var nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Yl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Gn(Nm),e,r);let i=(yield Promise.all(n.map(d=>w(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Gn(Nm),o=Yl(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=js._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>w(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(pC(e))return"Webos";if(uC(e))return"Safari";if((e.includes("chrome/")||lC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cC(t=Ge()){return/firefox\//i.test(t)}function uC(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lC(t=Ge()){return/crios\//i.test(t)}function dC(t=Ge()){return/iemobile/i.test(t)}function hC(t=Ge()){return/android/i.test(t)}function fC(t=Ge()){return/blackberry/i.test(t)}function pC(t=Ge()){return/webos/i.test(t)}function Ym(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IL(t=Ge()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wL(){return mT()&&document.documentMode===10}function gC(t=Ge()){return Ym(t)||hC(t)||pC(t)||fC(t)||/windows phone/i.test(t)||dC(t)}function mC(t,e=[]){let n;switch(t){case"Browser":n=BT(Ge());break;case"Worker":n=`${BT(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nr}/${r}`}var xm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function EL(n){return w(this,arguments,function*(t,e={}){return kr(t,"GET","/v2/passwordPolicy",bi(t,e))})}var DL=6,Pm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Om=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rd(this),this.idTokenSubscription=new rd(this),this.beforeStateQueue=new xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield oC(this,{idToken:e}),r=yield js._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(hn(this.app))return Promise.reject(Pr(this));let n=e?ft(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return hn(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hn(this.app)?Promise.reject(Pr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield EL(this),n=new Pm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield vL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield nd.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&oL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Bs(t){return ft(t)}var rd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IT(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bL(t){dd=t}function yC(t){return dd.loadJS(t)}function TL(){return dd.recaptchaEnterpriseScript}function CL(){return dd.gapiScript}function vC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var SL="recaptcha-enterprise",AL="NO_RECAPTCHA",km=class{constructor(e){this.type=SL,this.auth=Bs(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){fL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new Rm(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;VT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(AL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&VT(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TL();u.length!==0&&(u+=c),yC(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function $T(t,e,n,r=!1){return w(this,null,function*(){let i=new km(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function HT(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $T(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $T(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Jm(t,e){let n=Pa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(mi(s,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function RL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zm(t,e,n){let r=Bs(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=_C(e),{host:o,port:c}=ML(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NL()}function _C(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ML(t){let e=_C(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:qT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:qT(o)}}}function qT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ua=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}};function xL(t,e){return w(this,null,function*(){return kr(t,"POST","/v1/accounts:signUp",e)})}function PL(t,e){return w(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))})}function OL(t,e){return w(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}function kL(t,e){return w(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}var ja=class t extends Ua{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HT(e,n,"signInWithPassword",PL);case"emailLink":return OL(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HT(e,r,"signUpPassword",xL);case"emailLink":return kL(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Tm(t,e){return w(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))})}function FL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LL(t){let e=Os(ks(t)).link,n=e?Os(ks(e)).deep_link_id:null,r=Os(ks(t)).deep_link_id;return(r?Os(ks(r)).link:null)||r||n||e||t}var id=class t{constructor(e){var n,r,i,s,o,c;let u=Os(ks(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=FL((i=u.mode)!==null&&i!==void 0?i:null);K(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=LL(e);try{return new t(n)}catch{return null}}};var IC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ja._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=id.parseLink(r);return K(i,"argument-error"),ja._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fm=class extends sd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ba=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield js._fromIdTokenResponse(e,r,i),o=zT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lm=class t extends xt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function wC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,s,e,r):s})}function VL(t,e,n=!1){return w(this,null,function*(){let r=yield La(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ba._forOperation(t,"link",r)})}function UL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(hn(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let s=yield La(t,wC(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=Km(s.idToken);K(o,r,"internal-error");let{sub:c}=o;return K(t.uid===c,r,"user-mismatch"),Ba._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),s}})}function EC(t,e,n=!1){return w(this,null,function*(){if(hn(t.app))return Promise.reject(Pr(t));let r="signIn",i=yield wC(t,r,e),s=yield Ba._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xm(t,e){return w(this,null,function*(){return EC(Bs(t),e)})}function jL(t){return w(this,null,function*(){let e=Bs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ey(t,e,n){return hn(t.app)?Promise.reject(Pr(t)):Xm(ft(t),IC.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&jL(t),r}))}function ty(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function ny(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function ry(t){return ft(t).signOut()}var od="__sak";var ad=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var BL=1e3,$L=10,HL=(()=>{class t extends ad{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);wL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,$L):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},BL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),DC=HL;var qL=(()=>{class t extends ad{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),iy=qL;function zL(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var GL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),d=yield zL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function bC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Vm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=bC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function pn(){return window}function WL(t){pn().location.href=t}function TC(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}function KL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function QL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YL(){return TC()?self:null}var CC="firebaseLocalStorageDb",JL=1,cd="firebaseLocalStorage",SC="fbase_key",Di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function ZL(){let t=indexedDB.deleteDatabase(CC);return new Di(t).toPromise()}function Um(){let t=indexedDB.open(CC,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(cd,{keyPath:SC})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),yield ZL(),e(yield Um()))}))})}function GT(t,e,n){return w(this,null,function*(){let r=hd(t,!0).put({[SC]:e,value:n});return new Di(r).toPromise()})}function XL(t,e){return w(this,null,function*(){let n=hd(t,!1).get(e),r=yield new Di(n).toPromise();return r===void 0?null:r.value})}function WT(t,e){let n=hd(t,!0).delete(e);return new Di(n).toPromise()}var eV=800,tV=3,nV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Um(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>tV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return TC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=GL._getInstance(YL()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield KL(),!this.activeServiceWorker)return;this.sender=new Vm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||QL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Um();return yield GT(n,od,"1"),yield WT(n,od),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>GT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>XL(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>WT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=hd(s,!1).getAll();return new Di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),AC=nV;var f9=vC("rcb"),p9=new Ei(3e4,6e4);function rV(t,e){return e?Gn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $a=class extends Ua{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function iV(t){return EC(t.auth,new $a(t),t.bypassAuthState)}function sV(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),UL(n,new $a(t),t.bypassAuthState)}function oV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),VL(n,new $a(t),t.bypassAuthState)})}var jm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iV;case"linkViaPopup":case"linkViaRedirect":return oV;case"reauthViaPopup":case"reauthViaRedirect":return sV;default:gn(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var g9=new Ei(2e3,1e4);var aV="pendingRedirect",Jl=new Map,Bm=class t extends jm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Jl.get(this.auth._key());if(!e){try{let r=(yield cV(this.resolver,this.auth))?yield sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function cV(t,e){return w(this,null,function*(){let n=dV(e),r=lV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function uV(t,e){Jl.set(t._key(),e)}function lV(t){return Gn(t._redirectPersistence)}function dV(t){return Yl(aV,t.config.apiKey,t.name)}function hV(t,e,n=!1){return w(this,null,function*(){if(hn(t.app))return Promise.reject(Pr(t));let r=Bs(t),i=rV(r,e),o=yield new Bm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var fV=10*60*1e3,$m=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fV&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(e))}saveEventToCache(e){this.cachedEventUids.add(KT(e)),this.lastProcessedEventTime=Date.now()}};function KT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RC(t);default:return!1}}function gV(n){return w(this,arguments,function*(t,e={}){return kr(t,"GET","/v1/projects",e)})}var mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yV=/^https?/;function vV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield gV(t);for(let n of e)try{if(_V(n))return}catch{}gn(t,"unauthorized-domain")})}function _V(t){let e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yV.test(n))return!1;if(mV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IV=new Ei(3e4,6e4);function QT(){let t=pn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wV(t){return new Promise((e,n)=>{var r,i,s;function o(){QT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QT(),n(wi(t,"network-request-failed"))},timeout:IV.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pn().gapi)===null||s===void 0)&&s.load)o();else{let c=vC("iframefcb");return pn()[c]=()=>{gapi.load?o():n(wi(t,"network-request-failed"))},yC(`${CL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Zl=null,e})}var Zl=null;function EV(t){return Zl=Zl||wV(t),Zl}var DV=new Ei(5e3,15e3),bV="__/auth/iframe",TV="emulator/auth/iframe",CV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AV(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gm(e,TV):`https://${t.config.authDomain}/${bV}`,r={apiKey:e.apiKey,appName:t.name,v:Nr},i=SV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ma(r).slice(1)}`}function RV(t){return w(this,null,function*(){let e=yield EV(t),n=pn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:AV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=wi(t,"network-request-failed"),c=pn().setTimeout(()=>{s(o)},DV.get());function u(){pn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NV=500,xV=600,PV="_blank",OV="http://localhost",ud=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kV(t,e,n,r=NV,i=xV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},MV),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ge().toLowerCase();n&&(c=lC(d)?PV:n),cC(d)&&(e=e||OV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,S])=>`${_}${I}=${S},`,"");if(IL(d)&&c!=="_self")return FV(e||"",c),new ud(null);let g=window.open(e||"",c,f);K(g,t,"popup-blocked");try{g.focus()}catch{}return new ud(g)}function FV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var LV="__/auth/handler",VV="emulator/auth/handler",UV=encodeURIComponent("fac");function YT(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nr,eventId:i};if(e instanceof sd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_T(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Fm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${UV}=${encodeURIComponent(u)}`:"";return`${jV(t)}?${Ma(c).slice(1)}${d}`})}function jV({config:t}){return t.emulator?Gm(t,VV):`https://${t.authDomain}/${LV}`}var Cm="webStorageSupport",Hm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iy,this._completeRedirectFn=hV,this._overrideRedirectResult=uV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield YT(e,n,r,Sm(),i);return kV(e,o,bC())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield YT(e,n,r,Sm(),i);return WL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield RV(e),r=new $m(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Cm];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gC()||uC()||Ym()}},MC=Hm;var JT="@firebase/auth",ZT="1.7.9";var qm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $V(t){Mr(new qt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(t)},d=new Om(r,i,s,u);return RL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new qt("auth-internal",e=>{let n=Bs(e.getProvider("auth").getImmediate());return(r=>new qm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(JT,ZT,BV(t)),qe(JT,ZT,"esm2017")}var HV=5*60,qV=sm("authIdTokenMaxAge")||HV,XT=null,zV=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qV)return;let i=n?.token;XT!==i&&(XT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function sy(t=Fs()){let e=Pa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jm(t,{popupRedirectResolver:MC,persistence:[AC,DC,iy]}),r=sm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=zV(s.toString());ny(n,o,()=>o(n.currentUser)),ty(n,c=>o(c))}}let i=rm("auth");return i&&Zm(n,`http://${i}`),n}function GV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$V("Browser");var NC="auth",Wn=class{constructor(e){return e}},Ha=class{constructor(){return Oa(NC)}};var oy=new V("angularfire2.auth-instances");function LU(t,e){let n=Gl(NC,t,e);return n&&new Wn(n)}function VU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wn(r)}}var UU={provide:Ha,deps:[[new ht,oy]]},jU={provide:Wn,useFactory:LU,deps:[[new ht,oy],qn]};function xC(t,...e){return qe("angularfire",_i.full,"auth"),jt([jU,UU,{provide:oy,useFactory:VU(t),multi:!0,deps:[ye,yt,Us,Ii,[new ht,Vs],...e]}])}var PC=fn(sy,!0);var OC=fn(ey,!0);var kC=fn(ry,!0);var fd=class t{constructor(e){this.http=e}apiUrl="https://api.github.com/users/octaviovillegas";getUserData(){return this.http.get(this.apiUrl)}static \u0275fac=function(n){return new(n||t)(G(oa))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function $U(t,e){if(t&1){let n=ul();H(0,"div")(1,"button",1),Ae("click",function(){Ko(n);let i=It();return Qo(i.IrAOtraRuta("alta"))}),J(2,"Alta de Choferes"),L(),H(3,"button",1),Ae("click",function(){Ko(n);let i=It();return Qo(i.CerrarSesion())}),J(4,"Cerrar sesion"),L()()}}function HU(t,e){if(t&1&&(H(0,"div")(1,"h1"),J(2),L(),Ze(3,"img",2),H(4,"p")(5,"strong"),J(6,"Usuario de GitHub:"),L(),J(7),L(),H(8,"p")(9,"strong"),J(10,"Biograf\xEDa:"),L(),J(11),L(),H(12,"p")(13,"strong"),J(14,"N\xFAmero de Repositorios:"),L(),J(15),L()()),t&2){let n=It();le(2),kn("Bienvenido ",n.userData.name,""),le(),Zo("alt",n.userData.name),ve("src",n.userData.avatar_url,el),le(4),kn(" ",n.userData.login,""),le(4),kn(" ",n.userData.bio,""),le(4),kn(" ",n.userData.public_repos,"")}}var pd=class t{constructor(e,n,r){this.githubService=e;this.auth=n;this.router=r}userData;user;ngOnInit(){this.githubService.getUserData().subscribe(e=>{this.userData=e},e=>{console.error("Error fetching data from GitHub",e)}),this.auth.onAuthStateChanged(e=>{this.user=e})}IrAOtraRuta(e){this.router.navigate([e])}CerrarSesion(){kC(this.auth).then(()=>{this.router.navigate(["/"])})}static \u0275fac=function(n){return new(n||t)(q(fd),q(Wn),q(Sr))};static \u0275cmp=Ut({type:t,selectors:[["app-bienvenido"]],standalone:!0,features:[$t],decls:2,vars:2,consts:[[4,"ngIf"],[3,"click"],["width","200",3,"src","alt"]],template:function(n,r){n&1&&ze(0,$U,5,0,"div",0)(1,HU,16,6,"div",0),n&2&&(ve("ngIf",r.user),le(),ve("ngIf",!r.user))},dependencies:[Vn,Ds]})};var zC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(ys),q(ai))}}static{this.\u0275dir=Le({type:t})}}return t})(),hy=(()=>{class t extends zC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,features:[At]})}}return t})(),Ya=new V(""),qU={provide:Ya,useExisting:Yt(()=>fy),multi:!0},fy=(()=>{class t extends hy{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Fn([qU]),At]})}}return t})(),zU={provide:Ya,useExisting:Yt(()=>Gs),multi:!0};function GU(){let t=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var WU=new V(""),Gs=(()=>{class t extends zC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!GU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(ys),q(ai),q(WU,8))}}static{this.\u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ae("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Fn([zU]),At]})}}return t})();function Fr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function GC(t){return t!=null&&typeof t.length=="number"}var Ja=new V(""),Td=new V(""),KU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Et=class{static min(e){return QU(e)}static max(e){return YU(e)}static required(e){return WC(e)}static requiredTrue(e){return JU(e)}static email(e){return ZU(e)}static minLength(e){return XU(e)}static maxLength(e){return ej(e)}static pattern(e){return tj(e)}static nullValidator(e){return yd(e)}static compose(e){return XC(e)}static composeAsync(e){return e0(e)}};function QU(t){return e=>{if(Fr(e.value)||Fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function YU(t){return e=>{if(Fr(e.value)||Fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function WC(t){return Fr(t.value)?{required:!0}:null}function JU(t){return t.value===!0?null:{required:!0}}function ZU(t){return Fr(t.value)||KU.test(t.value)?null:{email:!0}}function XU(t){return e=>Fr(e.value)||!GC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function ej(t){return e=>GC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function tj(t){if(!t)return yd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function yd(t){return null}function KC(t){return t!=null}function QC(t){return ui(t)?Re(t):t}function YC(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function JC(t,e){return e.map(n=>n(t))}function nj(t){return!t.validate}function ZC(t){return t.map(e=>nj(e)?e:n=>e.validate(n))}function XC(t){if(!t)return null;let e=t.filter(KC);return e.length==0?null:function(n){return YC(JC(n,e))}}function py(t){return t!=null?XC(ZC(t)):null}function e0(t){if(!t)return null;let e=t.filter(KC);return e.length==0?null:function(n){let r=JC(n,e).map(QC);return df(r).pipe(X(YC))}}function gy(t){return t!=null?e0(ZC(t)):null}function LC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function t0(t){return t._rawValidators}function n0(t){return t._rawAsyncValidators}function ay(t){return t?Array.isArray(t)?t:[t]:[]}function vd(t,e){return Array.isArray(t)?t.includes(e):t===e}function VC(t,e){let n=ay(e);return ay(t).forEach(i=>{vd(n,i)||n.push(i)}),n}function UC(t,e){return ay(e).filter(n=>!vd(t,n))}var _d=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=py(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Kn=class extends _d{get formDirective(){return null}get path(){return null}},Ti=class extends _d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Id=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},v6=se(k({},rj),{"[class.ng-submitted]":"isSubmitted"}),Cd=(()=>{class t extends Id{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Ti,2))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[At]})}}return t})(),Sd=(()=>{class t extends Id{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Kn,10))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[At]})}}return t})();var qa="VALID",md="INVALID",$s="PENDING",za="DISABLED",Lr=class{},wd=class extends Lr{constructor(e,n){super(),this.value=e,this.source=n}},Wa=class extends Lr{constructor(e,n){super(),this.pristine=e,this.source=n}},Ka=class extends Lr{constructor(e,n){super(),this.touched=e,this.source=n}},Hs=class extends Lr{constructor(e,n){super(),this.status=e,this.source=n}},cy=class extends Lr{constructor(e){super(),this.source=e}},uy=class extends Lr{constructor(e){super(),this.source=e}};function my(t){return(Ad(t)?t.validators:t)||null}function ij(t){return Array.isArray(t)?py(t):t||null}function yy(t,e){return(Ad(e)?e.asyncValidators:t)||null}function sj(t){return Array.isArray(t)?gy(t):t||null}function Ad(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function r0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function i0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var qs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ws(()=>this.statusReactive()),this.statusReactive=Is(void 0),this._pristine=ws(()=>this.pristineReactive()),this.pristineReactive=Is(!0),this._touched=ws(()=>this.touchedReactive()),this.touchedReactive=Is(!1),this._events=new Ye,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return un(this.statusReactive)}set status(e){un(()=>this.statusReactive.set(e))}get valid(){return this.status===qa}get invalid(){return this.status===md}get pending(){return this.status==$s}get disabled(){return this.status===za}get enabled(){return this.status!==za}get pristine(){return un(this.pristineReactive)}set pristine(e){un(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return un(this.touchedReactive)}set touched(e){un(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(VC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}hasValidator(e){return vd(this._rawValidators,e)}hasAsyncValidator(e){return vd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ka(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ka(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Wa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Wa(!0,r))}markAsPending(e={}){this.status=$s;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=za,this.errors=null,this._forEachChild(i=>{i.disable(se(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,r)),this._events.next(new Hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qa,this._forEachChild(r=>{r.enable(se(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qa||this.status===$s)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,n)),this._events.next(new Hs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?za:qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$s,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=QC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Hs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?za:this.errors?md:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($s)?$s:this._anyControlsHaveStatus(md)?md:qa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Wa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ka(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ad(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ij(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sj(this._rawAsyncValidators)}},zs=class extends qs{constructor(e,n,r){super(my(n),yy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){i0(this,!0,e),Object.keys(e).forEach(r=>{r0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ly=class extends zs{};var Za=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Rd}),Rd="always";function s0(t,e){return[...e.path,t]}function Ed(t,e,n=Rd){vy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),aj(t,e),uj(t,e),cj(t,e),oj(t,e)}function jC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Dd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function oj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function vy(t,e){let n=t0(t);e.validator!==null?t.setValidators(LC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=n0(t);e.asyncValidator!==null?t.setAsyncValidators(LC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Dd(e._rawValidators,i),Dd(e._rawAsyncValidators,i)}function bd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=t0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=n0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Dd(e._rawValidators,r),Dd(e._rawAsyncValidators,r),n}function aj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&o0(t,e)})}function cj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&o0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function o0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function a0(t,e){t==null,vy(t,e)}function lj(t,e){return bd(t,e)}function c0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function dj(t){return Object.getPrototypeOf(t.constructor)===hy}function u0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function l0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Gs?n=s:dj(s)?r=s:i=s}),i||r||n||null}function hj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var fj={provide:Kn,useExisting:Yt(()=>_y)},Ga=Promise.resolve(),_y=(()=>{class t extends Kn{get submitted(){return un(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ws(()=>this.submittedReactive()),this.submittedReactive=Is(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new zs({},py(n),gy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ga.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ed(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ga.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ga.then(()=>{let r=this._findContainer(n.path),i=new zs({});a0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ga.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ga.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),u0(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Ja,10),q(Td,10),q(Za,8))}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([fj]),At]})}}return t})();function BC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $C(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Qa=class extends qs{constructor(e=null,n,r){super(my(n),yy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ad(n)&&(n.nonNullable||n.initialValueIsDefault)&&($C(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$C(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pj=t=>t instanceof Qa;var gj={provide:Ti,useExisting:Yt(()=>Iy)},HC=Promise.resolve(),Iy=(()=>{class t extends Ti{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new Qa,this._registered=!1,this.name="",this.update=new Se,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l0(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),c0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ed(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){HC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Xo(r);HC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?s0(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(Kn,9),q(Ja,10),q(Td,10),q(Ya,10),q(li,8),q(Za,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fn([gj]),At,On]})}}return t})(),Md=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),mj={provide:Ya,useExisting:Yt(()=>wy),multi:!0},wy=(()=>{class t extends hy{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Fn([mj]),At]})}}return t})();var d0=new V("");var yj={provide:Kn,useExisting:Yt(()=>Ey)},Ey=(()=>{class t extends Kn{get submitted(){return un(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ws(()=>this._submittedReactive()),this._submittedReactive=Is(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Ed(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){jC(n.control||null,n,!1),hj(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),u0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new cy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new uy(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(jC(r||null,n),pj(i)&&(Ed(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);a0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&lj(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vy(this.form,this),this._oldForm&&bd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Ja,10),q(Td,10),q(Za,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([yj]),At,On]})}}return t})();var vj={provide:Ti,useExisting:Yt(()=>Dy)},Dy=(()=>{class t extends Ti{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l0(this,s)}ngOnChanges(n){this._added||this._setUpControl(),c0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return s0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(q(Kn,13),q(Ja,10),q(Td,10),q(Ya,10),q(d0,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fn([vj]),At,On]})}}return t})();var _j=(()=>{class t{constructor(){this._validator=yd}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,features:[On]})}}return t})();var Ij={provide:Ja,useExisting:Yt(()=>Xa),multi:!0};var Xa=(()=>{class t extends _j{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xo,this.createValidator=n=>WC}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ir(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&al("required",i._enabled?"":null)},inputs:{required:"required"},features:[Fn([Ij]),At]})}}return t})();var h0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nn({type:t})}static{this.\u0275inj=Mn({})}}return t})(),dy=class extends qs{constructor(e,n,r){super(my(n),yy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){i0(this,!1,e),e.forEach((r,i)=>{r0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var f0=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return qC(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new zs(i,s)}record(n,r=null){let i=this._reduceControls(n);return new ly(i,r)}control(n,r,i){let s={};return this.useNonNullable?(qC(r)?s=r:(s.validators=r,s.asyncValidators=i),new Qa(n,se(k({},s),{nonNullable:!0}))):new Qa(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new dy(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Qa)return n;if(n instanceof qs)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Nd=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Za,useValue:n.callSetDisabledState??Rd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nn({type:t})}static{this.\u0275inj=Mn({imports:[h0]})}}return t})(),p0=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:d0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Za,useValue:n.callSetDisabledState??Rd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nn({type:t})}static{this.\u0275inj=Mn({imports:[h0]})}}return t})();var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y0={};var by,v0;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,b,C){for(var v=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)v[wn-2]=arguments[wn];return m.prototype[b].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(b=0;16>b;++b)E[b]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],b=D.g[2];var C=D.g[3],v=m+(C^y&(b^C))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[2]+606105819&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[3]+3250441966&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[6]+2821735955&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[7]+4249261313&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[10]+4294925233&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[11]+2304563134&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[14]+2792965006&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[15]+1236535329&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(b^C&(y^b))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[11]+643717713&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[0]+3921069994&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[15]+3634488961&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[4]+3889429448&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[3]+4107603335&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[8]+1163531501&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[7]+1735328473&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[12]+2368359562&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(y^b^C)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[11]+1839030562&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[14]+4259657740&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[7]+4139469664&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[10]+3200236656&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[3]+3572445317&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[6]+76029189&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[15]+530742520&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[2]+3299628645&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(b^(y|~C))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[14]+2878612391&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[5]+4237533241&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[10]+4293915773&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[1]+2240044497&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[6]+2734768916&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[13]+1309151649&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[2]+718787259&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,b=this.h,C=0;C<m;){if(b==0)for(;C<=y;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<m;)if(E[b++]=D.charCodeAt(C++),b==this.blockSize){i(this,E),b=0;break}}else for(;C<m;)if(E[b++]=D[C++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,b=D.length-1;0<=b;b--){var C=D[b]|0;E&&C==m||(y[b]=C,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(d(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),E=g,b=0;b<D.length;b+=8){var C=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+C),m);8>C?(C=d(Math.pow(m,C)),E=E.j(C).add(d(v))):(E=E.j(y),E=E.add(d(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,E="";;){var b=ie(y,m).g;y=F(y,b.j(m));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=b,S(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,b=0;b<=m;b++){var C=E+(this.i(b)&65535)+(D.i(b)&65535),v=(C>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=v>>>16,C&=65535,v&=65535,y[b]=v<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(S(this)||S(D))return g;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var C=this.i(E)>>>16,v=this.i(E)&65535,wn=D.i(b)>>>16,fo=D.i(b)&65535;y[2*E+2*b]+=v*fo,W(y,2*E+2*b),y[2*E+2*b+1]+=C*fo,W(y,2*E+2*b+1),y[2*E+2*b+1]+=v*wn,W(y,2*E+2*b+1),y[2*E+2*b+2]+=C*wn,W(y,2*E+2*b+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function W(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function U(D,m){this.g=D,this.h=m}function ie(D,m){if(S(m))throw Error("division by zero");if(S(D))return new U(g,g);if(M(D))return m=ie(R(D),m),new U(R(m.g),R(m.h));if(M(m))return m=ie(D,R(m)),new U(R(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Te(y),E=Te(E);var b=ne(y,1),C=ne(E,1);for(E=ne(E,2),y=ne(y,2);!S(E);){var v=C.add(E);0>=v.l(D)&&(b=b.add(y),C=v),E=ne(E,1),y=ne(y,1)}return m=F(D,b.j(m)),new U(b,m)}for(b=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=d(y),v=C.j(m);M(v)||0<v.l(D);)y-=E,C=d(y),v=C.j(m);S(C)&&(C=_),b=b.add(C),D=F(D,v)}return new U(b,D)}t.A=function(D){return ie(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Te(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function ne(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,b=[],C=0;C<E;C++)b[C]=0<m?D.i(C+y)>>>m|D.i(C+y+1)<<32-m:D.i(C+y);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v0=y0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,by=y0.Integer=o}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var Ty,wj,Ws,Cy,ec,Pd,Sy,Ay,Ry;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var A=h++;return{value:l(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(l,T)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,A){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return l.prototype[T].apply(p,P)}}function M(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=a.length||0,A=p.length||0;a.length=T+A;for(let P=0;P<A;P++)a[T+P]=p[P]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function W(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Te=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ne(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,l){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=yh;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class wn{constructor(){this.h=this.g=null}add(l,h){let p=fo.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var fo=new F(()=>new $S,a=>a.reset());class $S{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let po,go=!1,yh=new wn,o_=()=>{let a=c.Promise.resolve(void 0);po=()=>{a.then(HS)}};var HS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var l=fo;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}go=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var qS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function mo(a,l){if(et.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Te){e:{try{ie(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:zS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mo.aa.h.call(this)}}S(mo,et);var zS={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yo="closure_listenable_"+(1e6*Math.random()|0),GS=0;function WS(a,l,h,p,T){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=T,this.key=++GS,this.da=this.fa=!1}function pc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function gc(a){this.src=a,this.g={},this.h=0}gc.prototype.add=function(a,l,h,p,T){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=_h(a,l,p,T);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new WS(l,this.src,A,!!p,T),l.fa=h,a.push(l)),l};function vh(a,l){var h=l.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,l,void 0),A;(A=0<=T)&&Array.prototype.splice.call(p,T,1),A&&(pc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function _h(a,l,h,p){for(var T=0;T<a.length;++T){var A=a[T];if(!A.da&&A.listener==l&&A.capture==!!h&&A.ha==p)return T}return-1}var Ih="closure_lm_"+(1e6*Math.random()|0),wh={};function a_(a,l,h,p,T){if(p&&p.once)return u_(a,l,h,p,T);if(Array.isArray(l)){for(var A=0;A<l.length;A++)a_(a,l[A],h,p,T);return null}return h=Th(h),a&&a[yo]?a.K(l,h,d(p)?!!p.capture:!!p,T):c_(a,l,h,!1,p,T)}function c_(a,l,h,p,T,A){if(!l)throw Error("Invalid event type");var P=d(T)?!!T.capture:!!T,Ie=Dh(a);if(Ie||(a[Ih]=Ie=new gc(a)),h=Ie.add(l,h,p,P,A),h.proxy)return h;if(p=KS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)qS||(T=P),T===void 0&&(T=!1),a.addEventListener(l.toString(),p,T);else if(a.attachEvent)a.attachEvent(d_(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function KS(){function a(h){return l.call(a.src,a.listener,h)}let l=QS;return a}function u_(a,l,h,p,T){if(Array.isArray(l)){for(var A=0;A<l.length;A++)u_(a,l[A],h,p,T);return null}return h=Th(h),a&&a[yo]?a.L(l,h,d(p)?!!p.capture:!!p,T):c_(a,l,h,!0,p,T)}function l_(a,l,h,p,T){if(Array.isArray(l))for(var A=0;A<l.length;A++)l_(a,l[A],h,p,T);else p=d(p)?!!p.capture:!!p,h=Th(h),a&&a[yo]?(a=a.i,l=String(l).toString(),l in a.g&&(A=a.g[l],h=_h(A,h,p,T),-1<h&&(pc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[l],a.h--)))):a&&(a=Dh(a))&&(l=a.g[l.toString()],a=-1,l&&(a=_h(l,h,p,T)),(h=-1<a?l[a]:null)&&Eh(h))}function Eh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[yo])vh(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(d_(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Dh(l))?(vh(h,a),h.h==0&&(h.src=null,l[Ih]=null)):pc(a)}}}function d_(a){return a in wh?wh[a]:wh[a]="on"+a}function QS(a,l){if(a.da)a=!0;else{l=new mo(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Eh(a),a=h.call(p,l)}return a}function Dh(a){return a=a[Ih],a instanceof gc?a:null}var bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(a){return typeof a=="function"?a:(a[bh]||(a[bh]=function(l){return a.handleEvent(l)}),a[bh])}function tt(){tr.call(this),this.i=new gc(this),this.M=this,this.F=null}S(tt,tr),tt.prototype[yo]=!0,tt.prototype.removeEventListener=function(a,l,h,p){l_(this,a,l,h,p)};function at(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new et(l,a);else if(l instanceof et)l.target=l.target||a;else{var T=l;l=new et(p,a),E(l,T)}if(T=!0,h)for(var A=h.length-1;0<=A;A--){var P=l.g=h[A];T=mc(P,p,!0,l)&&T}if(P=l.g=a,T=mc(P,p,!0,l)&&T,T=mc(P,p,!1,l)&&T,h)for(A=0;A<h.length;A++)P=l.g=h[A],T=mc(P,p,!1,l)&&T}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)pc(h[p]);delete a.g[l],a.h--}}this.F=null},tt.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},tt.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function mc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,A=0;A<l.length;++A){var P=l[A];if(P&&!P.da&&P.capture==h){var Ie=P.listener,Qe=P.ha||P.src;P.fa&&vh(a.i,P),T=Ie.call(Qe,p)!==!1&&T}}return T&&!p.defaultPrevented}function h_(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function f_(a){a.g=h_(()=>{a.g=null,a.i&&(a.i=!1,f_(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class YS extends tr{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:f_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(a){tr.call(this),this.h=a,this.g={}}S(vo,tr);var p_=[];function g_(a){ne(a.g,function(l,h){this.g.hasOwnProperty(h)&&Eh(l)},a),a.g={}}vo.prototype.N=function(){vo.aa.N.call(this),g_(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ch=c.JSON.stringify,JS=c.JSON.parse,ZS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Sh(){}Sh.prototype.h=null;function m_(a){return a.h||(a.h=a.i())}function y_(){}var _o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ah(){et.call(this,"d")}S(Ah,et);function Rh(){et.call(this,"c")}S(Rh,et);var Hr={},v_=null;function yc(){return v_=v_||new tt}Hr.La="serverreachability";function __(a){et.call(this,Hr.La,a)}S(__,et);function Io(a){let l=yc();at(l,new __(l))}Hr.STAT_EVENT="statevent";function I_(a,l){et.call(this,Hr.STAT_EVENT,a),this.stat=l}S(I_,et);function ct(a){let l=yc();at(l,new I_(l,a))}Hr.Ma="timingevent";function w_(a,l){et.call(this,Hr.Ma,a),this.size=l}S(w_,et);function wo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Eo(){this.g=!0}Eo.prototype.xa=function(){this.g=!1};function XS(a,l,h,p,T,A){a.info(function(){if(a.g)if(A)for(var P="",Ie=A.split("&"),Qe=0;Qe<Ie.length;Qe++){var me=Ie[Qe].split("=");if(1<me.length){var nt=me[0];me=me[1];var rt=nt.split("_");P=2<=rt.length&&rt[1]=="type"?P+(nt+"="+me+"&"):P+(nt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+l+`
`+h+`
`+P})}function eA(a,l,h,p,T,A,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+l+`
`+h+`
`+A+" "+P})}function ki(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+nA(a,h)+(p?" "+p:"")})}function tA(a,l){a.info(function(){return"TIMEOUT: "+l})}Eo.prototype.info=function(){};function nA(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<T.length;P++)T[P]=""}}}}return Ch(h)}catch{return l}}var vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mh;function _c(){}S(_c,Sh),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},Mh=new _c;function nr(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new D_}function D_(){this.i=null,this.g="",this.h=!1}var b_={},Nh={};function xh(a,l,h){a.L=1,a.v=Dc(En(l)),a.m=h,a.P=!0,T_(a,null)}function T_(a,l){a.F=Date.now(),Ic(a),a.A=En(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),U_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new D_,a.g=rI(a.j,h?l:null,!a.m),0<a.O&&(a.M=new YS(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(p_[0]=T.toString()),T=p_);for(var A=0;A<T.length;A++){var P=a_(h,T[A],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Io(),XS(a.i,a.u,a.A,a.l,a.R,a.m)}nr.prototype.ca=function(a){a=a.target;let l=this.M;l&&Dn(a)==3?l.j():this.Y(a)},nr.prototype.Y=function(a){try{if(a==this.g)e:{let rt=Dn(this.g);var l=this.g.Ba();let Vi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||G_(this.g)))){this.J||rt!=4||l==7||(l==8||0>=Vi?Io(3):Io(2)),Ph(this);var h=this.g.Z();this.X=h;t:if(C_(this)){var p=G_(this.g);a="";var T=p.length,A=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Do(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(A&&l==T-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,eA(this.i,this.u,this.A,this.l,this.R,rt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Qe=this.g;if((Ie=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ie)){var me=Ie;break t}}me=null}if(h=me)ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oh(this,h);else{this.o=!1,this.s=3,ct(12),qr(this),Do(this);break e}}if(this.P){h=!0;let zt;for(;!this.J&&this.C<P.length;)if(zt=rA(this,P),zt==Nh){rt==4&&(this.s=4,ct(14),h=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==b_){this.s=4,ct(15),ki(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else ki(this.i,this.l,zt,null),Oh(this,zt);if(C_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)ki(this.i,this.l,P,"[Invalid Chunked Response]"),qr(this),Do(this);else if(0<P.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),jh(nt),nt.M=!0,ct(11))}}else ki(this.i,this.l,P,null),Oh(this,P);rt==4&&qr(this),this.o&&!this.J&&(rt==4?X_(this.j,this):(this.o=!1,Ic(this)))}else IA(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),qr(this),Do(this)}}}catch{}finally{}};function C_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function rA(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Nh:(h=Number(l.substring(h,p)),isNaN(h)?b_:(p+=1,p+h>l.length?Nh:(l=l.slice(p,p+h),a.C=p+h,l)))}nr.prototype.cancel=function(){this.J=!0,qr(this)};function Ic(a){a.S=Date.now()+a.I,S_(a,a.I)}function S_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=wo(_(a.ba,a),l)}function Ph(a){a.B&&(c.clearTimeout(a.B),a.B=null)}nr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(tA(this.i,this.A),this.L!=2&&(Io(),ct(17)),qr(this),this.s=2,Do(this)):S_(this,this.S-a)};function Do(a){a.j.G==0||a.J||X_(a.j,a)}function qr(a){Ph(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,g_(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Oh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||kh(h.h,a))){if(!a.K&&kh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ac(h),Cc(h);else break e;Uh(h),ct(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=wo(_(h.Za,h),6e3));if(1>=M_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Gr(h,11)}else if((a.K||h.g==a)&&Ac(h),!W(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let me=T[l];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let nt=me[3];nt!=null&&(h.la=nt,h.j.info("VER="+h.la));let rt=me[4];rt!=null&&(h.Aa=rt,h.j.info("SVER="+h.Aa));let Vi=me[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(p=1.5*Vi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let zt=a.g;if(zt){let Mc=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mc){var A=p.h;A.g||Mc.indexOf("spdy")==-1&&Mc.indexOf("quic")==-1&&Mc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Fh(A,A.h),A.h=null))}if(p.D){let Bh=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(p.ya=Bh,Ce(p.I,p.D,Bh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=nI(p,p.J?p.ia:null,p.W),P.K){N_(p.h,P);var Ie=P,Qe=p.L;Qe&&(Ie.I=Qe),Ie.B&&(Ph(Ie),Ic(Ie)),p.g=P}else J_(p);0<h.i.length&&Sc(h)}else me[0]!="stop"&&me[0]!="close"||Gr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Gr(h,7):Vh(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}Io(4)}catch{}}var iA=class{constructor(a,l){this.g=a,this.map=l}};function A_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function M_(a){return a.h?1:a.g?a.g.size:0}function kh(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Fh(a,l){a.g?a.g.add(l):a.h=l}function N_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}A_.prototype.cancel=function(){if(this.i=x_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function x_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return M(a.i)}function sA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function oA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function P_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=oA(a),p=sA(a),T=p.length,A=0;A<T;A++)l.call(void 0,p[A],h&&h[A],a)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aA(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var A=a[h].substring(0,p);T=a[h].substring(p+1)}else A=a[h];l(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zr){this.h=a.h,wc(this,a.j),this.o=a.o,this.g=a.g,Ec(this,a.s),this.l=a.l;var l=a.i,h=new Co;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),k_(this,h),this.m=a.m}else a&&(l=String(a).match(O_))?(this.h=!1,wc(this,l[1]||"",!0),this.o=bo(l[2]||""),this.g=bo(l[3]||"",!0),Ec(this,l[4]),this.l=bo(l[5]||"",!0),k_(this,l[6]||"",!0),this.m=bo(l[7]||"")):(this.h=!1,this.i=new Co(null,this.h))}zr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(To(l,F_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(To(l,F_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(To(h,h.charAt(0)=="/"?lA:uA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",To(h,hA)),a.join("")};function En(a){return new zr(a)}function wc(a,l,h){a.j=h?bo(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Ec(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function k_(a,l,h){l instanceof Co?(a.i=l,fA(a.i,a.h)):(h||(l=To(l,dA)),a.i=new Co(l,a.h))}function Ce(a,l,h){a.i.set(l,h)}function Dc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bo(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function To(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,cA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var F_=/[#\/\?@]/g,uA=/[#\?:]/g,lA=/[#\?]/g,dA=/[#\?@]/g,hA=/#/g;function Co(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function rr(a){a.g||(a.g=new Map,a.h=0,a.i&&aA(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Co.prototype,t.add=function(a,l){rr(this),this.i=null,a=Fi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function L_(a,l){rr(a),l=Fi(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function V_(a,l){return rr(a),l=Fi(a,l),a.g.has(l)}t.forEach=function(a,l){rr(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(l,T,p,this)},this)},this)},t.na=function(){rr(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let T=a[p];for(let A=0;A<T.length;A++)h.push(l[p])}return h},t.V=function(a){rr(this);let l=[];if(typeof a=="string")V_(this,a)&&(l=l.concat(this.g.get(Fi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return rr(this),this.i=null,a=Fi(this,a),V_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function U_(a,l,h){L_(a,l),0<h.length&&(a.i=null,a.g.set(Fi(a,l),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let A=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var T=A;P[p]!==""&&(T+="="+encodeURIComponent(String(P[p]))),a.push(T)}}return this.i=a.join("&")};function Fi(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function fA(a,l){l&&!a.j&&(rr(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(L_(this,p),U_(this,T,h))},a)),a.j=l}function pA(a,l){let h=new Eo;if(c.Image){let p=new Image;p.onload=I(ir,h,"TestLoadImage: loaded",!0,l,p),p.onerror=I(ir,h,"TestLoadImage: error",!1,l,p),p.onabort=I(ir,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=I(ir,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function gA(a,l){let h=new Eo,p=new AbortController,T=setTimeout(()=>{p.abort(),ir(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(T),A.ok?ir(h,"TestPingServer: ok",!0,l):ir(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),ir(h,"TestPingServer: error",!1,l)})}function ir(a,l,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function mA(){this.g=new ZS}function yA(a,l,h){let p=h||"";try{P_(a,function(T,A){let P=T;d(T)&&(P=Ch(T)),l.push(p+A+"="+encodeURIComponent(P))})}catch(T){throw l.push(p+"type="+encodeURIComponent("_badmap")),T}}function So(a){this.l=a.Ub||null,this.j=a.eb||!1}S(So,Sh),So.prototype.g=function(){return new bc(this.l,this.j)},So.prototype.i=function(a){return function(){return a}}({});function bc(a,l){tt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(bc,tt),t=bc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Ro(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function j_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Ao(this):Ro(this),this.readyState==3&&j_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ao(this))},t.Qa=function(a){this.g&&(this.response=a,Ao(this))},t.ga=function(){this.g&&Ao(this)};function Ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ro(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Ro(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function B_(a){let l="";return ne(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function Lh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=B_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,l,h))}function Me(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,tt);var vA=/^https?$/i,_A=["POST","PUT"];t=Me.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mh.g(),this.v=this.o?m_(this.o):m_(Mh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(A){$_(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_A,l,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){$_(this,A)}};function $_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,H_(a),Tc(a)}function H_(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Tc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?q_(this):this.bb())},t.bb=function(){q_(this)};function q_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Dn(a)!=4||a.Z()!=2)){if(a.u&&Dn(a)==4)h_(a.Ea,0,a);else if(at(a,"readystatechange"),Dn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var T=String(a.D).match(O_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!vA.test(T?T.toLowerCase():"")}h=p}if(h)at(a,"complete"),at(a,"success");else{a.m=6;try{var A=2<Dn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",H_(a)}}finally{Tc(a)}}}}function Tc(a,l){if(a.g){z_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||at(a,"ready");try{h.onreadystatechange=p}catch{}}}function z_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),JS(l)}};function G_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IA(a){let l={};a=(a.g&&2<=Dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(W(a[p]))continue;var h=b(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=l[T]||[];l[T]=A,A.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function W_(a){this.Aa=0,this.i=[],this.j=new Eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,a),this.cb=Mo("retryDelaySeedMs",1e4,a),this.Wa=Mo("forwardChannelMaxRetries",2,a),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new A_(a&&a.concurrentRequestLimit),this.Da=new mA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W_.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){ct(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=nI(this,null,this.W),Sc(this)};function Vh(a){if(K_(a),a.G==3){var l=a.U++,h=En(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",l),Ce(h,"TYPE","terminate"),No(a,h),l=new nr(a,a.j,l),l.L=2,l.v=Dc(En(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=rI(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ic(l)}tI(a)}function Cc(a){a.g&&(jh(a),a.g.cancel(),a.g=null)}function K_(a){Cc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Sc(a){if(!R_(a.h)&&!a.s){a.s=!0;var l=a.Ga;po||o_(),go||(po(),go=!0),yh.add(l,a),a.B=0}}function wA(a,l){return M_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=wo(_(a.Ga,a,l),eI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new nr(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=Y_(this,T,l),h=En(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),No(this,h),A&&(this.O?l="headers="+encodeURIComponent(String(B_(A)))+"&"+l:this.m&&Lh(h,this.m,A)),Fh(this.h,T),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",l),Ce(h,"SID","null"),T.T=!0,xh(T,h,null)):xh(T,h,l),this.G=2}}else this.G==3&&(a?Q_(this,a):this.i.length==0||R_(this.h)||Q_(this))};function Q_(a,l){var h;l?h=l.l:h=a.U++;let p=En(a.I);Ce(p,"SID",a.K),Ce(p,"RID",h),Ce(p,"AID",a.T),No(a,p),a.m&&a.o&&Lh(p,a.m,a.o),h=new nr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Y_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Fh(a.h,h),xh(h,p,l)}function No(a,l){a.H&&ne(a.H,function(h,p){Ce(l,p,h)}),a.l&&P_({},function(h,p){Ce(l,p,h)})}function Y_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var T=a.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=T[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ie=!0;for(let Qe=0;Qe<h;Qe++){let me=T[Qe].g,nt=T[Qe].map;if(me-=A,0>me)A=Math.max(0,T[Qe].g-100),Ie=!1;else try{yA(nt,P,"req"+me+"_")}catch{p&&p(nt)}}if(Ie){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function J_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;po||o_(),go||(po(),go=!0),yh.add(l,a),a.v=0}}function Uh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=wo(_(a.Fa,a),eI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=wo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Cc(this),Z_(this))};function jh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Z_(a){a.g=new nr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=En(a.qa);Ce(l,"RID","rpc"),Ce(l,"SID",a.K),Ce(l,"AID",a.T),Ce(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(l,"TO",a.ja),Ce(l,"TYPE","xmlhttp"),No(a,l),a.m&&a.o&&Lh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Dc(En(l)),h.m=null,h.P=!0,T_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Cc(this),Uh(this),ct(19))};function Ac(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function X_(a,l){var h=null;if(a.g==l){Ac(a),jh(a),a.g=null;var p=2}else if(kh(a.h,l))h=l.D,N_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=a.B;p=yc(),at(p,new w_(p,h)),Sc(a)}else J_(a);else if(T=l.s,T==3||T==0&&0<l.X||!(p==1&&wA(a,l)||p==2&&Uh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),T){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function eI(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Gr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let T=!p;p=new zr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wc(p,"https"),Dc(p),T?pA(p.toString(),h):gA(p.toString(),h)}else ct(2);a.G=0,a.l&&a.l.sa(l),tI(a),K_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function tI(a){if(a.G=0,a.ka=[],a.l){let l=x_(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function nI(a,l,h){var p=h instanceof zr?En(h):new zr(h);if(p.g!="")l&&(p.g=l+"."+p.g),Ec(p,p.s);else{var T=c.location;p=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var A=new zr(null);p&&wc(A,p),l&&(A.g=l),T&&Ec(A,T),h&&(A.l=h),p=A}return h=a.D,l=a.ya,h&&l&&Ce(p,h,l),Ce(p,"VER",a.la),No(a,p),p}function rI(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Me(new So({eb:h})):new Me(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iI(){}t=iI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rc(){}Rc.prototype.g=function(a,l){return new Dt(a,l)};function Dt(a,l){tt.call(this),this.g=new W_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!W(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!W(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Li(this)}S(Dt,tt),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Vh(this.g)},Dt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ch(a),a=h);l.i.push(new iA(l.Ya++,a)),l.G==3&&Sc(l)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,Dt.aa.N.call(this)};function sI(a){Ah.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}S(sI,Ah);function oI(){Rh.call(this),this.status=1}S(oI,Rh);function Li(a){this.g=a}S(Li,iI),Li.prototype.ua=function(){at(this.g,"a")},Li.prototype.ta=function(a){at(this.g,new sI(a))},Li.prototype.sa=function(a){at(this.g,new oI)},Li.prototype.ra=function(){at(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,Ry=Qn.createWebChannelTransport=function(){return new Rc},Ay=Qn.getStatEventTarget=function(){return yc()},Sy=Qn.Event=Hr,Pd=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,ec=Qn.ErrorCode=vc,E_.COMPLETE="complete",Cy=Qn.EventType=E_,y_.EventType=_o,_o.OPEN="a",_o.CLOSE="b",_o.ERROR="c",_o.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Ws=Qn.WebChannel=y_,wj=Qn.FetchXmlHttpFactory=So,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Ty=Qn.XhrIo=Me}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});var _0="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var ho="10.14.0";var Ri=new Ar("@firebase/firestore");function tc(){return Ri.logLevel}function $(t,...e){if(Ri.logLevel<=de.DEBUG){let n=e.map(Qv);Ri.debug(`Firestore (${ho}): ${t}`,...n)}}function Mi(t,...e){if(Ri.logLevel<=de.ERROR){let n=e.map(Qv);Ri.error(`Firestore (${ho}): ${t}`,...n)}}function Ud(t,...e){if(Ri.logLevel<=de.WARN){let n=e.map(Qv);Ri.warn(`Firestore (${ho}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function Pe(t,e){t||he()}function be(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Py=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},Oy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ky=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new jd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new We(e)}},Fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ly=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Uy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);let r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new Vy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Ej(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Ej(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ot=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var xe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $d=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends $d{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends $d{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Dj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var jy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};jy.UNKNOWN_ID=-1;function bj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Ni(i,re.empty(),e)}function Tj(t){return new Ni(t.readTime,t.key,-1)}var Ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(xe.min(),re.empty(),-1)}static max(){return new t(xe.max(),re.empty(),-1)}};function Cj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var Sj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",By=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $0(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Sj)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Aj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ah(t){return t.name==="IndexedDbTransactionError"}var Rj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Yv(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function Mj(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Nj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x6=[...Nj,"documentOverlays"],xj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pj=xj,Oj=[...Pj,"indexConfiguration","indexState","indexEntries"];var P6=[...Oj,"globals"];function I0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ot=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qs(this.root,e,this.comparator,!0)}},Qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hd(this.data.getIterator())}getIteratorFrom(e){return new Hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $y=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $y("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zn.EMPTY_BYTE_STRING=new Zn("");var kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Pe(!!t),typeof t=="string"){let e=0,n=kj.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}function Jv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function q0(t){let e=t.mapValue.fields.__previous_value__;return Jv(e)?q0(e):e}function qd(t){let e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}var Hy=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},qy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:G0(t)?9007199254740991:z0(t)?10:11:he()}function In(t,e){if(t===e)return!0;let n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ur(i.timestampValue),c=Ur(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zs(i.bytesValue).isEqual(Zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),c=je(s.doubleValue);return o===c?ac(o)===ac(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(I0(o)!==I0(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!In(o[u],c[u])))return!1;return!0}(t,e);default:return he()}}function cc(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function eo(t,e){if(t===e)return 0;let n=Xs(t),r=Xs(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=je(s.integerValue||s.doubleValue),u=je(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return w0(t.timestampValue,e.timestampValue);case 4:return w0(qd(t),qd(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Zs(s),u=Zs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ee(c[d],u[d]);if(f!==0)return f}return Ee(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Ee(je(s.latitude),je(o.latitude));return c!==0?c:Ee(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return E0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,M=Ee(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:E0(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Od.mapValue&&o===Od.mapValue)return 0;if(s===Od.mapValue)return 1;if(o===Od.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=Ee(u[g],f[g]);if(_!==0)return _;let I=eo(c[u[g]],d[f[g]]);if(I!==0)return I}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function w0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Ur(t),r=Ur(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function E0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=eo(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function to(t){return zy(t)}function zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=zy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${zy(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Gy(t){return!!t&&"integerValue"in t}function Zv(t){return!!t&&"arrayValue"in t}function Ld(t){return!!t&&"mapValue"in t}function z0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return dc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=rc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(rc(this.value))}};function W0(t){let e=[];return dc(t.fields,(n,r)=>{let i=new Pt([n]);if(Ld(r)){let s=W0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}var no=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,xe.min(),xe.min(),xe.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,xe.min(),xe.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,xe.min(),xe.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ro=class{constructor(e,n){this.position=e,this.inclusive=n}};function D0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=eo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var io=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zd=class{},Ke=class t extends zd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ky(e,n,r):n==="array-contains"?new Jy(e,r):n==="in"?new Zy(e,r):n==="not-in"?new Xy(e,r):n==="array-contains-any"?new ev(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qy(e,r):new Yy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jr=class t extends zd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return K0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function K0(t){return t.op==="and"}function Q0(t){return Lj(t)&&K0(t)}function Lj(t){for(let e of t.filters)if(e instanceof jr)return!1;return!0}function Wy(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+to(t.value);if(Q0(t))return t.filters.map(e=>Wy(e)).join(",");{let e=t.filters.map(n=>Wy(n)).join(",");return`${t.op}(${e})`}}function Y0(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Y0(o,i.filters[c]),!0):!1}(t,e):void he()}function J0(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"}(t):"Filter"}var Ky=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},Qy=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=Z0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yy=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Z0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Z0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var Jy=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Zv(n)&&cc(n.arrayValue,this.value)}},Zy=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}},Xy=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!cc(this.value.arrayValue,n)}},ev=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}};var tv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function T0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tv(t,e,n,r,i,s,o)}function Xv(t){let e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.ue=n}return e.ue}function e_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b0(t.startAt,e.startAt)&&b0(t.endAt,e.endAt)}var so=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Vj(t,e,n,r,i,s,o,c){return new so(t,e,n,r,i,s,o,c)}function Uj(t){return new so(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jj(t){return t.collectionGroup!==null}function ic(t){let e=be(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new pt(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new io(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new io(Pt.keyField(),r))}return e.ce}function Si(t){let e=be(t);return e.le||(e.le=Bj(e,ic(t))),e.le}function Bj(t,e){if(t.limitType==="F")return T0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new io(i.field,s)});let n=t.endAt?new ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ro(t.startAt.position,t.startAt.inclusive):null;return T0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nv(t,e,n){return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X0(t,e){return e_(Si(t),Si(e))&&t.limitType===e.limitType}function eS(t){return`${Xv(Si(t))}|lt:${t.limitType}`}function nc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J0(i)).join(", ")}]`),Yv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>to(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>to(i)).join(",")),`Target(${r})`}(Si(t))}; limitType=${t.limitType})`}function t_(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ic(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=D0(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,ic(r),i)||r.endAt&&!function(o,c,u){let d=D0(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,ic(r),i))}(t,e)}function $j(t){return(e,n)=>{let r=!1;for(let i of ic(t)){let s=Hj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hj(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?eo(u,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Br=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}};var qj=new Ot(re.comparator);function Gd(){return qj}var tS=new Ot(re.comparator);function kd(...t){let e=tS;for(let n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return sc()}function rS(){return sc()}function sc(){return new Br(t=>t.toString(),(t,e)=>t.isEqual(e))}var zj=new Ot(re.comparator),Gj=new pt(re.comparator);function st(...t){let e=Gj;for(let n of t)e=e.add(n);return e}var Wj=new pt(Ee);function Kj(){return Wj}function n_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function iS(t){return{integerValue:""+t}}function Qj(t,e){return Mj(e)?iS(e):n_(t,e)}var oo=class{constructor(){this._=void 0}};function Yj(t,e,n){return t instanceof ao?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jv(s)&&(s=q0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xi?oS(t,e):t instanceof Pi?aS(t,e):function(i,s){let o=sS(i,s),c=S0(o)+S0(i.Pe);return Gy(o)&&Gy(i.Pe)?iS(c):n_(i.serializer,c)}(t,e)}function Jj(t,e,n){return t instanceof xi?oS(t,e):t instanceof Pi?aS(t,e):n}function sS(t,e){return t instanceof co?function(r){return Gy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ao=class extends oo{},xi=class extends oo{constructor(e){super(),this.elements=e}};function oS(t,e){let n=cS(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Pi=class extends oo{constructor(e){super(),this.elements=e}};function aS(t,e){let n=cS(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var co=class extends oo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function S0(t){return je(t.integerValue||t.doubleValue)}function cS(t){return Zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Pi&&i instanceof Pi?Js(r.elements,i.elements,In):r instanceof co&&i instanceof co?In(r.Pe,i.Pe):r instanceof ao&&i instanceof ao}(t.transform,e.transform)}var rv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var uo=class{};function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wd(t.key,Ai.none()):new Oi(t.key,t.data,Ai.none());{let n=t.data,r=yn.empty(),i=new pt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xn(t.key,r,new vn(i.toArray()),Ai.none())}}function Xj(t,e,n){t instanceof Oi?function(i,s,o){let c=i.value.clone(),u=R0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=R0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lS(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,r){return t instanceof Oi?function(s,o,c,u){if(!Vd(s.precondition,o))return c;let d=s.value.clone(),f=M0(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xn?function(s,o,c,u){if(!Vd(s.precondition,o))return c;let d=M0(s.fieldTransforms,u,o),f=o.data;return f.setAll(lS(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function e2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=sS(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function A0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(s,o)=>Zj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Oi=class extends uo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends uo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function lS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function R0(t,e,n){let r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,Jj(o,c,n[i]))}return r}function M0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Yj(s,o,e))}return r}var Wd=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},iv=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Xj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=rS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=uS(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,r)=>A0(n,r))&&Js(this.baseMutations,e.baseMutations,(n,r)=>A0(n,r))}},ov=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return zj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var av=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ve,pe;function t2(t){switch(t){default:return he();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function n2(t){if(t===void 0)return Mi("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ve.OK:return N.OK;case Ve.CANCELLED:return N.CANCELLED;case Ve.UNKNOWN:return N.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return N.INTERNAL;case Ve.UNAVAILABLE:return N.UNAVAILABLE;case Ve.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ve.NOT_FOUND:return N.NOT_FOUND;case Ve.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ve.ABORTED:return N.ABORTED;case Ve.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ve.DATA_LOSS:return N.DATA_LOSS;default:return he()}}(pe=Ve||(Ve={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var k6=new by([4294967295,4294967295],0);var cv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i2(t,e){return uv(t,e.toTimestamp())}function Ys(t){return Pe(!!t),xe.fromTimestamp(function(n){let r=Ur(n);return new ot(r.seconds,r.nanos)}(t))}function dS(t,e){return lv(t,e).canonicalString()}function lv(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s2(t){let e=Be.fromString(t);return Pe(f2(e)),e}function dv(t,e){return dS(t.databaseId,e.path)}function o2(t){let e=s2(t);return e.length===4?Be.emptyPath():c2(e)}function a2(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c2(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N0(t,e,n){return{name:dv(t,e),fields:n.value.mapValue.fields}}function u2(t,e){let n;if(e instanceof Oi)n={update:N0(t,e.key,e.value)};else if(e instanceof Wd)n={delete:dv(t,e.key)};else if(e instanceof Xn)n={update:N0(t,e.key,e.data),updateMask:h2(e.fieldMask)};else{if(!(e instanceof iv))return he();n={verify:dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof co)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function l2(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ys(i.updateTime):Ys(s);return o.isEqual(xe.min())&&(o=Ys(s)),new rv(o,i.transformResults||[])}(n,e))):[]}function d2(t){let e=o2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=hS(g);return _ instanceof jr&&Q0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(S){return new io(Ks(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Yv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new ro(I,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new ro(I,_)}(n.endAt)),Vj(e,i,o,s,c,"F",u,d)}function hS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ks(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ks(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ks(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ks(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>hS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function Ks(t){return Pt.fromServerFormat(t.fieldPath)}function h2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var hv=class{constructor(e){this.ct=e}};function p2(t){let e=d2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}var Kd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ac(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ur(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Zs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?G0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):z0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Kd.vt=new Kd;var fv=class{constructor(){this.un=new pv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Ni.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},pv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Be.comparator)).toArray()}};var F6=new Uint8Array(0);var mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var uc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var gv=class{constructor(){this.changes=new Br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,no.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oc(r.mutation,i,vn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){let i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kd();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Gd(),o=sc(),c=function(){return sc()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Xn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),oc(f.mutation,d,f.mutation.getFieldMask(),ot.now())):o.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new mv(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=sc(),i=new Ot((o,c)=>o-c),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||vn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||st()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=rS();f.forEach(_=>{if(!s.has(_)){let I=uS(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ci()),c=-1,u=s;return o.next(d=>x.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,st())).next(f=>({batchId:c,changes:nS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=kd();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let d=function(g,_){return new so(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,no.newInvalidDocument(f)))});let c=kd();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&oc(f.mutation,d,vn.empty(),ot.now()),t_(n,d)&&(c=c.insert(u,d))}),c})}};var vv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ys(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:p2(i.bundledQuery),readTime:Ys(i.readTime)}}(n)),x.resolve()}};var _v=class{constructor(){this.overlays=new Ot(re.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ci();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ci(),s=n.length+1,o=new re(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ci(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new av(n,r));let s=this.Ir.get(n);s===void 0&&(s=st(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Iv=class{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var lc=class{constructor(){this.Tr=new pt(Ue.Er),this.dr=new pt(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=st();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||re.comparator(e.key,n.key)}};var wv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(Ue.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new sv(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Ue(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Ee);return n.forEach(i=>{let s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;re.isDocumentKey(s)||(s=s.child(""));let o=new Ue(new re(s),0),c=new pt(Ee);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ev=class{constructor(e){this.Mr=e,this.docs=function(){return new Ot(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():no.newInvalidDocument(n))}getEntries(e,n){let r=Gd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():no.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gd(),o=n.path,c=new re(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Cj(Tj(f),r)<=0||(i.has(f.key)||t_(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dv(this)}getSize(e){return x.resolve(this.size)}},Dv=class extends gv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var bv=class{constructor(e){this.persistence=e,this.Nr=new Br(n=>Xv(n),e_),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lc,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Tv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rj(0),this.Kr=!1,this.Kr=!0,this.$r=new Iv,this.referenceDelegate=e(this),this.Ur=new bv(this),this.indexManager=new fv,this.remoteDocumentCache=function(i){return new Ev(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hv(n),this.Gr=new vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _v,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new wv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new Cv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Cv=class extends By{constructor(e){super(),this.currentSequenceNumber=e}},Sv=class t{constructor(e){this.persistence=e,this.Jr=new lc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Av=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Rv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Mv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yT()?8:Aj(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Rv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(tc()<=de.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(tc()<=de.DEBUG&&$("QueryEngine","Query:",nc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tc()<=de.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):x.resolve())}Yi(e,n){if(C0(n))return x.resolve(null);let r=Si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nv(n,null,"F"),r=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=st(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,nv(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return C0(n)||i.isEqual(xe.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(tc()<=de.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nc(n)),this.rs(e,o,n,bj(i,-1)).next(c=>c))})}ts(e,n){let r=new pt($j(e));return n.forEach((i,s)=>{t_(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return tc()<=de.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",nc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Nv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ot(Ee),this._s=new Br(s=>Xv(s),e_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function g2(t,e,n,r){return new Nv(t,e,n,r)}function fS(t,e){return w(this,null,function*(){let n=be(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=st();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function m2(t,e){let n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,_=g.keys(),I=x.resolve();return _.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(M=>{let R=d.docVersions.get(S);Pe(R!==null),M.version.compareTo(R)<0&&(g.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=st();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function y2(t){let e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function v2(t,e){let n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Qd=class{constructor(){this.activeTargetIds=Kj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xv=class{constructor(){this.so=new Qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pv=class{_o(e){}shutdown(){}};var Yd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fd=null;function My(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}var _2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ov=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var it="WebChannelConnection",kv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=My(),u=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>($("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Ud("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=_2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=My();return new Promise((o,c)=>{let u=new Ty;u.setWithCredentials(!0),u.listenOnce(Cy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ec.NO_ERROR:let f=u.getResponseJson();$(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ec.TIMEOUT:$(it,`RPC '${e}' ${s} timed out`),c(new z(N.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let g=u.getStatus();if($(it,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(I.status);c(new z(S,I.message))}else c(new z(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new z(N.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{$(it,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);$(it,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=My(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ry(),c=Ay(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");$(it,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,S=new Ov({Io:R=>{I?$(it,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||($(it,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),$(it,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),M=(R,F,W)=>{R.listen(F,U=>{try{W(U)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(g,Ws.EventType.OPEN,()=>{I||($(it,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(g,Ws.EventType.CLOSE,()=>{I||(I=!0,$(it,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(g,Ws.EventType.ERROR,R=>{I||(I=!0,Ud(it,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new z(N.UNAVAILABLE,"The operation could not be completed")))}),M(g,Ws.EventType.MESSAGE,R=>{var F;if(!I){let W=R.data[0];Pe(!!W);let U=W,ie=U.error||((F=U[0])===null||F===void 0?void 0:F.error);if(ie){$(it,`RPC '${e}' stream ${i} received error:`,ie);let Te=ie.status,ne=function(y){let E=Ve[y];if(E!==void 0)return n2(E)}(Te),D=ie.message;ne===void 0&&(ne=N.INTERNAL,D="Unknown error status: "+Te+" with message "+ie.message),I=!0,S.So(new z(ne,D)),g.close()}else $(it,`RPC '${e}' stream ${i} received:`,W),S.bo(W)}}),M(c,Sy.STAT_EVENT,R=>{R.stat===Pd.PROXY?$(it,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pd.NOPROXY&&$(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Ny(){return typeof document<"u"?document:null}function ch(t){return new cv(t,!0)}var Jd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Fv=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Lv=class extends Fv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=l2(e.writeResults,e.commitTime),r=Ys(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=a2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>u2(this.serializer,r))};this.a_(n)}};var Vv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,lv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,lv(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Uv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var jv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){fc(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let d=be(u);d.L_.add(4),yield hc(d),d.q_.set("Unknown"),d.L_.delete(4),yield uh(d)})}(this))}))}),this.q_=new Uv(r,i)}};function uh(t){return w(this,null,function*(){if(fc(t))for(let e of t.B_)yield e(!0)})}function hc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fc(t){return be(t).L_.size===0}function pS(t,e,n){return w(this,null,function*(){if(!ah(e))throw e;t.L_.add(1),yield hc(t),t.q_.set("Offline"),n||(n=()=>y2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield uh(t)}))})}function gS(t,e){return e().catch(n=>pS(t,n,e))}function lh(t){return w(this,null,function*(){let e=be(t),n=$r(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I2(e);)try{let i=yield v2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,w2(e,i)}catch(i){yield pS(e,i)}mS(e)&&yS(e)})}function I2(t){return fc(t)&&t.O_.length<10}function w2(t,e){t.O_.push(e);let n=$r(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mS(t){return fc(t)&&!$r(t).n_()&&t.O_.length>0}function yS(t){$r(t).start()}function E2(t){return w(this,null,function*(){$r(t).p_()})}function D2(t){return w(this,null,function*(){let e=$r(t);for(let n of t.O_)e.m_(n.mutations)})}function b2(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=ov.from(r,e,n);yield gS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lh(t)})}function T2(t,e){return w(this,null,function*(){e&&$r(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return t2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();$r(r).s_(),yield gS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield lh(r)}})}(t,e)),mS(t)&&yS(t)})}function x0(t,e){return w(this,null,function*(){let n=be(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=fc(n);n.L_.add(3),yield hc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield uh(n)})}function C2(t,e){return w(this,null,function*(){let n=be(t);e?(n.L_.delete(2),yield uh(n)):e||(n.L_.add(2),yield hc(n),n.q_.set("Unknown"))})}function $r(t){return t.U_||(t.U_=function(n,r,i){let s=be(n);return s.w_(),new Lv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E2.bind(null,t),mo:T2.bind(null,t),f_:D2.bind(null,t),g_:b2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield lh(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Bv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vS(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),ah(t))return new z(N.UNAVAILABLE,`${e}: ${t}`);throw t}var $v=class{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=be(n),s=i.queries;i.queries=P0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new z(N.ABORTED,"Firestore shutting down"))}};function P0(){return new Br(t=>eS(t),X0)}function S2(t){t.Y_.forEach(e=>{e.next()})}var O0,k0;(k0=O0||(O0={})).ea="default",k0.Cache="cache";var Hv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Br(c=>eS(c),X0),this.Ma=new Map,this.xa=new Set,this.Oa=new Ot(re.comparator),this.Na=new Map,this.La=new lc,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function A2(t,e,n){return w(this,null,function*(){let r=x2(t);try{let i=yield function(o,c){let u=be(o),d=ot.now(),f=c.reduce((I,S)=>I.add(S.key),st()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Gd(),M=st();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((F,W)=>{W.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{g=R;let F=[];for(let W of c){let U=e2(W,g.get(W.key).overlayedDocument);U!=null&&F.push(new Xn(W.key,U,W0(U.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,F,c)}).next(R=>{_=R;let F=R.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:_.batchId,changes:nS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ot(Ee)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield dh(r,i.changes),yield lh(r.remoteStore)}catch(i){let s=vS(i,"Failed to persist write");n.reject(s)}})}function F0(t,e,n){let r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=be(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&S2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function R2(t,e){return w(this,null,function*(){let n=be(t),r=e.batch.batchId;try{let i=yield m2(n.localStore,e);IS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield dh(n,i)}catch(i){yield $0(i)}})}function M2(t,e,n){return w(this,null,function*(){let r=be(t);try{let i=yield function(o,c){let u=be(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Pe(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);IS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield dh(r,i)}catch(i){yield $0(i)}})}function _S(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IS(t,e,n){let r=be(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function dh(t,e,n){return w(this,null,function*(){let r=be(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=Av.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return w(this,null,function*(){let f=be(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>x.forEach(d,_=>x.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>x.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!ah(g))throw g;$("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),S=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(_,M)}}})}(r.localStore,s))})}function N2(t,e){return w(this,null,function*(){let n=be(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield fS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new z(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dh(n,r.hs)}})}function x2(t){let e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}var L0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=ch(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return g2(this.persistence,new Mv,n.initialUser,this.serializer)}Ga(n){return new Tv(Sv.Zr,this.serializer)}Wa(n){return new xv}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var P2=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),yield C2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new $v}()}createDatastore(n){let r=ch(n.databaseInfo.databaseId),i=function(o){return new kv(o)}(n.databaseInfo);return function(o,c,u,d){return new Vv(o,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new jv(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>F0(this.syncEngine,r,0),function(){return Yd.D()?new Yd:new Pv}())}createSyncEngine(n,r){return function(s,o,c,u,d,f,g){let _=new Hv(s,o,c,u,d,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=be(s);$("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield hc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var qv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=vS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function xy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield fS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function V0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield O2(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>x0(e.remoteStore,i)),t._onlineComponents=e})}function O2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ud("Error using user provided cache. Falling back to memory cache: "+n),yield xy(t,new L0)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield xy(t,new L0);return t._offlineComponents})}function k2(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield V0(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield V0(t,new P2))),t._onlineComponents})}function F2(t){return k2(t).then(e=>e.syncEngine)}function wS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var U0=new Map;function ES(t,e,n){if(!n)throw new z(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L2(t,e,n,r){if(e===!0&&r===!0)throw new z(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j0(t){if(!re.isDocumentKey(t))throw new z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B0(t){if(re.isDocumentKey(t))throw new z(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function DS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=r_(t);throw new z(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Zd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},lo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Py;switch(r.type){case"firstParty":return new Ly(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=U0.get(n);r&&($("ComponentProvider","Removing Datastore"),U0.delete(n),r.terminate())}(this),Promise.resolve()}};function bS(t,e,n,r={}){var i;let s=(t=DS(t,lo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ud("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=We.MOCK_USER;else{c=dT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new z(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(d)}t._authCredentials=new Oy(new jd(c,u))}}var zv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Jn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vr=class t extends zv{constructor(e,n,r){super(e,n,Uj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function TS(t,e,...n){if(t=ft(t),ES("collection","path",e),t instanceof lo){let r=Be.fromString(e,...n);return B0(r),new Vr(t,null,r)}{if(!(t instanceof Jn||t instanceof Vr))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return B0(r),new Vr(t.firestore,null,r)}}function CS(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Bd.newId()),ES("doc","path",e),t instanceof lo){let r=Be.fromString(e,...n);return j0(r),new Jn(t,null,new re(r))}{if(!(t instanceof Jn||t instanceof Vr))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return j0(r),new Jn(t.firestore,t instanceof Vr?t.converter:null,new re(r))}}var Xd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jd(this,"async_queue_retry"),this.Vu=()=>{let r=Ny();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Yn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ah(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Bv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var eh=class extends lo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xd(e),this._firestoreClient=void 0,yield e}})}};function SS(t,e){let n=typeof t=="object"?t:Fs(),r=typeof t=="string"?t:e||"(default)",i=Pa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=lT("firestore");s&&bS(i,...s)}return i}function V2(t){if(t._terminated)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U2(t),t._firestoreClient}function U2(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new Hy(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,wS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var th=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zn.fromBase64String(e))}catch(n){throw new z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var nh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rh=class{constructor(e){this._methodName=e}};var ih=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var sh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var j2=/^__.*__$/,Gv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oi(e,this.data,n,this.fieldTransforms)}};function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var Wv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AS(this.Cu)&&j2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Kv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}Qu(e,n,r,i=!1){return new Wv({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function B2(t){let e=t._freezeSettings(),n=ch(t._databaseId);return new Kv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);xS("Data must be an object, but it was:",o,r);let c=MS(r,o),u,d;if(s.merge)u=new vn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=H2(e,g,n);if(!o.contains(_))throw new z(N.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);G2(f,_)||f.push(_)}u=new vn(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Gv(new yn(c),u,d)}function RS(t,e){if(NS(t=ft(t)))return xS("Unsupported field value:",e,t),MS(t,e);if(t instanceof rh)return function(r,i){if(!AS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=RS(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ot.fromDate(r);return{timestampValue:uv(i.serializer,s)}}if(r instanceof ot){let s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uv(i.serializer,s)}}if(r instanceof ih)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof th)return{bytesValue:r2(i.serializer,r._byteString)};if(r instanceof Jn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sh)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return n_(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${r_(r)}`)}(t,e)}function MS(t,e){let n={};return H0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,(r,i)=>{let s=RS(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ih||t instanceof th||t instanceof Jn||t instanceof rh||t instanceof sh)}function xS(t,e,n){if(!NS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=r_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function H2(t,e,n){if((e=ft(e))instanceof nh)return e._internalPath;if(typeof e=="string")return z2(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var q2=new RegExp("[~\\*/\\[\\]]");function z2(t,e,n){if(e.search(q2)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(N.INVALID_ARGUMENT,c+t+u)}function G2(t,e){return t.some(n=>n.isEqual(e))}function W2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function PS(t,e){let n=DS(t.firestore,eh),r=CS(t),i=W2(t.converter,e);return K2(n,[$2(B2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function K2(t,e){return function(r,i){let s=new Yn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return A2(yield F2(r),i,s)})),s.promise}(V2(t),e)}(function(e,n=!0){(function(i){ho=i})(Nr),Mr(new qt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new eh(new ky(r.getProvider("auth-internal")),new Uy(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qy(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),qe(_0,"4.7.3",e),qe(_0,"4.7.3","esm2017")})();var er=class{constructor(e){return e}},OS="firestore",i_=class{constructor(){return Oa(OS)}};var s_=new V("angularfire2.firestore-instances");function Q2(t,e){let n=Gl(OS,t,e);return n&&new er(n)}function Y2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new er(r)}}var J2={provide:i_,deps:[[new ht,s_]]},Z2={provide:er,useFactory:Q2,deps:[[new ht,s_],qn]};function kS(t,...e){return qe("angularfire",_i.full,"fst"),jt([Z2,J2,{provide:s_,useFactory:Y2(t),multi:!0,deps:[ye,yt,Us,Ii,[new ht,Ha],[new ht,Vs],...e]}])}var FS=fn(PS,!0);var LS=fn(TS,!0);var VS=fn(SS,!0);function X2(t,e){if(t&1&&(H(0,"label",7),J(1),L()),t&2){let n=It();le(),Kp(n.errorMessage)}}var hh=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r}email="";password="";loggedUser="";errorMessage="";showError=!1;login(){if(!this.email||!this.password){console.log("Email o contrase\xF1a vac\xEDos"),this.errorMessage="Email o contrase\xF1a vac\xEDos",this.showError=!0;return}console.log("Intentando iniciar sesi\xF3n..."),OC(this.auth,this.email,this.password).then(e=>{console.log("Inicio de sesi\xF3n exitoso",e),this.showError=!1,this.router.navigate(["/"])}).catch(e=>{console.log("Error en el inicio de sesi\xF3n:",e.code,e.message),this.errorMessage="Datos incorrectos",this.showError=!0})}accesoRapidoLogin(e,n){this.email=e,this.password=n}static \u0275fac=function(n){return new(n||t)(q(Wn),q(Sr),q(er))};static \u0275cmp=Ut({type:t,selectors:[["app-login"]],standalone:!0,features:[$t],decls:13,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit"],["style","color: red;",4,"ngIf"],["type","button",1,"quick-access-btn",3,"click"],[2,"color","red"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"form",1),Ae("ngSubmit",function(){return r.login()}),H(2,"h2"),J(3,"Iniciar Sesi\xF3n"),L(),H(4,"input",2),dl("ngModelChange",function(s){return Qp(r.email,s)||(r.email=s),s}),L(),H(5,"input",3),dl("ngModelChange",function(s){return Qp(r.password,s)||(r.password=s),s}),L(),H(6,"button",4),J(7,"Iniciar Sesi\xF3n"),L(),ze(8,X2,2,1,"label",5),H(9,"button",6),Ae("click",function(){return r.accesoRapidoLogin("admin@admin.com","admin123")}),J(10,"Acceso r\xE1pido 1"),L(),H(11,"button",6),Ae("click",function(){return r.accesoRapidoLogin("empleado@empleado.com","empleado123")}),J(12,"Acceso r\xE1pido 2"),L()()()),n&2&&(le(4),ll("ngModel",r.email),le(),ll("ngModel",r.password),le(3),ve("ngIf",r.showError))},dependencies:[Vn,Ds,Nd,Md,Gs,Cd,Sd,Xa,Iy,_y],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:20px;border-radius:8px;box-shadow:0 4px 10px #00000080;width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#000}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;margin:10px 0;border:1px solid #3d3d3d;border-radius:4px;background-color:#fff;color:#000;font-size:14px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s ease;margin-top:15px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0062cc}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #3d3d3d;color:#e0e0e0;margin-top:10px;padding:10px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#1d1d1d}"]})};var fh=class t{constructor(e){this.http=e}getPaises(){return this.http.get("https://restcountries.com/v3.1/all")}static \u0275fac=function(n){return new(n||t)(G(oa))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function tB(t,e){if(t&1){let n=ul();H(0,"div",4),Ae("click",function(){let i=Ko(n).$implicit,s=It();return Qo(s.seleccionarPais(i))}),Ze(1,"img",5),J(2),L()}if(t&2){let n=e.$implicit;le(),Zo("alt",n.name.common),ve("src",n.flags.png,el),le(),kn(" ",n.name.common," ")}}var ph=class t{constructor(e){this.paisesService=e}paisesFiltrados=[];paisSeleccionado=new Se;ngOnInit(){this.paisesService.getPaises().subscribe(e=>{this.paisesFiltrados=e.filter(n=>n.region==="Americas"||n.region==="Europe").slice(0,3)})}seleccionarPais(e){console.log(e),this.paisSeleccionado.emit(e.name.common)}static \u0275fac=function(n){return new(n||t)(q(fh))};static \u0275cmp=Ut({type:t,selectors:[["app-lista-paises"]],outputs:{paisSeleccionado:"paisSeleccionado"},standalone:!0,features:[$t],decls:5,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["width","30",1,"me-2",3,"src","alt"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"div",1)(2,"h5",2),J(3,"Selecciona un Pa\xEDs"),L(),ze(4,tB,3,3,"div",3),L()()),n&2&&(le(4),ve("ngForOf",r.paisesFiltrados))},dependencies:[Vn,nb],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #ccc;border-radius:.25rem;box-shadow:0 2px 5px #0000001a}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#0d6efd}"]})};function nB(t,e){t&1&&(H(0,"small"),J(1,"El nombre es requerido."),L())}function rB(t,e){t&1&&(H(0,"small"),J(1,"Solo se permiten letras."),L())}function iB(t,e){if(t&1&&(H(0,"div",25),ze(1,nB,2,0,"small",26)(2,rB,2,0,"small",26),L()),t&2){let n,r,i=It();le(),ve("ngIf",(n=i.choferForm.get("nombre"))==null||n.errors==null?null:n.errors.required),le(),ve("ngIf",(r=i.choferForm.get("nombre"))==null||r.errors==null?null:r.errors.pattern)}}function sB(t,e){t&1&&(H(0,"small"),J(1,"El DNI es requerido."),L())}function oB(t,e){t&1&&(H(0,"small"),J(1,"Debe contener solo n\xFAmeros y tener 8 caracteres."),L())}function aB(t,e){if(t&1&&(H(0,"div",25),ze(1,sB,2,0,"small",26)(2,oB,2,0,"small",26),L()),t&2){let n,r,i=It();le(),ve("ngIf",(n=i.choferForm.get("dni"))==null||n.errors==null?null:n.errors.required),le(),ve("ngIf",(r=i.choferForm.get("dni"))==null||r.errors==null?null:r.errors.pattern)}}function cB(t,e){t&1&&(H(0,"small"),J(1,"La edad es requerida."),L())}function uB(t,e){t&1&&(H(0,"small"),J(1,"La edad m\xEDnima es 18 a\xF1os."),L())}function lB(t,e){t&1&&(H(0,"small"),J(1,"La edad m\xE1xima es 50 a\xF1os."),L())}function dB(t,e){if(t&1&&(H(0,"div",25),ze(1,cB,2,0,"small",26)(2,uB,2,0,"small",26)(3,lB,2,0,"small",26),L()),t&2){let n,r,i,s=It();le(),ve("ngIf",(n=s.choferForm.get("edad"))==null||n.errors==null?null:n.errors.required),le(),ve("ngIf",(r=s.choferForm.get("edad"))==null||r.errors==null?null:r.errors.min),le(),ve("ngIf",(i=s.choferForm.get("edad"))==null||i.errors==null?null:i.errors.max)}}function hB(t,e){t&1&&(H(0,"small"),J(1,"El n\xFAmero de licencia es requerido."),L())}function fB(t,e){t&1&&(H(0,"small"),J(1,"Debe contener al menos 7 caracteres."),L())}function pB(t,e){t&1&&(H(0,"small"),J(1,"Debe contener solo n\xFAmeros."),L())}function gB(t,e){if(t&1&&(H(0,"div",25),ze(1,hB,2,0,"small",26)(2,fB,2,0,"small",26)(3,pB,2,0,"small",26),L()),t&2){let n,r,i,s=It();le(),ve("ngIf",(n=s.choferForm.get("nroLicencia"))==null||n.errors==null?null:n.errors.required),le(),ve("ngIf",(r=s.choferForm.get("nroLicencia"))==null||r.errors==null?null:r.errors.minlength),le(),ve("ngIf",(i=s.choferForm.get("nroLicencia"))==null||i.errors==null?null:i.errors.pattern)}}function mB(t,e){t&1&&(H(0,"small"),J(1,"La nacionalidad es requerida."),L())}function yB(t,e){if(t&1&&(H(0,"div",25),ze(1,mB,2,0,"small",26),L()),t&2){let n,r=It();le(),ve("ngIf",(n=r.choferForm.get("nacionalidad"))==null||n.errors==null?null:n.errors.required)}}var gh=class t{constructor(e,n){this.fb=e;this.firestore=n;this.choferForm=this.fb.group({nombre:["",[Et.required,Et.pattern("^[a-zA-Z ]+$")]],dni:["",[Et.required,Et.pattern("^[0-9]{8}$")]],edad:["",[Et.required,Et.min(18),Et.max(50)]],nroLicencia:["",[Et.required,Et.minLength(7),Et.pattern("^[0-9]+$")]],licenciaProfesional:[!1],nacionalidad:["",Et.required]})}choferForm;nacionalidadSeleccionada="";get nombre(){return this.choferForm.get("nombre")}get dni(){return this.choferForm.get("dni")}get edad(){return this.choferForm.get("edad")}get nroLicencia(){return this.choferForm.get("nroLicencia")}get licenciaProfesional(){return this.choferForm.get("licenciaProfesional")}get nacionalidad(){return this.choferForm.get("nacionalidad")}onPaisSeleccionado(e){this.nacionalidadSeleccionada=e,this.choferForm.patchValue({nacionalidad:e})}onSubmit(){return w(this,null,function*(){if(this.choferForm.valid){console.log("Datos del formulario:",this.choferForm.value);try{let e=yield FS(LS(this.firestore,"alta-choferes"),this.choferForm.value);console.log("Documento escrito con ID: ",e.id)}catch(e){console.error("Error agregando documento: ",e)}}})}static \u0275fac=function(n){return new(n||t)(q(f0),q(er))};static \u0275cmp=Ut({type:t,selectors:[["app-alta"]],standalone:!0,features:[$t],decls:44,vars:8,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","nroLicencia",1,"form-label"],["type","text","id","nroLicencia","formControlName","nroLicencia","required","",1,"form-control"],["for","licenciaProfesional",1,"form-label"],["id","licenciaProfesional","type","checkbox","formControlName","licenciaProfesional"],[1,"col-12"],["for","nacionalidad",1,"form-label"],["type","text","id","nacionalidad","readonly","",1,"form-control",3,"value"],[3,"paisSeleccionado"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"invalid-feedback","d-block"],[4,"ngIf"]],template:function(n,r){if(n&1&&(H(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),J(4,"Formulario Alta de Chofer"),L()(),H(5,"div",2)(6,"div",3)(7,"h4",4),J(8,"Datos del Chofer"),L(),H(9,"form",5),Ae("ngSubmit",function(){return r.onSubmit()}),H(10,"div",6)(11,"div",7)(12,"label",8),J(13,"Nombre"),L(),Ze(14,"input",9),ze(15,iB,3,2,"div",10),L(),H(16,"div",7)(17,"label",11),J(18,"DNI"),L(),Ze(19,"input",12),ze(20,aB,3,2,"div",10),L(),H(21,"div",7)(22,"label",13),J(23,"Edad"),L(),Ze(24,"input",14),ze(25,dB,4,3,"div",10),L(),H(26,"div",7)(27,"label",15),J(28,"Nro de Licencia"),L(),Ze(29,"input",16),ze(30,gB,4,3,"div",10),L(),H(31,"div",7)(32,"label",17),J(33,"Licencia Profesional"),L(),Ze(34,"input",18),L(),H(35,"div",19)(36,"label",20),J(37,"Nacionalidad"),L(),Ze(38,"input",21),H(39,"app-lista-paises",22),Ae("paisSeleccionado",function(s){return r.onPaisSeleccionado(s)}),L(),ze(40,yB,2,1,"div",10),L()(),Ze(41,"hr",23),H(42,"button",24),J(43,"Dar de Alta"),L()()()()()()),n&2){let i,s,o,c,u;le(9),ve("formGroup",r.choferForm),le(6),ve("ngIf",((i=r.choferForm.get("nombre"))==null?null:i.invalid)&&(((i=r.choferForm.get("nombre"))==null?null:i.dirty)||((i=r.choferForm.get("nombre"))==null?null:i.touched))),le(5),ve("ngIf",((s=r.choferForm.get("dni"))==null?null:s.invalid)&&(((s=r.choferForm.get("dni"))==null?null:s.dirty)||((s=r.choferForm.get("dni"))==null?null:s.touched))),le(5),ve("ngIf",((o=r.choferForm.get("edad"))==null?null:o.invalid)&&(((o=r.choferForm.get("edad"))==null?null:o.dirty)||((o=r.choferForm.get("edad"))==null?null:o.touched))),le(5),ve("ngIf",((c=r.choferForm.get("nroLicencia"))==null?null:c.invalid)&&(((c=r.choferForm.get("nroLicencia"))==null?null:c.dirty)||((c=r.choferForm.get("nroLicencia"))==null?null:c.touched))),le(8),ve("value",r.nacionalidadSeleccionada),le(2),ve("ngIf",((u=r.choferForm.get("nacionalidad"))==null?null:u.invalid)&&(((u=r.choferForm.get("nacionalidad"))==null?null:u.dirty)||((u=r.choferForm.get("nacionalidad"))==null?null:u.touched))),le(2),ve("disabled",r.choferForm.invalid)}},dependencies:[Vn,Ds,Nd,Md,Gs,wy,fy,Cd,Sd,Xa,p0,Ey,Dy,ph],styles:[".container[_ngcontent-%COMP%]{max-width:960px;padding:15px;background-color:#f0f8ff}h2[_ngcontent-%COMP%]{margin-bottom:30px}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0}button[type=submit][_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{margin-top:20px}"]})};var jS=[{path:"",redirectTo:"/bienvenido",pathMatch:"full"},{path:"bienvenido",component:pd},{path:"login",component:hh},{path:"alta",component:gh}];var BS={providers:[qD({eventCoalescing:!0}),oT(jS),kT(()=>FT({projectId:"primer-parcial-e8c6b",appId:"1:873726604068:web:999c91785fcff4029c79b1",storageBucket:"primer-parcial-e8c6b.appspot.com",apiKey:"AIzaSyB-niiLHnuxfs_tgfBE_lgH7Vw6Vxhb68k",authDomain:"primer-parcial-e8c6b.firebaseapp.com",messagingSenderId:"873726604068"})),xC(()=>PC()),kS(()=>VS()),pb()]};var mh=class t{constructor(e){this.router=e}title="primer-parcial";IrAOtraRuta(e){console.log("hola"),this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(q(Sr))};static \u0275cmp=Ut({type:t,selectors:[["app-root"]],standalone:!0,features:[$t],decls:8,vars:0,consts:[[3,"click"]],template:function(n,r){n&1&&(H(0,"nav")(1,"button",0),Ae("click",function(){return r.IrAOtraRuta("/bienvenido")}),J(2,"Home"),L(),H(3,"button",0),Ae("click",function(){return r.IrAOtraRuta("/login")}),J(4,"Login"),L(),H(5,"button",0),Ae("click",function(){return r.IrAOtraRuta("/alta")}),J(6,"Alta"),L()(),Ze(7,"router-outlet"))},dependencies:[Gg],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{background-color:#f0f0f0;margin:0;font-family:Arial,sans-serif}nav[_ngcontent-%COMP%]{background-color:#333;padding:1rem;display:flex;justify-content:center;gap:1rem;border-radius:8px}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#444;color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#555}']})};Db(mh,BS).catch(t=>console.error(t));
