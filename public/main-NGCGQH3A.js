var iN=Object.create;var ug=Object.defineProperty,oN=Object.defineProperties,sN=Object.getOwnPropertyDescriptor,aN=Object.getOwnPropertyDescriptors,cN=Object.getOwnPropertyNames,i0=Object.getOwnPropertySymbols,s0=Object.getPrototypeOf,a0=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,lN=Reflect.get;var o0=(n,e,t)=>e in n?ug(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})a0.call(e,t)&&o0(n,t,e[t]);if(i0)for(var t of i0(e))uN.call(e,t)&&o0(n,t,e[t]);return n},Ie=(n,e)=>oN(n,aN(e));var dN=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hN=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cN(e))!a0.call(n,i)&&i!==t&&ug(n,i,{get:()=>e[i],enumerable:!(r=sN(e,i))||r.enumerable});return n};var fN=(n,e,t)=>(t=n!=null?iN(s0(n)):{},hN(e||!n||!n.__esModule?ug(t,"default",{value:n,enumerable:!0}):t,n));var Ri=(n,e,t)=>lN(s0(n),t,e);var D=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var px=dN((Tr,V_)=>{"use strict";(function(n,e){typeof Tr=="object"&&typeof V_<"u"?V_.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Tr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",p=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",L=l=>l.charAt(0).toUpperCase()+l.slice(1),P=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},B=l=>{console.error(`${M} ${l}`)},J=[],Q=l=>{J.includes(l)||(J.push(l),P(l))},ae=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Ae=l=>typeof l=="function"?l():l,re=l=>l&&typeof l.toPromise=="function",T=l=>re(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${p.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),x=()=>A(p.popup),C=()=>A(p.icon),jn=()=>A(p["icon-content"]),hi=()=>A(p.title),Ac=()=>A(p["html-container"]),fi=()=>A(p.image),kr=()=>A(p["progress-steps"]),pi=()=>A(p["validation-message"]),an=()=>S(`.${p.actions} .${p.confirm}`),mi=()=>S(`.${p.actions} .${p.cancel}`),Ut=()=>S(`.${p.actions} .${p.deny}`),St=()=>A(p["input-label"]),gi=()=>S(`.${p.loader}`),Un=()=>A(p.actions),ql=()=>A(p.footer),tr=()=>A(p["timer-progress-bar"]),xc=()=>A(p.close),qm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,yi=()=>{let l=x();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((G,ve)=>{let Re=parseInt(G.getAttribute("tabindex")||"0"),rt=parseInt(ve.getAttribute("tabindex")||"0");return Re>rt?1:Re<rt?-1:0}),w=l.querySelectorAll(qm),O=Array.from(w).filter(G=>G.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(O))].filter(G=>Ot(G))},vi=()=>cn(document.body,p.shown)&&!cn(document.body,p["toast-shown"])&&!cn(document.body,p["no-backdrop"]),wi=()=>{let l=x();return l?cn(l,p.toast):!1},Rc=()=>{let l=x();return l?l.hasAttribute("data-loading"):!1},Pt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),O=w.querySelector("head");O&&Array.from(O.childNodes).forEach(ve=>{l.appendChild(ve)});let G=w.querySelector("body");G&&Array.from(G.childNodes).forEach(ve=>{ve instanceof HTMLVideoElement||ve instanceof HTMLAudioElement?l.appendChild(ve.cloneNode(!0)):l.appendChild(ve)})}},cn=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},zl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(p).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Bt=(l,h,y)=>{if(zl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){P(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}be(l,w)}},Ss=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${p.popup} > .${p[h]}`);case"checkbox":return l.querySelector(`.${p.popup} > .${p.checkbox} input`);case"radio":return l.querySelector(`.${p.popup} > .${p.radio} input:checked`)||l.querySelector(`.${p.popup} > .${p.radio} input:first-child`);case"range":return l.querySelector(`.${p.popup} > .${p.range} input`);default:return l.querySelector(`.${p.popup} > .${p.input}`)}},Mc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Nc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(O=>{y?O.classList.add(w):O.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},be=(l,h)=>{Nc(l,h,!0)},un=(l,h)=>{Nc(l,h,!1)},nr=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let O=y[w];if(O instanceof HTMLElement&&cn(O,h))return O}},Bn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},ot=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},dt=l=>{l&&(l.style.display="none")},ht=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{rr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},At=(l,h,y,w)=>{let O=l.querySelector(h);O&&O.style.setProperty(y,w)},rr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ot(l,y):dt(l)},Ot=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Gl=()=>!Ot(an())&&!Ot(Ut())&&!Ot(mi()),Wl=l=>l.scrollHeight>l.clientHeight,_i=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},As=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=tr();y&&Ot(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Kl=()=>{let l=tr();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Pc=()=>typeof window>"u"||typeof document>"u",zm=`
 <div aria-labelledby="${p.title}" aria-describedby="${p["html-container"]}" class="${p.popup}" tabindex="-1">
   <button type="button" class="${p.close}"></button>
   <ul class="${p["progress-steps"]}"></ul>
   <div class="${p.icon}"></div>
   <img class="${p.image}" />
   <h2 class="${p.title}" id="${p.title}"></h2>
   <div class="${p["html-container"]}" id="${p["html-container"]}"></div>
   <input class="${p.input}" id="${p.input}" />
   <input type="file" class="${p.file}" />
   <div class="${p.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${p.select}" id="${p.select}"></select>
   <div class="${p.radio}"></div>
   <label class="${p.checkbox}">
     <input type="checkbox" id="${p.checkbox}" />
     <span class="${p.label}"></span>
   </label>
   <textarea class="${p.textarea}" id="${p.textarea}"></textarea>
   <div class="${p["validation-message"]}" id="${p["validation-message"]}"></div>
   <div class="${p.actions}">
     <div class="${p.loader}"></div>
     <button type="button" class="${p.confirm}"></button>
     <button type="button" class="${p.deny}"></button>
     <button type="button" class="${p.cancel}"></button>
   </div>
   <div class="${p.footer}"></div>
   <div class="${p["timer-progress-bar-container"]}">
     <div class="${p["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Gm=()=>{let l=b();return l?(l.remove(),un([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0):!1},$n=()=>{s.currentInstance.resetValidationMessage()},Ql=()=>{let l=x(),h=nr(l,p.input),y=nr(l,p.file),w=l.querySelector(`.${p.range} input`),O=l.querySelector(`.${p.range} output`),G=nr(l,p.select),ve=l.querySelector(`.${p.checkbox} input`),Re=nr(l,p.textarea);h.oninput=$n,y.onchange=$n,G.onchange=$n,ve.onchange=$n,Re.oninput=$n,w.oninput=()=>{$n(),O.value=w.value},w.onchange=()=>{$n(),O.value=w.value}},Yl=l=>typeof l=="string"?document.querySelector(l):l,yo=l=>{let h=x();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Oc=l=>{window.getComputedStyle(l).direction==="rtl"&&be(b(),p.rtl)},kc=l=>{let h=Gm();if(Pc()){B("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=p.container,h&&be(y,p["no-transition"]),Pt(y,zm);let w=Yl(l.target);w.appendChild(y),yo(l),Oc(w),Ql()},Hn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Zl(l,h):l&&Pt(h,l)},Zl=(l,h)=>{l.jquery?xs(h,l):Pt(h,l.toString())},xs=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Jl=(l,h)=>{let y=Un(),w=gi();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?dt(y):ot(y),Bt(y,h,"actions"),vo(y,w,h),Pt(w,h.loaderHtml||""),Bt(w,h,"loader"))};function vo(l,h,y){let w=an(),O=Ut(),G=mi();!w||!O||!G||(_t(w,"confirm",y),_t(O,"deny",y),_t(G,"cancel",y),Xl(w,O,G,y),y.reverseButtons&&(y.toast?(l.insertBefore(G,w),l.insertBefore(O,w)):(l.insertBefore(G,h),l.insertBefore(O,h),l.insertBefore(w,h))))}function Xl(l,h,y,w){if(!w.buttonsStyling){un([l,h,y],p.styled);return}be([l,h,y],p.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,be(l,p["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,be(h,p["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,be(y,p["default-outline"]))}function _t(l,h,y){let w=L(h);rr(l,y[`show${w}Button`],"inline-block"),Pt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=p[h],Bt(l,y,`${h}Button`)}let ed=(l,h)=>{let y=xc();y&&(Pt(y,h.closeButtonHtml||""),Bt(y,h,"closeButton"),rr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},wo=(l,h)=>{let y=b();y&&(_o(y,h.backdrop),Wm(y,h.position),Km(y,h.grow),Bt(y,h,"container"))};function _o(l,h){typeof h=="string"?l.style.background=h:h||be([document.documentElement,document.body],p["no-backdrop"])}function Wm(l,h){h&&(h in p?be(l,p[h]):(P('The "position" parameter is not valid, defaulting to "center"'),be(l,p.center)))}function Km(l,h){h&&be(l,p[`grow-${h}`])}var Pe={innerParams:new WeakMap,domCache:new WeakMap};let Qm=["input","file","range","select","radio","checkbox","textarea"],Ym=(l,h)=>{let y=x();if(!y)return;let w=Pe.innerParams.get(l),O=!w||h.input!==w.input;Qm.forEach(G=>{let ve=nr(y,p[G]);ve&&(Fc(G,h.inputAttributes),ve.className=p[G],O&&dt(ve))}),h.input&&(O&&Rs(h),Ms(h))},Rs=l=>{if(!l.input)return;if(!Ze[l.input]){B(`Unexpected type of input! Expected ${Object.keys(Ze).join(" | ")}, got "${l.input}"`);return}let h=Lc(l.input);if(!h)return;let y=Ze[l.input](h,l);ot(h),l.inputAutoFocus&&setTimeout(()=>{Mc(y)})},td=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Fc=(l,h)=>{let y=x();if(!y)return;let w=Ss(y,l);if(w){td(w);for(let O in h)w.setAttribute(O,h[O])}},Ms=l=>{if(!l.input)return;let h=Lc(l.input);h&&Bt(h,l,"input")},Dn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Ii=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),O=p["input-label"];w.setAttribute("for",l.id),w.className=O,typeof y.customClass=="object"&&be(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Lc=l=>{let h=x();if(h)return nr(h,p[l]||p.input)},Ei=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||P(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ze={};Ze.text=Ze.email=Ze.password=Ze.number=Ze.tel=Ze.url=Ze.search=Ze.date=Ze["datetime-local"]=Ze.time=Ze.week=Ze.month=(l,h)=>(Ei(l,h.inputValue),Ii(l,l,h),Dn(l,h),l.type=h.input,l),Ze.file=(l,h)=>(Ii(l,l,h),Dn(l,h),l),Ze.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Ei(y,h.inputValue),y.type=h.input,Ei(w,h.inputValue),Ii(y,l,h),l},Ze.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Pt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Ii(l,l,h),l},Ze.radio=l=>(l.textContent="",l),Ze.checkbox=(l,h)=>{let y=Ss(x(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Pt(w,h.inputPlaceholder||h.inputLabel),y},Ze.textarea=(l,h)=>{Ei(l,h.inputValue),Dn(l,h),Ii(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(x()).width),O=()=>{if(!document.body.contains(l))return;let G=l.offsetWidth+y(l);G>w?x().style.width=`${G}px`:Bn(x(),"width",h.width)};new MutationObserver(O).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let nd=(l,h)=>{let y=Ac();y&&(ht(y),Bt(y,h,"htmlContainer"),h.html?(Hn(h.html,y),ot(y,"block")):h.text?(y.textContent=h.text,ot(y,"block")):dt(y),Ym(l,h))},rd=(l,h)=>{let y=ql();y&&(ht(y),rr(y,h.footer,"block"),h.footer&&Hn(h.footer,y),Bt(y,h,"footer"))},Zm=(l,h)=>{let y=Pe.innerParams.get(l),w=C();if(w){if(y&&h.icon===y.icon){ir(w,h),Io(w,h);return}if(!h.icon&&!h.iconHtml){dt(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){B(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),dt(w);return}ot(w),ir(w,h),Io(w,h),be(w,h.showClass&&h.showClass.icon)}},Io=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&un(l,w);be(l,h.icon&&E[h.icon]),jc(l,h),id(),Bt(l,h,"icon")},id=()=>{let l=x();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Vc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Eo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ir=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=od(h.iconHtml):h.icon==="success"?(w=Vc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Eo:h.icon&&(w=od({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Pt(l,w)},jc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])At(l,y,"background-color",h.iconColor);At(l,".swal2-success-ring","border-color",h.iconColor)}},od=l=>`<div class="${p["icon-content"]}">${l}</div>`,sd=(l,h)=>{let y=fi();if(y){if(!h.imageUrl){dt(y);return}ot(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Bn(y,"width",h.imageWidth),Bn(y,"height",h.imageHeight),y.className=p.image,Bt(y,h,"image")}},ad=(l,h)=>{let y=b(),w=x();if(!(!y||!w)){if(h.toast){Bn(y,"width",h.width),w.style.width="100%";let O=gi();O&&w.insertBefore(O,C())}else Bn(w,"width",h.width);Bn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),dt(pi()),cd(w,h)}},cd=(l,h)=>{let y=h.showClass||{};l.className=`${p.popup} ${Ot(l)?y.popup:""}`,h.toast?(be([document.documentElement,document.body],p["toast-shown"]),be(l,p.toast)):be(l,p.modal),Bt(l,h,"popup"),typeof h.customClass=="string"&&be(l,h.customClass),h.icon&&be(l,p[`icon-${h.icon}`])},Uc=(l,h)=>{let y=kr();if(!y)return;let{progressSteps:w,currentProgressStep:O}=h;if(!w||w.length===0||O===void 0){dt(y);return}ot(y),y.textContent="",O>=w.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((G,ve)=>{let Re=Bc(G);if(y.appendChild(Re),ve===O&&be(Re,p["active-progress-step"]),ve!==w.length-1){let rt=ud(h);y.appendChild(rt)}})},Bc=l=>{let h=document.createElement("li");return be(h,p["progress-step"]),Pt(h,l),h},ud=l=>{let h=document.createElement("li");return be(h,p["progress-step-line"]),l.progressStepsDistance&&Bn(h,"width",l.progressStepsDistance),h},ld=(l,h)=>{let y=hi();y&&(ht(y),rr(y,h.title||h.titleText,"block"),h.title&&Hn(h.title,y),h.titleText&&(y.innerText=h.titleText),Bt(y,h,"title"))},dd=(l,h)=>{ad(l,h),wo(l,h),Uc(l,h),Zm(l,h),sd(l,h),ld(l,h),ed(l,h),nd(l,h),Jl(l,h),rd(l,h);let y=x();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},Jm=()=>Ot(x()),$c=()=>{var l;return(l=an())===null||l===void 0?void 0:l.click()},hd=()=>{var l;return(l=Ut())===null||l===void 0?void 0:l.click()},Xm=()=>{var l;return(l=mi())===null||l===void 0?void 0:l.click()},Zt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Ns=(l,h,y)=>{Tn(l),h.toast||(l.keydownHandler=w=>Ps(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:x(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},bi=(l,h)=>{var y;let w=yi();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=x())===null||y===void 0||y.focus()},Hc=["ArrowRight","ArrowDown"],ze=["ArrowLeft","ArrowUp"],Ps=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?bo(h,l):h.key==="Tab"?Co(h):[...Hc,...ze].includes(h.key)?eg(h.key):h.key==="Escape"&&fd(h,l,y)))},bo=(l,h)=>{if(!Ae(h.allowEnterKey))return;let y=Ss(x(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;$c(),l.preventDefault()}},Co=l=>{let h=l.target,y=yi(),w=-1;for(let O=0;O<y.length;O++)if(h===y[O]){w=O;break}l.shiftKey?bi(w,-1):bi(w,1),l.stopPropagation(),l.preventDefault()},eg=l=>{let h=Un(),y=an(),w=Ut(),O=mi();if(!h||!y||!w||!O)return;let G=[y,w,O];if(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))return;let ve=Hc.includes(l)?"nextElementSibling":"previousElementSibling",Re=document.activeElement;if(Re){for(let rt=0;rt<h.children.length;rt++){if(Re=Re[ve],!Re)return;if(Re instanceof HTMLButtonElement&&Ot(Re))break}Re instanceof HTMLButtonElement&&Re.focus()}},fd=(l,h,y)=>{Ae(h.allowEscapeKey)&&(l.preventDefault(),y(Zt.esc))};var Ci={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let tg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},pd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},md=typeof window<"u"&&!!window.GestureEvent,Do=()=>{if(md&&!cn(document.body,p.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,be(document.body,p.iosfix),or()}},or=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=gd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},gd=l=>{let h=l.target,y=b(),w=Ac();return!y||!w||yd(l)||vd(l)?!1:h===y||!Wl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Wl(w)&&w.contains(h))},yd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",vd=l=>l.touches&&l.touches.length>1,Di=()=>{if(cn(document.body,p.iosfix)){let l=parseInt(document.body.style.top,10);un(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},ng=()=>{let l=document.createElement("div");l.className=p["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Ti=null,rg=l=>{Ti===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Ti=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ti+ng()}px`)},sr=()=>{Ti!==null&&(document.body.style.paddingRight=`${Ti}px`,Ti=null)};function wd(l,h,y,w){wi()?Je(l,w):(u(y).then(()=>Je(l,w)),Tn(s)),md?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),vi()&&(sr(),Di(),pd()),ig()}function ig(){un([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Jt(l){l=To(l);let h=Ci.swalPromiseResolve.get(this),y=Os(this);this.isAwaitingPromise?l.isDismissed||(qn(this),h(l)):y&&h(l)}let Os=l=>{let h=x();if(!h)return!1;let y=Pe.innerParams.get(l);if(!y||cn(h,y.hideClass.popup))return!1;un(h,y.showClass.popup),be(h,y.hideClass.popup);let w=b();return un(w,y.showClass.backdrop),be(w,y.hideClass.backdrop),_d(l,h,y),!0};function qc(l){let h=Ci.swalPromiseReject.get(this);qn(this),h&&h(l)}let qn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Pe.innerParams.get(l)||l._destroy())},To=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),_d=(l,h,y)=>{var w;let O=b(),G=_i(h);typeof y.willClose=="function"&&y.willClose(h),(w=s.eventEmitter)===null||w===void 0||w.emit("willClose",h),G?zc(l,h,O,y.returnFocus,y.didClose):wd(l,O,y.returnFocus,y.didClose)},zc=(l,h,y,w,O)=>{s.swalCloseEventFinishedCallback=wd.bind(null,l,y,w,O);let G=function(ve){if(ve.target===h){var Re;(Re=s.swalCloseEventFinishedCallback)===null||Re===void 0||Re.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",G),h.removeEventListener("transitionend",G)}};h.addEventListener("animationend",G),h.addEventListener("transitionend",G)},Je=(l,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(l.params)(),(y=s.eventEmitter)===null||y===void 0||y.emit("didClose"),l._destroy&&l._destroy()})},Si=l=>{let h=x();if(h||new kd,h=x(),!h)return;let y=gi();wi()?dt(C()):og(h,l),ot(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},og=(l,h)=>{let y=Un(),w=gi();!y||!w||(!h&&Ot(an())&&(h=an()),ot(y),h&&(dt(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),be([l,y],p.loading))},Id=(l,h)=>{h.input==="select"||h.input==="radio"?zn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(re(h.inputValue)||I(h.inputValue))&&(Si(an()),Dd(l,h))},Ed=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return bd(y);case"radio":return ks(y);case"file":return Cd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},bd=l=>l.checked?1:0,ks=l=>l.checked?l.value:null,Cd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,zn=(l,h)=>{let y=x();if(!y)return;let w=O=>{h.input==="select"?sg(y,Ao(O),h):h.input==="radio"&&So(y,Ao(O),h)};re(h.inputOptions)||I(h.inputOptions)?(Si(an()),T(h.inputOptions).then(O=>{l.hideLoading(),w(O)})):typeof h.inputOptions=="object"?w(h.inputOptions):B(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Dd=(l,h)=>{let y=l.getInput();y&&(dt(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,ot(y),y.focus(),l.hideLoading()}).catch(w=>{B(`Error in inputValue promise: ${w}`),y.value="",ot(y),y.focus(),l.hideLoading()}))};function sg(l,h,y){let w=nr(l,p.select);if(!w)return;let O=(G,ve,Re)=>{let rt=document.createElement("option");rt.value=Re,Pt(rt,ve),rt.selected=Fs(Re,y.inputValue),G.appendChild(rt)};h.forEach(G=>{let ve=G[0],Re=G[1];if(Array.isArray(Re)){let rt=document.createElement("optgroup");rt.label=ve,rt.disabled=!1,w.appendChild(rt),Re.forEach(Us=>O(rt,Us[1],Us[0]))}else O(w,Re,ve)}),w.focus()}function So(l,h,y){let w=nr(l,p.radio);if(!w)return;h.forEach(G=>{let ve=G[0],Re=G[1],rt=document.createElement("input"),Us=document.createElement("label");rt.type="radio",rt.name=p.radio,rt.value=ve,Fs(ve,y.inputValue)&&(rt.checked=!0);let cg=document.createElement("span");Pt(cg,Re),cg.className=p.label,Us.appendChild(rt),Us.appendChild(cg),w.appendChild(Us)});let O=w.querySelectorAll("input");O.length&&O[0].focus()}let Ao=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let O=y;typeof O=="object"&&(O=Ao(O)),h.push([w,O])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Ao(w)),h.push([y,w])}),h},Fs=(l,h)=>!!h&&h.toString()===l.toString(),Ls=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.input?Sd(l,"confirm"):xo(l,!0)},Td=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Sd(l,"deny"):Fr(l,!1)},Vs=(l,h)=>{l.disableButtons(),h(Zt.cancel)},Sd=(l,h)=>{let y=Pe.innerParams.get(l);if(!y.input){B(`The "input" parameter is needed to be set when using returnInputValueOn${L(h)}`);return}let w=l.getInput(),O=Ed(l,y);y.inputValidator?Ad(l,O,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Fr(l,O):xo(l,O)},Ad=(l,h,y)=>{let w=Pe.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then(G=>{l.enableButtons(),l.enableInput(),G?l.showValidationMessage(G):y==="deny"?Fr(l,h):xo(l,h)})},Fr=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnDeny&&Si(Ut()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(O=>{O===!1?(l.hideLoading(),qn(l)):l.close({isDenied:!0,value:typeof O>"u"?h:O})}).catch(O=>Wc(l||void 0,O))):l.close({isDenied:!0,value:h})},Gc=(l,h)=>{l.close({isConfirmed:!0,value:h})},Wc=(l,h)=>{l.rejectPromise(h)},xo=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Si(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(O=>{Ot(pi())||O===!1?(l.hideLoading(),qn(l)):Gc(l,typeof O>"u"?h:O)}).catch(O=>Wc(l||void 0,O))):Gc(l,h)};function Ai(){let l=Pe.innerParams.get(this);if(!l)return;let h=Pe.domCache.get(this);dt(h.loader),wi()?l.icon&&ot(C()):xd(h),un([h.popup,h.actions],p.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let xd=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?ot(h[0],"inline-block"):Gl()&&dt(l.actions)};function Ro(){let l=Pe.innerParams.get(this),h=Pe.domCache.get(this);return h?Ss(h.popup,l.input):null}function Kc(l,h,y){let w=Pe.domCache.get(l);h.forEach(O=>{w[O].disabled=y})}function Qc(l,h){let y=x();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${p.radio}"]`);for(let O=0;O<w.length;O++)w[O].disabled=h}else l.disabled=h}function ar(){Kc(this,["confirmButton","denyButton","cancelButton"],!1)}function Yc(){Kc(this,["confirmButton","denyButton","cancelButton"],!0)}function Zc(){Qc(this.getInput(),!1)}function Jc(){Qc(this.getInput(),!0)}function Xc(l){let h=Pe.domCache.get(this),y=Pe.innerParams.get(this);Pt(h.validationMessage,l),h.validationMessage.className=p["validation-message"],y.customClass&&y.customClass.validationMessage&&be(h.validationMessage,y.customClass.validationMessage),ot(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",p["validation-message"]),Mc(w),be(w,p.inputerror))}function Mo(){let l=Pe.domCache.get(this);l.validationMessage&&dt(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),un(h,p.inputerror))}let ft={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Rd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Md={allowEnterKey:void 0},xi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(ft,l),f=l=>Rd.indexOf(l)!==-1,g=l=>Md[l],v=l=>{c(l)||P(`Unknown parameter "${l}"`)},R=l=>{xi.includes(l)&&P(`The parameter "${l}" is incompatible with toasts`)},k=l=>{let h=g(l);h&&ae(l,h)},H=l=>{l.backdrop===!1&&l.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&R(h),k(h)};function Fe(l){let h=x(),y=Pe.innerParams.get(this);if(!h||cn(h,y.hideClass.popup)){P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=It(l),O=Object.assign({},y,w);dd(this,O),Pe.innerParams.set(this,O),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let It=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:P(`Invalid parameter to update: ${y}`)}),h};function xe(){let l=Pe.domCache.get(this),h=Pe.innerParams.get(this);if(!h){Et(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),xt(this)}let xt=l=>{Et(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Et=l=>{l.isAwaitingPromise?(cr(Pe,l),l.isAwaitingPromise=!0):(cr(Ci,l),cr(Pe,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},cr=(l,h)=>{for(let y in l)l[y].delete(h)};var ln=Object.freeze({__proto__:null,_destroy:xe,close:Jt,closeModal:Jt,closePopup:Jt,closeToast:Jt,disableButtons:Yc,disableInput:Jc,disableLoading:Ai,enableButtons:ar,enableInput:Zc,getInput:Ro,handleAwaitingPromise:qn,hideLoading:Ai,rejectPromise:qc,resetValidationMessage:Mo,showValidationMessage:Xc,update:Fe});let js=(l,h,y)=>{l.toast?eu(l,h,y):(vM(h),wM(h),_M(l,h,y))},eu=(l,h,y)=>{h.popup.onclick=()=>{l&&(yM(l)||l.timer||l.input)||y(Zt.close)}},yM=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Nd=!1,vM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Nd=!0)}}},wM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Nd=!0)}}},_M=(l,h,y)=>{h.container.onclick=w=>{if(Nd){Nd=!1;return}w.target===h.container&&Ae(l.allowOutsideClick)&&y(Zt.backdrop)}},IM=l=>typeof l=="object"&&l.jquery,ZE=l=>l instanceof Element||IM(l),EM=l=>{let h={};return typeof l[0]=="object"&&!ZE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let O=l[w];typeof O=="string"||ZE(O)?h[y]=O:O!==void 0&&B(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof O}`)}),h};function bM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function CM(l){class h extends this{_main(w,O){return super._main(w,Object.assign({},l,O))}}return h}let DM=()=>s.timeout&&s.timeout.getTimerLeft(),JE=()=>{if(s.timeout)return Kl(),s.timeout.stop()},XE=()=>{if(s.timeout){let l=s.timeout.start();return As(l),l}},TM=()=>{let l=s.timeout;return l&&(l.running?JE():XE())},SM=l=>{if(s.timeout){let h=s.timeout.increase(l);return As(h,!0),h}},AM=()=>!!(s.timeout&&s.timeout.isRunning()),e0=!1,ag={};function xM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ag[l]=this,e0||(document.body.addEventListener("click",RM),e0=!0)}let RM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in ag){let w=h.getAttribute(y);if(w){ag[y].fire({template:w});return}}};class MM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let O=function(){w.removeListener(h,O);for(var G=arguments.length,ve=new Array(G),Re=0;Re<G;Re++)ve[Re]=arguments[Re];y.apply(w,ve)};this.on(h,O)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),O=1;O<y;O++)w[O-1]=arguments[O];this._getHandlersByEventName(h).forEach(G=>{try{G.apply(this,w)}catch(ve){console.error(ve)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),O=w.indexOf(y);O>-1&&w.splice(O,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new MM;var NM=Object.freeze({__proto__:null,argsToParams:EM,bindClickHandler:xM,clickCancel:Xm,clickConfirm:$c,clickDeny:hd,enableLoading:Si,fire:bM,getActions:Un,getCancelButton:mi,getCloseButton:xc,getConfirmButton:an,getContainer:b,getDenyButton:Ut,getFocusableElements:yi,getFooter:ql,getHtmlContainer:Ac,getIcon:C,getIconContent:jn,getImage:fi,getInputLabel:St,getLoader:gi,getPopup:x,getProgressSteps:kr,getTimerLeft:DM,getTimerProgressBar:tr,getTitle:hi,getValidationMessage:pi,increaseTimer:SM,isDeprecatedParameter:g,isLoading:Rc,isTimerRunning:AM,isUpdatableParameter:f,isValidParameter:c,isVisible:Jm,mixin:CM,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:XE,showLoading:Si,stopTimer:JE,toggleTimer:TM});class PM{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let t0=["swal-title","swal-html","swal-footer"],OM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return $M(y),Object.assign(kM(y),FM(y),LM(y),VM(y),jM(y),UM(y),BM(y,t0))},kM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{No(w,["name","value"]);let O=w.getAttribute("name"),G=w.getAttribute("value");!O||!G||(typeof ft[O]=="boolean"?h[O]=G!=="false":typeof ft[O]=="object"?h[O]=JSON.parse(G):h[O]=G)}),h},FM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let O=w.getAttribute("name"),G=w.getAttribute("value");!O||!G||(h[O]=new Function(`return ${G}`)())}),h},LM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{No(w,["type","color","aria-label"]);let O=w.getAttribute("type");!O||!["confirm","cancel","deny"].includes(O)||(h[`${O}ButtonText`]=w.innerHTML,h[`show${L(O)}Button`]=!0,w.hasAttribute("color")&&(h[`${O}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${O}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},VM=l=>{let h={},y=l.querySelector("swal-image");return y&&(No(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},jM=l=>{let h={},y=l.querySelector("swal-icon");return y&&(No(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},UM=l=>{let h={},y=l.querySelector("swal-input");y&&(No(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(O=>{No(O,["value"]);let G=O.getAttribute("value");if(!G)return;let ve=O.innerHTML;h.inputOptions[G]=ve})),h},BM=(l,h)=>{let y={};for(let w in h){let O=h[w],G=l.querySelector(O);G&&(No(G,[]),y[O.replace(/^swal-/,"")]=G.innerHTML.trim())}return y},$M=l=>{let h=t0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||P(`Unrecognized element <${w}>`)})},No=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&P([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},n0=10,HM=l=>{let h=b(),y=x();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let O=window.getComputedStyle(document.body).overflowY;GM(h,y,l),setTimeout(()=>{qM(h,y)},n0),vi()&&(zM(h,l.scrollbarPadding,O),tg()),!wi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),un(h,p["no-transition"])},Pd=l=>{let h=x();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Pd),h.removeEventListener("transitionend",Pd),y.style.overflowY="auto"},qM=(l,h)=>{_i(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Pd),h.addEventListener("transitionend",Pd)):l.style.overflowY="auto"},zM=(l,h,y)=>{Do(),h&&y!=="hidden"&&rg(y),setTimeout(()=>{l.scrollTop=0})},GM=(l,h,y)=>{be(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),ot(h,"grid"),setTimeout(()=>{be(h,y.showClass.popup),h.style.removeProperty("opacity")},n0)):ot(h,"grid"),be([document.documentElement,document.body],p.shown),y.heightAuto&&y.backdrop&&!y.toast&&be([document.documentElement,document.body],p["height-auto"])};var r0={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function WM(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=r0.email),l.input==="url"&&(l.inputValidator=r0.url))}function KM(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),l.target="body")}function QM(l){WM(l),l.showLoaderOnConfirm&&!l.preConfirm&&P(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),KM(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),kc(l)}let ur;var Od=new WeakMap;class ut{constructor(){if(r(this,Od,void 0),typeof window>"u")return;ur=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let O=Object.freeze(this.constructor.argsToParams(y));this.params=O,this.isAwaitingPromise=!1,i(Od,this,this._main(ur.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(H(Object.assign({},y,h)),s.currentInstance){let G=Ci.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ve}=s.currentInstance;s.currentInstance._destroy(),ve||G({isDismissed:!0}),vi()&&pd()}s.currentInstance=ur;let w=ZM(h,y);QM(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let O=JM(ur);return dd(ur,w),Pe.innerParams.set(ur,w),YM(ur,O,w)}then(h){return t(Od,this).then(h)}finally(h){return t(Od,this).finally(h)}}let YM=(l,h,y)=>new Promise((w,O)=>{let G=ve=>{l.close({isDismissed:!0,dismiss:ve})};Ci.swalPromiseResolve.set(l,w),Ci.swalPromiseReject.set(l,O),h.confirmButton.onclick=()=>{Ls(l)},h.denyButton.onclick=()=>{Td(l)},h.cancelButton.onclick=()=>{Vs(l,G)},h.closeButton.onclick=()=>{G(Zt.close)},js(y,h,G),Ns(s,y,G),Id(l,y),HM(y),XM(s,y,G),eN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),ZM=(l,h)=>{let y=OM(l),w=Object.assign({},ft,h,y,l);return w.showClass=Object.assign({},ft.showClass,w.showClass),w.hideClass=Object.assign({},ft.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},JM=l=>{let h={popup:x(),container:b(),actions:Un(),confirmButton:an(),denyButton:Ut(),cancelButton:mi(),loader:gi(),closeButton:xc(),validationMessage:pi(),progressSteps:kr()};return Pe.domCache.set(l,h),h},XM=(l,h,y)=>{let w=tr();dt(w),h.timer&&(l.timeout=new PM(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(ot(w),Bt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&As(h.timer)})))},eN=(l,h)=>{if(!h.toast){if(!Ae(h.allowEnterKey)){ae("allowEnterKey"),rN();return}tN(l)||nN(l,h)||bi(-1,1)}},tN=l=>{let h=Array.from(l.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&Ot(y))return y.focus(),!0;return!1},nN=(l,h)=>h.focusDeny&&Ot(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Ot(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Ot(l.confirmButton)?(l.confirmButton.focus(),!0):!1,rN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}ut.prototype.disableButtons=Yc,ut.prototype.enableButtons=ar,ut.prototype.getInput=Ro,ut.prototype.disableInput=Jc,ut.prototype.enableInput=Zc,ut.prototype.hideLoading=Ai,ut.prototype.disableLoading=Ai,ut.prototype.showValidationMessage=Xc,ut.prototype.resetValidationMessage=Mo,ut.prototype.close=Jt,ut.prototype.closePopup=Jt,ut.prototype.closeModal=Jt,ut.prototype.closeToast=Jt,ut.prototype.rejectPromise=qc,ut.prototype.update=Fe,ut.prototype._destroy=xe,Object.assign(ut,NM),Object.keys(ln).forEach(l=>{ut[l]=function(){return ur&&ur[l]?ur[l](...arguments):null}}),ut.DismissReason=Zt,ut.version="11.14.5";let kd=ut;return kd.default=kd,kd});typeof Tr<"u"&&Tr.Sweetalert2&&(Tr.swal=Tr.sweetAlert=Tr.Swal=Tr.SweetAlert=Tr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function c0(n,e){return Object.is(n,e)}var bt=null,Fd=!1,Ld=1,Lr=Symbol("SIGNAL");function Oe(n){let e=bt;return bt=n,e}function u0(){return bt}var nu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hg(n){if(Fd)throw new Error("");if(bt===null)return;bt.consumerOnSignalRead(n);let e=bt.nextProducerIndex++;if(Bd(bt),e<bt.producerNode.length&&bt.producerNode[e]!==n&&tu(bt)){let t=bt.producerNode[e];Ud(t,bt.producerIndexOfThis[e])}bt.producerNode[e]!==n&&(bt.producerNode[e]=n,bt.producerIndexOfThis[e]=tu(bt)?f0(n,bt,e):0),bt.producerLastReadVersion[e]=n.version}function pN(){Ld++}function l0(n){if(!(tu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ld)){if(!n.producerMustRecompute(n)&&!pg(n)){n.dirty=!1,n.lastCleanEpoch=Ld;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ld}}function d0(n){if(n.liveConsumerNode===void 0)return;let e=Fd;Fd=!0;try{for(let t of n.liveConsumerNode)t.dirty||mN(t)}finally{Fd=e}}function h0(){return bt?.consumerAllowSignalWrites!==!1}function mN(n){n.dirty=!0,d0(n),n.consumerMarkedDirty?.(n)}function jd(n){return n&&(n.nextProducerIndex=0),Oe(n)}function fg(n,e){if(Oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(tu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ud(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pg(n){Bd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(l0(t),r!==t.version))return!0}return!1}function mg(n){if(Bd(n),tu(n))for(let e=0;e<n.producerNode.length;e++)Ud(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function f0(n,e,t){if(p0(n),n.liveConsumerNode.length===0&&m0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=f0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ud(n,e){if(p0(n),n.liveConsumerNode.length===1&&m0(n))for(let r=0;r<n.producerNode.length;r++)Ud(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Bd(i),i.producerIndexOfThis[r]=e}}function tu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function p0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function m0(n){return n.producerNode!==void 0}function g0(n){let e=Object.create(gN);e.computation=n;let t=()=>{if(l0(e),hg(e),e.value===Vd)throw e.error;return e.value};return t[Lr]=e,t}var lg=Symbol("UNSET"),dg=Symbol("COMPUTING"),Vd=Symbol("ERRORED"),gN=Ie(z({},nu),{value:lg,dirty:!0,error:null,equal:c0,producerMustRecompute(n){return n.value===lg||n.value===dg},producerRecomputeValue(n){if(n.value===dg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=dg;let t=jd(n),r;try{r=n.computation()}catch(i){r=Vd,n.error=i}finally{fg(n,t)}if(e!==lg&&e!==Vd&&r!==Vd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function yN(){throw new Error}var y0=yN;function v0(){y0()}function w0(n){y0=n}var vN=null;function _0(n){let e=Object.create(E0);e.value=n;let t=()=>(hg(e),e.value);return t[Lr]=e,t}function gg(n,e){h0()||v0(),n.equal(n.value,e)||(n.value=e,wN(n))}function I0(n,e){h0()||v0(),gg(n,e(n.value))}var E0=Ie(z({},nu),{equal:c0,value:void 0});function wN(n){n.version++,pN(),d0(n),vN?.()}function fe(n){return typeof n=="function"}function Bs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $d=Bs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Po(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var st=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof $d?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{b0(o)}catch(s){e=e??[],s instanceof $d?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $d(e)}}add(e){var t;if(e&&e!==this)if(this.closed)b0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Po(t,e)}remove(e){let{_finalizers:t}=this;t&&Po(t,e),e instanceof n&&e._removeParent(this)}};st.EMPTY=(()=>{let n=new st;return n.closed=!0,n})();var yg=st.EMPTY;function Hd(n){return n instanceof st||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function b0(n){fe(n)?n():n.unsubscribe()}var Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $s={setTimeout(n,e,...t){let{delegate:r}=$s;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$s;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qd(n){$s.setTimeout(()=>{let{onUnhandledError:e}=Gn;if(e)e(n);else throw n})}function ru(){}var C0=vg("C",void 0,void 0);function D0(n){return vg("E",void 0,n)}function T0(n){return vg("N",n,void 0)}function vg(n,e,t){return{kind:n,value:e,error:t}}var Oo=null;function Hs(n){if(Gn.useDeprecatedSynchronousErrorHandling){let e=!Oo;if(e&&(Oo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Oo;if(Oo=null,t)throw r}}else n()}function S0(n){Gn.useDeprecatedSynchronousErrorHandling&&Oo&&(Oo.errorThrown=!0,Oo.error=n)}var ko=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hd(e)&&e.add(this)):this.destination=EN}static create(e,t,r){return new qs(e,t,r)}next(e){this.isStopped?_g(T0(e),this):this._next(e)}error(e){this.isStopped?_g(D0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_g(C0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_N=Function.prototype.bind;function wg(n,e){return _N.call(n,e)}var Ig=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){zd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){zd(r)}else zd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){zd(t)}}},qs=class extends ko{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wg(e.next,o),error:e.error&&wg(e.error,o),complete:e.complete&&wg(e.complete,o)}):i=e}this.destination=new Ig(i)}};function zd(n){Gn.useDeprecatedSynchronousErrorHandling?S0(n):qd(n)}function IN(n){throw n}function _g(n,e){let{onStoppedNotification:t}=Gn;t&&$s.setTimeout(()=>t(n,e))}var EN={closed:!0,next:ru,error:IN,complete:ru};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dn(n){return n}function Gd(...n){return Eg(n)}function Eg(n){return n.length===0?dn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var we=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=CN(t)?t:new qs(t,r,i);return Hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=A0(r),new r((i,o)=>{let s=new qs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[zs](){return this}pipe(...t){return Eg(t)(this)}toPromise(t){return t=A0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function A0(n){var e;return(e=n??Gn.Promise)!==null&&e!==void 0?e:Promise}function bN(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function CN(n){return n&&n instanceof ko||bN(n)&&Hd(n)}function bg(n){return fe(n?.lift)}function Me(n){return e=>{if(bg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Cg(n,e,t,r,i)}var Cg=class extends ko{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gs(){return Me((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ws=class extends we{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,bg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return Gs()(this)}};var x0=Bs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kt=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new x0}next(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yg:(this.currentObservers=null,o.push(t),new st(()=>{this.currentObservers=null,Po(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new we;return t.source=this,t}}return n.create=(e,t)=>new Wd(e,t),n})(),Wd=class extends kt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:yg}};var Ft=class extends kt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dg={now(){return(Dg.delegate||Date).now()},delegate:void 0};var Kd=class extends st{constructor(e,t){super()}schedule(e,t=0){return this}};var iu={setInterval(n,e,...t){let{delegate:r}=iu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=iu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ks=class extends Kd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return iu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&iu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Po(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Qs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Qs.now=Dg.now;var Ys=class extends Qs{constructor(e,t=Qs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Tg=new Ys(Ks);var Qd=class extends Ks{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Yd=class extends Ys{};var Sg=new Yd(Qd);var hn=new we(n=>n.complete());function R0(n){return n&&fe(n.schedule)}function M0(n){return n[n.length-1]}function Zd(n){return fe(M0(n))?n.pop():void 0}function Mi(n){return R0(M0(n))?n.pop():void 0}function Ag(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function P0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(m){try{d(r.next(m))}catch(p){s(p)}}function u(m){try{d(r.throw(m))}catch(p){s(p)}}function d(m){m.done?o(m.value):i(m.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function N0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fo(n){return this instanceof Fo?(this.v=n,this):new Fo(n)}function O0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(M){return Promise.resolve(M).then(E,p)}}function a(E,M){r[E]&&(i[E]=function(L){return new Promise(function(P,B){o.push([E,L,P,B])>1||u(E,L)})},M&&(i[E]=M(i[E])))}function u(E,M){try{d(r[E](M))}catch(L){_(o[0][3],L)}}function d(E){E.value instanceof Fo?Promise.resolve(E.value.v).then(m,p):_(o[0][2],E)}function m(E){u("next",E)}function p(E){u("throw",E)}function _(E,M){E(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function k0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof N0=="function"?N0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var Jd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xd(n){return fe(n?.then)}function eh(n){return fe(n[zs])}function th(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function nh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rh=DN();function ih(n){return fe(n?.[rh])}function oh(n){return O0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fo(t.read());if(i)return yield Fo(void 0);yield yield Fo(r)}}finally{t.releaseLock()}})}function sh(n){return fe(n?.getReader)}function pt(n){if(n instanceof we)return n;if(n!=null){if(eh(n))return TN(n);if(Jd(n))return SN(n);if(Xd(n))return AN(n);if(th(n))return F0(n);if(ih(n))return xN(n);if(sh(n))return RN(n)}throw nh(n)}function TN(n){return new we(e=>{let t=n[zs]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SN(n){return new we(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function AN(n){return new we(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qd)})}function xN(n){return new we(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function F0(n){return new we(e=>{MN(n,e).catch(t=>e.error(t))})}function RN(n){return F0(oh(n))}function MN(n,e){var t,r,i,o;return P0(this,void 0,void 0,function*(){try{for(t=k0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Xt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ni(n,e=0){return Me((t,r)=>{t.subscribe(Ce(r,i=>Xt(r,n,()=>r.next(i),e),()=>Xt(r,n,()=>r.complete(),e),i=>Xt(r,n,()=>r.error(i),e)))})}function Pi(n,e=0){return Me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function L0(n,e){return pt(n).pipe(Pi(e),Ni(e))}function V0(n,e){return pt(n).pipe(Pi(e),Ni(e))}function j0(n,e){return new we(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function U0(n,e){return new we(t=>{let r;return Xt(t,e,()=>{r=n[rh](),Xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function ah(n,e){if(!n)throw new Error("Iterable cannot be null");return new we(t=>{Xt(t,e,()=>{let r=n[Symbol.asyncIterator]();Xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function B0(n,e){return ah(oh(n),e)}function $0(n,e){if(n!=null){if(eh(n))return L0(n,e);if(Jd(n))return j0(n,e);if(Xd(n))return V0(n,e);if(th(n))return ah(n,e);if(ih(n))return U0(n,e);if(sh(n))return B0(n,e)}throw nh(n)}function et(n,e){return e?$0(n,e):pt(n)}function ue(...n){let e=Mi(n);return et(n,e)}function Zs(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new we(e?i=>e.schedule(r,0,i):r)}function xg(n){return!!n&&(n instanceof we||fe(n.lift)&&fe(n.subscribe))}var Vr=Bs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return Me((t,r)=>{let i=0;t.subscribe(Ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:NN}=Array;function PN(n,e){return NN(e)?n(...e):n(e)}function ch(n){return le(e=>PN(n,e))}var{isArray:ON}=Array,{getPrototypeOf:kN,prototype:FN,keys:LN}=Object;function uh(n){if(n.length===1){let e=n[0];if(ON(e))return{args:e,keys:null};if(VN(e)){let t=LN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function VN(n){return n&&typeof n=="object"&&kN(n)===FN}function lh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function dh(...n){let e=Mi(n),t=Zd(n),{args:r,keys:i}=uh(n);if(r.length===0)return et([],e);let o=new we(jN(r,e,i?s=>lh(i,s):dn));return t?o.pipe(ch(t)):o}function jN(n,e,t=dn){return r=>{H0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)H0(e,()=>{let d=et(n[u],e),m=!1;d.subscribe(Ce(r,p=>{o[u]=p,m||(m=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function H0(n,e,t){n?Xt(t,n,e):e()}function q0(n,e,t,r,i,o,s,a){let u=[],d=0,m=0,p=!1,_=()=>{p&&!u.length&&!d&&e.complete()},E=L=>d<r?M(L):u.push(L),M=L=>{o&&e.next(L),d++;let P=!1;pt(t(L,m++)).subscribe(Ce(e,B=>{i?.(B),o?E(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(d--;u.length&&d<r;){let B=u.shift();s?Xt(e,s,()=>M(B)):M(B)}_()}catch(B){e.error(B)}}))};return n.subscribe(Ce(e,E,()=>{p=!0,_()})),()=>{a?.()}}function Ct(n,e,t=1/0){return fe(e)?Ct((r,i)=>le((o,s)=>e(r,o,i,s))(pt(n(r,i))),t):(typeof e=="number"&&(t=e),Me((r,i)=>q0(r,i,n,t)))}function Rg(n=1/0){return Ct(dn,n)}function z0(){return Rg(1)}function Js(...n){return z0()(et(n,Mi(n)))}function hh(n){return new we(e=>{pt(n()).subscribe(e)})}function Mg(...n){let e=Zd(n),{args:t,keys:r}=uh(n),i=new we(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let m=0;m<s;m++){let p=!1;pt(t[m]).subscribe(Ce(o,_=>{p||(p=!0,d--),a[m]=_},()=>u--,void 0,()=>{(!u||!p)&&(d||o.next(r?lh(r,a):a),o.complete())}))}});return e?i.pipe(ch(e)):i}function en(n,e){return Me((t,r)=>{let i=0;t.subscribe(Ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Oi(n){return Me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ce(t,void 0,void 0,s=>{o=pt(n(s,Oi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function G0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(Ce(s,m=>{let p=d++;u=a?n(u,m,p):(a=!0,m),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ki(n,e){return fe(e)?Ct(n,e,1):Ct(n,1)}function Fi(n){return Me((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function jr(n){return n<=0?()=>hn:Me((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ng(n){return le(()=>n)}function fh(n=UN){return Me((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UN(){return new Vr}function Lo(n){return Me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?en((i,o)=>n(i,o,r)):dn,jr(1),t?Fi(e):fh(()=>new Vr))}function Xs(n){return n<=0?()=>hn:Me((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Pg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?en((i,o)=>n(i,o,r)):dn,Xs(1),t?Fi(e):fh(()=>new Vr))}function ph(n,e){return Me(G0(n,e,arguments.length>=2,!0))}function mh(...n){let e=Mi(n);return Me((t,r)=>{(e?Js(n,t,e):Js(n,t)).subscribe(r)})}function fn(n,e){return Me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ce(r,u=>{i?.unsubscribe();let d=0,m=o++;pt(n(u,m)).subscribe(i=Ce(r,p=>r.next(e?e(u,p,m,d++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Og(n){return Me((e,t)=>{pt(n).subscribe(Ce(t,()=>t.complete(),ru)),!t.closed&&e.subscribe(t)})}function mt(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):dn}var Nb="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(Qh(e,t)),this.code=e}};function Qh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function mu(n){return{toString:n}.toString()}var gh="__parameters__";function BN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Pb(n,e,t){return mu(()=>{let r=BN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,m){let p=u.hasOwnProperty(gh)?u[gh]:Object.defineProperty(u,gh,{value:[]})[gh];for(;p.length<=m;)p.push(null);return(p[m]=p[m]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function $N(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Wt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function W0(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var HN=Ge({__forward_ref__:Ge});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return Wt(this())},n}function Gt(n){return Ob(n)?n():n}function Ob(n){return typeof n=="function"&&n.hasOwnProperty(HN)&&n.__forward_ref__===Qt}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yh(n){return K0(n,Fb)||K0(n,Lb)}function kb(n){return Yh(n)!==null}function K0(n,e){return n.hasOwnProperty(e)?n[e]:null}function qN(n){let e=n&&(n[Fb]||n[Lb]);return e||null}function Q0(n){return n&&(n.hasOwnProperty(Y0)||n.hasOwnProperty(zN))?n[Y0]:null}var Fb=Ge({\u0275prov:Ge}),Y0=Ge({\u0275inj:Ge}),Lb=Ge({ngInjectableDef:Ge}),zN=Ge({ngInjectorDef:Ge}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vb(n){return n&&!!n.\u0275providers}var GN=Ge({\u0275cmp:Ge}),WN=Ge({\u0275dir:Ge}),KN=Ge({\u0275pipe:Ge}),QN=Ge({\u0275mod:Ge}),Dh=Ge({\u0275fac:Ge}),au=Ge({__NG_ELEMENT_ID__:Ge}),Z0=Ge({__NG_ENV_ID__:Ge});function Zh(n){return typeof n=="string"?n:n==null?"":String(n)}function YN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Zh(n)}function ZN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function Fy(n,e){throw new te(-201,!1)}var _e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_e||{}),Kg;function jb(){return Kg}function Sn(n){let e=Kg;return Kg=n,e}function Ub(n,e,t){let r=Yh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&_e.Optional)return null;if(e!==void 0)return e;Fy(n,"Injector")}var JN={},cu=JN,Qg="__NG_DI_FLAG__",Th="ngTempTokenPath",XN="ngTokenPath",eP=/\n/gm,tP="\u0275",J0="__source",ra;function nP(){return ra}function Li(n){let e=ra;return ra=n,e}function rP(n,e=_e.Default){if(ra===void 0)throw new te(-203,!1);return ra===null?Ub(n,void 0,e):ra.get(n,e&_e.Optional?null:void 0,e)}function ne(n,e=_e.Default){return(jb()||rP)(Gt(n),e)}function q(n,e=_e.Default){return ne(n,Jh(e))}function Jh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yg(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],u=iP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function Bb(n,e){return n[Qg]=e,n.prototype[Qg]=e,n}function iP(n){return n[Qg]}function oP(n,e,t,r){let i=n[Th];throw e[J0]&&i.unshift(e[J0]),n.message=sP(`
`+n.message,i,t,r),n[XN]=i,n[Th]=null,n}function sP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==tP?n.slice(2):n;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(eP,`
  `)}`}var Yt=Bb(Pb("Optional"),8);var $b=Bb(Pb("SkipSelf"),4);function oa(n,e){let t=n.hasOwnProperty(Dh);return t?n[Dh]:null}function Ly(n,e){n.forEach(t=>Array.isArray(t)?Ly(t,e):e(t))}function Hb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function aP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function cP(n,e,t){let r=gu(n,e);return r>=0?n[r|1]=t:(r=~r,aP(n,r,e,t)),r}function kg(n,e){let t=gu(n,e);if(t>=0)return n[t|1]}function gu(n,e){return uP(n,e,1)}function uP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var sa={},An=[],aa=new X(""),qb=new X("",-1),zb=new X(""),Ah=class{get(e,t=cu){if(t===cu){let r=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw r.name="NullInjectorError",r}return t}},Gb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Gb||{}),fr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fr||{}),Ui=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ui||{});function lP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Zg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];hP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function dP(n){return n===3||n===4||n===6}function hP(n){return n.charCodeAt(0)===64}function uu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?X0(n,t,i,null,e[++r]):X0(n,t,i,null,null))}}return n}function X0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Wb="ng-template";function fP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Vy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Vy(n){return n.type===4&&n.value!==Wb}function pP(n,e,t){let r=n.type===4&&!t?Wb:n.value;return e===r}function mP(n,e,t){let r=4,i=n.attrs,o=i!==null?vP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Wn(r)&&!Wn(u))return!1;if(s&&Wn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!pP(n,u,t)||u===""&&e.length===1){if(Wn(r))return!1;s=!0}}else if(r&8){if(i===null||!fP(n,i,u,t)){if(Wn(r))return!1;s=!0}}else{let d=e[++a],m=gP(u,i,Vy(n),t);if(m===-1){if(Wn(r))return!1;s=!0;continue}if(d!==""){let p;if(m>o?p="":p=i[m+1].toLowerCase(),r&2&&d!==p){if(Wn(r))return!1;s=!0}}}}return Wn(r)||s}function Wn(n){return(n&1)===0}function gP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wP(e,n)}function yP(n,e,t=!1){for(let r=0;r<e.length;r++)if(mP(n,e[r],t))return!0;return!1}function vP(n){for(let e=0;e<n.length;e++){let t=n[e];if(dP(t))return e}return n.length}function wP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eb(n,e){return n?":not("+e.trim()+")":e}function _P(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wn(s)&&(e+=eb(o,i),i=""),r=s,o=o||!Wn(r);t++}return i!==""&&(e+=eb(o,i)),e}function IP(n){return n.map(_P).join(",")}function EP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Wn(i))break;i=o}r++}return{attrs:e,classes:t}}function je(n){return mu(()=>{let e=Jb(n),t=Ie(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Gb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,styles:n.styles||An,_:null,schemas:n.schemas||null,tView:null,id:""});Xb(t);let r=n.dependencies;return t.directiveDefs=nb(r,!1),t.pipeDefs=nb(r,!0),t.id=DP(t),t})}function bP(n){return jo(n)||Kb(n)}function CP(n){return n!==null}function zr(n){return mu(()=>({type:n.type,bootstrap:n.bootstrap||An,declarations:n.declarations||An,imports:n.imports||An,exports:n.exports||An,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tb(n,e){if(n==null)return sa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ui.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ui.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ke(n){return mu(()=>{let e=Jb(n);return Xb(e),e})}function jo(n){return n[GN]||null}function Kb(n){return n[WN]||null}function Qb(n){return n[KN]||null}function Yb(n){let e=jo(n)||Kb(n)||Qb(n);return e!==null?e.standalone:!1}function Zb(n,e){let t=n[QN]||null;if(!t&&e===!0)throw new Error(`Type ${Wt(n)} does not have '\u0275mod' property.`);return t}function Jb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||sa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||An,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tb(n.inputs,e),outputs:tb(n.outputs),debugInfo:null}}function Xb(n){n.features?.forEach(e=>e(n))}function nb(n,e){if(!n)return null;let t=e?Qb:bP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(CP)}function DP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mn(n){return{\u0275providers:n}}function TP(...n){return{\u0275providers:eC(!0,n),\u0275fromNgModule:!0}}function eC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ly(e,s=>{let a=s;Jg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tC(i,o),t}function tC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];jy(i,o=>{e(o,r)})}}function Jg(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=Q0(n),s=!o&&jo(n);if(!o&&!s){let u=n.ngModule;if(o=Q0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Jg(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Ly(o.imports,m=>{Jg(m,e,t,r)&&(d||=[],d.push(m))})}finally{}d!==void 0&&tC(d,e)}if(!a){let d=oa(i)||(()=>new i);e({provide:i,useFactory:d,deps:An},i),e({provide:zb,useValue:i,multi:!0},i),e({provide:aa,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;jy(u,m=>{e(m,d)})}}else return!1;return i!==n&&n.providers!==void 0}function jy(n,e){for(let t of n)Vb(t)&&(t=t.\u0275providers),Array.isArray(t)?jy(t,e):e(t)}var SP=Ge({provide:String,useValue:Ge});function nC(n){return n!==null&&typeof n=="object"&&SP in n}function AP(n){return!!(n&&n.useExisting)}function xP(n){return!!(n&&n.useFactory)}function ca(n){return typeof n=="function"}function RP(n){return!!n.useClass}var Xh=new X(""),_h={},MP={},Fg;function Uy(){return Fg===void 0&&(Fg=new Ah),Fg}var tn=class{},lu=class extends tn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ey(e,s=>this.processProvider(s)),this.records.set(qb,ea(void 0,this)),i.has("environment")&&this.records.set(tn,ea(void 0,this));let o=this.records.get(Xh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zb,An,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Li(this),r=Sn(void 0),i;try{return e()}finally{Li(t),Sn(r)}}get(e,t=cu,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Z0))return e[Z0](this);r=Jh(r);let i,o=Li(this),s=Sn(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=FP(e)&&Yh(e);d&&this.injectableDefInScope(d)?u=ea(Xg(e),_h):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&_e.Self?Uy():this.parent;return t=r&_e.Optional&&t===cu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Th]=a[Th]||[]).unshift(Wt(e)),o)throw a;return oP(a,e,"R3InjectorError",this.source)}else throw a}finally{Sn(s),Li(o)}}resolveInjectorInitializers(){let e=Oe(null),t=Li(this),r=Sn(void 0),i;try{let o=this.get(aa,An,_e.Self);for(let s of o)s()}finally{Li(t),Sn(r),Oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Gt(e);let t=ca(e)?e:Gt(e&&e.provide),r=PP(e);if(!ca(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ea(void 0,_h,!0),i.factory=()=>Yg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Oe(null);try{return t.value===_h&&(t.value=MP,t.value=t.factory()),typeof t.value=="object"&&t.value&&kP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xg(n){let e=Yh(n),t=e!==null?e.factory:oa(n);if(t!==null)return t;if(n instanceof X)throw new te(204,!1);if(n instanceof Function)return NP(n);throw new te(204,!1)}function NP(n){if(n.length>0)throw new te(204,!1);let t=qN(n);return t!==null?()=>t.factory(n):()=>new n}function PP(n){if(nC(n))return ea(void 0,n.useValue);{let e=rC(n);return ea(e,_h)}}function rC(n,e,t){let r;if(ca(n)){let i=Gt(n);return oa(i)||Xg(i)}else if(nC(n))r=()=>Gt(n.useValue);else if(xP(n))r=()=>n.useFactory(...Yg(n.deps||[]));else if(AP(n))r=()=>ne(Gt(n.useExisting));else{let i=Gt(n&&(n.useClass||n.provide));if(OP(n))r=()=>new i(...Yg(n.deps));else return oa(i)||Xg(i)}return r}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OP(n){return!!n.deps}function kP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function FP(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function ey(n,e){for(let t of n)Array.isArray(t)?ey(t,e):t&&Vb(t)?ey(t.\u0275providers,e):e(t)}function Yn(n,e){n instanceof lu&&n.assertNotDestroyed();let t,r=Li(n),i=Sn(void 0);try{return e()}finally{Li(r),Sn(i)}}function LP(){return jb()!==void 0||nP()!=null}function VP(n){return typeof n=="function"}var Gr=0,De=1,de=2,Kt=3,Kn=4,Zn=5,xh=6,Rh=7,Qn=8,ua=9,pr=10,gt=11,du=12,rb=13,ya=14,mr=15,la=16,ta=17,da=18,ef=19,iC=20,Vi=21,Lg=22,xn=23,Ur=25,oC=1;var Uo=7,Mh=8,Nh=9,Rn=10,Ph=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Ph||{});function ji(n){return Array.isArray(n)&&typeof n[oC]=="object"}function Wr(n){return Array.isArray(n)&&n[oC]===!0}function sC(n){return(n.flags&4)!==0}function tf(n){return n.componentOffset>-1}function By(n){return(n.flags&1)===1}function Bi(n){return!!n.template}function ty(n){return(n[de]&512)!==0}var ny=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function aC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function pn(){return cC}function cC(n){return n.type.prototype.ngOnChanges&&(n.setInput=UP),jP}pn.ngInherit=!0;function jP(){let n=lC(this),e=n?.current;if(e){let t=n.previous;if(t===sa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function UP(n,e,t,r,i){let o=this.declaredInputs[r],s=lC(n)||BP(n,{previous:sa,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new ny(d&&d.currentValue,t,u===sa),aC(n,e,i,t)}var uC="__ngSimpleChanges__";function lC(n){return n[uC]||null}function BP(n,e){return n[uC]=e}var ib=null;var dr=function(n,e,t){ib?.(n,e,t)},$P="svg",HP="math";function gr(n){for(;Array.isArray(n);)n=n[Gr];return n}function dC(n,e){return gr(e[n])}function Nn(n,e){return gr(e[n.index])}function hC(n,e){return n.data[e]}function qP(n,e){return n[e]}function Hi(n,e){let t=e[n];return ji(t)?t:t[Gr]}function $y(n){return(n[de]&128)===128}function zP(n){return Wr(n[Kt])}function Oh(n,e){return e==null?null:n[e]}function fC(n){n[ta]=0}function pC(n){n[de]&1024||(n[de]|=1024,$y(n)&&rf(n))}function GP(n,e){for(;n>0;)e=e[ya],n--;return e}function nf(n){return!!(n[de]&9216||n[xn]?.dirty)}function ry(n){n[pr].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),nf(n)&&rf(n)}function rf(n){n[pr].changeDetectionScheduler?.notify(0);let e=Bo(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!$y(e)));)e=Bo(e)}function mC(n,e){if((n[de]&256)===256)throw new te(911,!1);n[Vi]===null&&(n[Vi]=[]),n[Vi].push(e)}function WP(n,e){if(n[Vi]===null)return;let t=n[Vi].indexOf(e);t!==-1&&n[Vi].splice(t,1)}function Bo(n){let e=n[Kt];return Wr(e)?e[Kt]:e}var Ee={lFrame:CC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gC=!1;function KP(){return Ee.lFrame.elementDepthCount}function QP(){Ee.lFrame.elementDepthCount++}function YP(){Ee.lFrame.elementDepthCount--}function yC(){return Ee.bindingsEnabled}function ZP(){return Ee.skipHydrationRootTNode!==null}function JP(n){return Ee.skipHydrationRootTNode===n}function XP(){Ee.skipHydrationRootTNode=null}function We(){return Ee.lFrame.lView}function rn(){return Ee.lFrame.tView}function Qe(n){return Ee.lFrame.contextLView=n,n[Qn]}function Ye(n){return Ee.lFrame.contextLView=null,n}function on(){let n=vC();for(;n!==null&&n.type===64;)n=n.parent;return n}function vC(){return Ee.lFrame.currentTNode}function e1(){let n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function yu(n,e){let t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function wC(){return Ee.lFrame.isParent}function t1(){Ee.lFrame.isParent=!1}function n1(){return Ee.lFrame.contextLView}function _C(){return gC}function ob(n){gC=n}function r1(n){return Ee.lFrame.bindingIndex=n}function of(){return Ee.lFrame.bindingIndex++}function i1(n){let e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function o1(){return Ee.lFrame.inI18n}function s1(n,e){let t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,iy(e)}function a1(){return Ee.lFrame.currentDirectiveIndex}function iy(n){Ee.lFrame.currentDirectiveIndex=n}function c1(n){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function IC(n){Ee.lFrame.currentQueryIndex=n}function u1(n){let e=n[De];return e.type===2?e.declTNode:e.type===1?n[Zn]:null}function EC(n,e,t){if(t&_e.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&_e.Host);)if(i=u1(o),i===null||(o=o[ya],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ee.lFrame=bC();return r.currentTNode=e,r.lView=n,!0}function Hy(n){let e=bC(),t=n[De];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bC(){let n=Ee.lFrame,e=n===null?null:n.child;return e===null?CC(n):e}function CC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function DC(){let n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var TC=DC;function qy(){let n=DC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function l1(n){return(Ee.lFrame.contextLView=GP(n,Ee.lFrame.contextLView))[Qn]}function va(){return Ee.lFrame.selectedIndex}function $o(n){Ee.lFrame.selectedIndex=n}function sf(){let n=Ee.lFrame;return hC(n.tView,n.selectedIndex)}function d1(){return Ee.lFrame.currentNamespace}var SC=!0;function zy(){return SC}function Gy(n){SC=n}function h1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Wy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:m}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),m!=null&&(n.destroyHooks??=[]).push(t,m)}}function Ih(n,e,t){AC(n,e,3,t)}function Eh(n,e,t,r){(n[de]&3)===t&&AC(n,e,t,r)}function Vg(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function AC(n,e,t,r){let i=r!==void 0?n[ta]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ta]+=65536),(a<o||o==-1)&&(f1(n,t,e,u),n[ta]=(n[ta]&4294901760)+u+2),u++}function sb(n,e){dr(4,n,e);let t=Oe(null);try{e.call(n)}finally{Oe(t),dr(5,n,e)}}function f1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[de]>>14<n[ta]>>16&&(n[de]&3)===e&&(n[de]+=16384,sb(a,o)):sb(a,o)}var ia=-1,Ho=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function p1(n){return n instanceof Ho}function m1(n){return(n.flags&8)!==0}function g1(n){return(n.flags&16)!==0}var jg={},oy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Jh(r);let i=this.injector.get(e,jg,r);return i!==jg||t===jg?i:this.parentInjector.get(e,t,r)}};function xC(n){return n!==ia}function kh(n){return n&32767}function y1(n){return n>>16}function Fh(n,e){let t=y1(n),r=e;for(;t>0;)r=r[ya],t--;return r}var sy=!0;function ab(n){let e=sy;return sy=n,e}var v1=256,RC=v1-1,MC=5,w1=0,hr={};function _1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(au)&&(r=t[au]),r==null&&(r=t[au]=w1++);let i=r&RC,o=1<<i;e.data[n+(i>>MC)]|=o}function Lh(n,e){let t=NC(n,e);if(t!==-1)return t;let r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,Ug(r.data,n),Ug(e,null),Ug(r.blueprint,null));let i=Ky(n,e),o=n.injectorIndex;if(xC(i)){let s=kh(i),a=Fh(i,e),u=a[De].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Ug(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ky(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=LC(i),r===null)return ia;if(t++,i=i[ya],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ia}function ay(n,e,t){_1(n,e,t)}function PC(n,e,t){if(t&_e.Optional||n!==void 0)return n;Fy(e,"NodeInjector")}function OC(n,e,t,r){if(t&_e.Optional&&r===void 0&&(r=null),!(t&(_e.Self|_e.Host))){let i=n[ua],o=Sn(void 0);try{return i?i.get(e,r,t&_e.Optional):Ub(e,r,t&_e.Optional)}finally{Sn(o)}}return PC(r,e,t)}function kC(n,e,t,r=_e.Default,i){if(n!==null){if(e[de]&2048&&!(r&_e.Self)){let s=D1(n,e,t,r,hr);if(s!==hr)return s}let o=FC(n,e,t,r,hr);if(o!==hr)return o}return OC(e,t,r,i)}function FC(n,e,t,r,i){let o=b1(t);if(typeof o=="function"){if(!EC(e,n,r))return r&_e.Host?PC(i,t,r):OC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))Fy(t);else return s}finally{TC()}}else if(typeof o=="number"){let s=null,a=NC(n,e),u=ia,d=r&_e.Host?e[mr][Zn]:null;for((a===-1||r&_e.SkipSelf)&&(u=a===-1?Ky(n,e):e[a+8],u===ia||!ub(r,!1)?a=-1:(s=e[De],a=kh(u),e=Fh(u,e)));a!==-1;){let m=e[De];if(cb(o,a,m.data)){let p=I1(a,e,t,s,r,d);if(p!==hr)return p}u=e[a+8],u!==ia&&ub(r,e[De].data[a+8]===d)&&cb(o,a,e)?(s=m,a=kh(u),e=Fh(u,e)):a=-1}}return i}function I1(n,e,t,r,i,o){let s=e[De],a=s.data[n+8],u=r==null?tf(a)&&sy:r!=s&&(a.type&3)!==0,d=i&_e.Host&&o===a,m=E1(a,s,t,u,d);return m!==null?ha(e,s,m,a):hr}function E1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,m=o>>20,p=r?a:a+m,_=i?a+m:d;for(let E=p;E<_;E++){let M=s[E];if(E<u&&t===M||E>=u&&M.type===t)return E}if(i){let E=s[u];if(E&&Bi(E)&&E.type===t)return u}return null}function ha(n,e,t,r){let i=n[t],o=e.data;if(p1(i)){let s=i;s.resolving&&ZN(YN(o[t]));let a=ab(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?Sn(s.injectImpl):null,m=EC(n,r,_e.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&h1(t,o[t],e)}finally{d!==null&&Sn(d),ab(a),s.resolving=!1,TC()}}return i}function b1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(au)?n[au]:void 0;return typeof e=="number"?e>=0?e&RC:C1:e}function cb(n,e,t){let r=1<<n;return!!(t[e+(n>>MC)]&r)}function ub(n,e){return!(n&_e.Self)&&!(n&_e.Host&&e)}var Vo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kC(this._tNode,this._lView,e,Jh(r),t)}};function C1(){return new Vo(on(),We())}function Pn(n){return mu(()=>{let e=n.prototype.constructor,t=e[Dh]||cy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Dh]||cy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cy(n){return Ob(n)?()=>{let e=cy(Gt(n));return e&&e()}:oa(n)}function D1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!(s[de]&512);){let a=FC(o,s,t,r|_e.Self,hr);if(a!==hr)return a;let u=o.parent;if(!u){let d=s[iC];if(d){let m=d.get(t,hr,r);if(m!==hr)return m}u=LC(s),s=s[ya]}o=u}return i}function LC(n){let e=n[De],t=e.type;return t===2?e.declTNode:t===1?n[Zn]:null}function lb(n,e=null,t=null,r){let i=VC(n,e,t,r);return i.resolveInjectorInitializers(),i}function VC(n,e=null,t=null,r,i=new Set){let o=[t||An,TP(n)];return r=r||(typeof n=="object"?void 0:Wt(n)),new lu(o,e||Uy(),r||null,i)}var nn=class n{static{this.THROW_IF_NOT_FOUND=cu}static{this.NULL=new Ah}static create(e,t){if(Array.isArray(e))return lb({name:""},t,e,"");{let r=e.name??"";return lb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Y({token:n,providedIn:"any",factory:()=>ne(qb)})}static{this.__NG_ELEMENT_ID__=-1}};var T1=new X("");T1.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&_e.Optional)return null;throw new te(204,!1)};var S1="ngOriginalError";function Bg(n){return n[S1]}var jC=!0,UC=(()=>{class n{static{this.__NG_ELEMENT_ID__=A1}static{this.__NG_ENV_ID__=t=>t}}return n})(),uy=class extends UC{constructor(e){super(),this._lView=e}onDestroy(e){return mC(this._lView,e),()=>WP(this._lView,e)}};function A1(){return new uy(We())}var qi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})();var ly=class extends kt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,LP()&&(this.destroyRef=q(UC,{optional:!0})??void 0,this.pendingTasks=q(qi,{optional:!0})??void 0)}emit(e){let t=Oe(null);try{super.next(e)}finally{Oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Le=ly;function Vh(...n){}function BC(n){let e,t;function r(){n=Vh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function db(n){return queueMicrotask(()=>n()),()=>{n=Vh}}var Qy="isAngularZone",jh=Qy+"_ID",x1=0,Ve=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jC}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,N1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,R1,Vh,Vh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},R1={};function Yy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function M1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){BC(()=>{n.callbackScheduled=!1,dy(n),n.isCheckStableRunning=!0,Yy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),dy(n)}function N1(n){let e=()=>{M1(n)},t=x1++;n._inner=n._inner.fork({name:"angular",properties:{[Qy]:!0,[jh]:t,[jh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(P1(u))return r.invokeTask(o,s,a,u);try{return hb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fb(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return hb(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!O1(u)&&e(),fb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,dy(n),Yy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function dy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fb(n){n._nesting--,Yy(n)}var hy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function P1(n){return $C(n,"__ignore_ng_zone__")}function O1(n){return $C(n,"__scheduler_tick__")}function $C(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Br=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Bg(e);for(;t&&Bg(t);)t=Bg(t);return t||null}},k1=new X("",{providedIn:"root",factory:()=>{let n=q(Ve),e=q(Br);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function F1(){return af(on(),We())}function af(n,e){return new Kr(Nn(n,e))}var Kr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=F1}}return n})();function HC(n){return(n.flags&128)===128}var qC=new Map,L1=0;function V1(){return L1++}function j1(n){qC.set(n[ef],n)}function fy(n){qC.delete(n[ef])}var pb="__ngContext__";function qo(n,e){ji(e)?(n[pb]=e[ef],j1(e)):n[pb]=e}function zC(n){return WC(n[du])}function GC(n){return WC(n[Kn])}function WC(n){for(;n!==null&&!Wr(n);)n=n[Kn];return n}var py;function KC(n){py=n}function U1(){if(py!==void 0)return py;if(typeof document<"u")return document;throw new te(210,!1)}var Zy=new X("",{providedIn:"root",factory:()=>B1}),B1="ng",Jy=new X(""),yr=new X("",{providedIn:"platform",factory:()=>"unknown"});var Xy=new X("",{providedIn:"root",factory:()=>U1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $1="h",H1="b";var q1=()=>null;function ev(n,e,t=!1){return q1(n,e,t)}var QC=!1,z1=new X("",{providedIn:"root",factory:()=>QC});var Uh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nb})`}};function cf(n){return n instanceof Uh?n.changingThisBreaksApplicationSecurity:n}function YC(n,e){let t=G1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Nb})`)}return t===e}function G1(n){return n instanceof Uh&&n.getTypeName()||null}var W1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZC(n){return n=String(n),n.match(W1)?n:"unsafe:"+n}var tv=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(tv||{});function wa(n){let e=K1();return e?e.sanitize(tv.URL,n)||"":YC(n,"URL")?cf(n):ZC(Zh(n))}function K1(){let n=We();return n&&n[pr].sanitizer}function JC(n){return n instanceof Function?n():n}var $r=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}($r||{}),Q1;function nv(n,e){return Q1(n,e)}function na(n,e,t,r,i){if(r!=null){let o,s=!1;Wr(r)?o=r:ji(r)&&(s=!0,r=r[Gr]);let a=gr(r);n===0&&t!==null?i==null?rD(e,t,a):Bh(e,t,a,i||null,!0):n===1&&t!==null?Bh(e,t,a,i||null,!0):n===2?lO(e,a,s):n===3&&e.destroyNode(a),o!=null&&hO(e,n,o,t,i)}}function Y1(n,e){return n.createText(e)}function Z1(n,e,t){n.setValue(e,t)}function XC(n,e,t){return n.createElement(e,t)}function J1(n,e){eD(n,e),e[Gr]=null,e[Zn]=null}function X1(n,e,t,r,i,o){r[Gr]=i,r[Zn]=e,uf(n,r,t,1,i,o)}function eD(n,e){e[pr].changeDetectionScheduler?.notify(9),uf(n,e,e[gt],2,null,null)}function eO(n){let e=n[du];if(!e)return $g(n[De],n);for(;e;){let t=null;if(ji(e))t=e[du];else{let r=e[Rn];r&&(t=r)}if(!t){for(;e&&!e[Kn]&&e!==n;)ji(e)&&$g(e[De],e),e=e[Kt];e===null&&(e=n),ji(e)&&$g(e[De],e),t=e&&e[Kn]}e=t}}function tO(n,e,t,r){let i=Rn+r,o=t.length;r>0&&(t[i-1][Kn]=e),r<o-Rn?(e[Kn]=t[i],Hb(t,Rn+r,e)):(t.push(e),e[Kn]=null),e[Kt]=t;let s=e[la];s!==null&&t!==s&&tD(s,e);let a=e[da];a!==null&&a.insertView(n),ry(e),e[de]|=128}function tD(n,e){let t=n[Nh],r=e[Kt];if(ji(r))n[de]|=Ph.HasTransplantedViews;else{let i=r[Kt][mr];e[mr]!==i&&(n[de]|=Ph.HasTransplantedViews)}t===null?n[Nh]=[e]:t.push(e)}function rv(n,e){let t=n[Nh],r=t.indexOf(e);t.splice(r,1)}function my(n,e){if(n.length<=Rn)return;let t=Rn+e,r=n[t];if(r){let i=r[la];i!==null&&i!==n&&rv(i,r),e>0&&(n[t-1][Kn]=r[Kn]);let o=Sh(n,Rn+e);J1(r[De],r);let s=o[da];s!==null&&s.detachView(o[De]),r[Kt]=null,r[Kn]=null,r[de]&=-129}return r}function nD(n,e){if(!(e[de]&256)){let t=e[gt];t.destroyNode&&uf(n,e,t,3,null,null),eO(e)}}function $g(n,e){if(e[de]&256)return;let t=Oe(null);try{e[de]&=-129,e[de]|=256,e[xn]&&mg(e[xn]),rO(n,e),nO(n,e),e[De].type===1&&e[gt].destroy();let r=e[la];if(r!==null&&Wr(e[Kt])){r!==e[Kt]&&rv(r,e);let i=e[da];i!==null&&i.detachView(n)}fy(e)}finally{Oe(t)}}function nO(n,e){let t=n.cleanup,r=e[Rh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Rh]=null);let i=e[Vi];if(i!==null){e[Vi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function rO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ho)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];dr(4,a,u);try{u.call(a)}finally{dr(5,a,u)}}else{dr(4,i,o);try{o.call(i)}finally{dr(5,i,o)}}}}}function iO(n,e,t){return oO(n,e.parent,t)}function oO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Gr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===fr.None||o===fr.Emulated)return null}return Nn(r,t)}}function Bh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rD(n,e,t){n.appendChild(e,t)}function mb(n,e,t,r,i){r!==null?Bh(n,e,t,r,i):rD(n,e,t)}function iD(n,e){return n.parentNode(e)}function sO(n,e){return n.nextSibling(e)}function aO(n,e,t){return uO(n,e,t)}function cO(n,e,t){return n.type&40?Nn(n,t):null}var uO=cO,gb;function iv(n,e,t,r){let i=iO(n,r,e),o=e[gt],s=r.parent||e[Zn],a=aO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)mb(o,i,t[u],a,!1);else mb(o,i,t,a,!1);gb!==void 0&&gb(o,r,e,t,i)}function ou(n,e){if(e!==null){let t=e.type;if(t&3)return Nn(e,n);if(t&4)return gy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ou(n,r);{let i=n[e.index];return Wr(i)?gy(-1,i):gr(i)}}else{if(t&128)return ou(n,e.next);if(t&32)return nv(e,n)()||gr(n[e.index]);{let r=oD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bo(n[mr]);return ou(i,r)}else return ou(n,e.next)}}}return null}function oD(n,e){if(e!==null){let r=n[mr][Zn],i=e.projection;return r.projection[i]}return null}function gy(n,e){let t=Rn+n+1;if(t<e.length){let r=e[t],i=r[De].firstChild;if(i!==null)return ou(r,i)}return e[Uo]}function lO(n,e,t){n.removeChild(null,e,t)}function ov(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&qo(gr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)ov(n,e,t.child,r,i,o,!1),na(e,n,i,a,o);else if(u&32){let d=nv(t,r),m;for(;m=d();)na(e,n,i,m,o);na(e,n,i,a,o)}else u&16?dO(n,e,r,t,i,o):na(e,n,i,a,o);t=s?t.projectionNext:t.next}}function uf(n,e,t,r,i,o){ov(t,r,n.firstChild,e,i,o,!1)}function dO(n,e,t,r,i,o){let s=t[mr],u=s[Zn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let m=u[d];na(e,n,i,m,o)}else{let d=u,m=s[Kt];HC(r)&&(d.flags|=128),ov(n,e,d,m,i,o,!0)}}function hO(n,e,t,r,i){let o=t[Uo],s=gr(t);o!==s&&na(e,n,r,o,i);for(let a=Rn;a<t.length;a++){let u=t[a];uf(u[De],u,n,e,r,o)}}function fO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:$r.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$r.Important),n.setStyle(t,r,i,o))}}function pO(n,e,t){n.setAttribute(e,"style",t)}function sD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function aD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Zg(n,e,r),i!==null&&sD(n,e,i),o!==null&&pO(n,e,o)}var Wo={};function U(n=1){cD(rn(),We(),va()+n,!1)}function cD(n,e,t,r){if(!r)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ih(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Eh(e,o,0,t)}$o(t)}function K(n,e=_e.Default){let t=We();if(t===null)return ne(n,e);let r=on();return kC(r,t,Gt(n),e)}function uD(n,e,t,r,i,o){let s=Oe(null);try{let a=null;i&Ui.SignalBased&&(a=e[r][Lr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ui.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):aC(e,a,r,o)}finally{Oe(s)}}function mO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$o(~i);else{let o=i,s=t[++r],a=t[++r];s1(s,o);let u=e[o];a(2,u)}}}finally{$o(-1)}}function lf(n,e,t,r,i,o,s,a,u,d,m){let p=e.blueprint.slice();return p[Gr]=i,p[de]=r|4|128|8|64,(d!==null||n&&n[de]&2048)&&(p[de]|=2048),fC(p),p[Kt]=p[ya]=n,p[Qn]=t,p[pr]=s||n&&n[pr],p[gt]=a||n&&n[gt],p[ua]=u||n&&n[ua]||null,p[Zn]=o,p[ef]=V1(),p[xh]=m,p[iC]=d,p[mr]=e.type==2?n[mr]:p,p}function df(n,e,t,r,i){let o=n.data[e];if(o===null)o=gO(n,e,t,r,i),o1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=e1();o.injectorIndex=s===null?-1:s.injectorIndex}return yu(o,!0),o}function gO(n,e,t,r,i){let o=vC(),s=wC(),a=s?o:o&&o.parent,u=n.data[e]=IO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function lD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dD(n,e,t,r,i){let o=va(),s=r&2;try{$o(-1),s&&e.length>Ur&&cD(n,e,Ur,!1),dr(s?2:0,i),t(r,i)}finally{$o(o),dr(s?3:1,i)}}function hD(n,e,t){if(sC(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Oe(r)}}}function fD(n,e,t){yC()&&(SO(n,e,t,Nn(t,e)),(t.flags&64)===64&&vD(n,e,t))}function pD(n,e,t=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function mD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sv(n,e,t,r,i,o,s,a,u,d,m){let p=Ur+r,_=p+i,E=yO(p,_),M=typeof d=="function"?d():d;return E[De]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:m}}function yO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Wo);return t}function vO(n,e,t,r){let o=r.get(z1,QC)||t===fr.ShadowDom,s=n.selectRootElement(e,o);return wO(s),s}function wO(n){_O(n)}var _O=()=>null;function IO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ZP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ui.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?vb(r,t,d,a,u):vb(r,t,d,a)}return r}function vb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function EO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let m=r;m<i;m++){let p=o[m],_=t?t.get(p):null,E=_?_.inputs:null,M=_?_.outputs:null;u=yb(0,p.inputs,m,u,E),d=yb(1,p.outputs,m,d,M);let L=u!==null&&s!==null&&!Vy(e)?VO(u,m,s):null;a.push(L)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function bO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function av(n,e,t,r,i,o,s,a){let u=Nn(e,t),d=e.inputs,m;!a&&d!=null&&(m=d[r])?(cv(n,t,m,r,i),tf(e)&&CO(t,e.index)):e.type&3?(r=bO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function CO(n,e){let t=Hi(e,n);t[de]&16||(t[de]|=64)}function gD(n,e,t,r){if(yC()){let i=r===null?null:{"":-1},o=xO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&yD(n,e,t,s,i,a),i&&RO(t,r,i)}t.mergedAttrs=uu(t.mergedAttrs,t.attrs)}function yD(n,e,t,r,i,o){for(let d=0;d<r.length;d++)ay(Lh(t,e),n,r[d].type);NO(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let m=r[d];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=lD(n,e,r.length,null);for(let d=0;d<r.length;d++){let m=r[d];t.mergedAttrs=uu(t.mergedAttrs,m.hostAttrs),PO(n,t,e,u,m),MO(u,m,i),m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let p=m.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}EO(n,t,o)}function DO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;TO(s)!=a&&s.push(a),s.push(t,r,o)}}function TO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function SO(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;tf(t)&&OO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Lh(t,e),qo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=ha(e,n,a,t);if(qo(d,e),s!==null&&LO(e,a-i,d,u,t,s),Bi(u)){let m=Hi(t.index,e);m[Qn]=ha(e,n,a,t)}}}function vD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=a1();try{$o(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];iy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&AO(u,d)}}finally{$o(-1),iy(s)}}function AO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function xO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(yP(e,s.selectors,!1))if(r||(r=[]),Bi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;yy(n,e,u)}else r.unshift(s),yy(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function yy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function RO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function MO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bi(e)&&(t[""]=n)}}function NO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=oa(i.type,!0)),s=new Ho(o,Bi(i),K);n.blueprint[r]=s,t[r]=s,DO(n,e,r,lD(n,t,i.hostVars,Wo),i)}function OO(n,e,t){let r=Nn(e,n),i=mD(t),o=n[pr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=hf(n,lf(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function kO(n,e,t,r,i,o){let s=Nn(n,e);FO(e[gt],s,o,n.value,t,r,i)}function FO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Zh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function LO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],m=s[a++],p=s[a++];uD(r,t,u,d,m,p)}}function VO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function wD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _D(n,e){let t=n.contentQueries;if(t!==null){let r=Oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];IC(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function hf(n,e){return n[du]?n[rb][Kn]=e:n[du]=e,n[rb]=e,e}function vy(n,e,t){IC(0);let r=Oe(null);try{e(n,t)}finally{Oe(r)}}function jO(n){return n[Rh]??=[]}function UO(n){return n.cleanup??=[]}function ID(n,e){let t=n[ua],r=t?t.get(Br,null):null;r&&r.handleError(e)}function cv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],m=n.data[s];uD(m,d,r,a,u,i)}}function BO(n,e,t){let r=dC(e,n);Z1(n[gt],r,t)}function $O(n,e){let t=Hi(e,n),r=t[De];HO(r,t);let i=t[Gr];i!==null&&t[xh]===null&&(t[xh]=ev(i,t[ua])),uv(r,t,t[Qn])}function HO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function uv(n,e,t){Hy(e);try{let r=n.viewQuery;r!==null&&vy(1,r,t);let i=n.template;i!==null&&dD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[da]?.finishViewCreation(n),n.staticContentQueries&&_D(n,e),n.staticViewQueries&&vy(2,n.viewQuery,t);let o=n.components;o!==null&&qO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,qy()}}function qO(n,e){for(let t=0;t<e.length;t++)$O(n,e[t])}function zO(n,e,t,r){let i=Oe(null);try{let o=e.tView,a=n[de]&4096?4096:16,u=lf(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[la]=d;let m=n[da];return m!==null&&(u[da]=m.createEmbeddedView(o)),uv(o,u,t),u}finally{Oe(i)}}function wb(n,e){return!e||e.firstChild===null||HC(n)}function GO(n,e,t,r=!0){let i=e[De];if(tO(i,e,n,t),r){let s=gy(t,n),a=e[gt],u=iD(a,n[Uo]);u!==null&&X1(i,n[Zn],a,e,u,s)}let o=e[xh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $h(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(gr(o)),Wr(o)&&WO(o,r);let s=t.type;if(s&8)$h(n,e,t.child,r);else if(s&32){let a=nv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=oD(e,t);if(Array.isArray(a))r.push(...a);else{let u=Bo(e[mr]);$h(u[De],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function WO(n,e){for(let t=Rn;t<n.length;t++){let r=n[t],i=r[De].firstChild;i!==null&&$h(r[De],r,i,e)}n[Uo]!==n[Gr]&&e.push(n[Uo])}var ED=[];function KO(n){return n[xn]??QO(n)}function QO(n){let e=ED.pop()??Object.create(ZO);return e.lView=n,e}function YO(n){n.lView[xn]!==n&&(n.lView=null,ED.push(n))}var ZO=Ie(z({},nu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{rf(n.lView)},consumerOnSignalRead(){this.lView[xn]=this}});function JO(n){let e=n[xn]??Object.create(XO);return e.lView=n,e}var XO=Ie(z({},nu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Bo(n.lView);for(;e&&!bD(e[De]);)e=Bo(e);e&&pC(e)},consumerOnSignalRead(){this.lView[xn]=this}});function bD(n){return n.type!==2}var ek=100;function CD(n,e=!0,t=0){let r=n[pr],i=r.rendererFactory,o=!1;o||i.begin?.();try{tk(n,t)}catch(s){throw e&&ID(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function tk(n,e){let t=_C();try{ob(!0),wy(n,e);let r=0;for(;nf(n);){if(r===ek)throw new te(103,!1);r++,wy(n,1)}}finally{ob(t)}}function nk(n,e,t,r){let i=e[de];if((i&256)===256)return;let o=!1,s=!1;!o&&e[pr].inlineEffectRunner?.flush(),Hy(e);let a=!0,u=null,d=null;o||(bD(n)?(d=KO(e),u=jd(d)):u0()===null?(a=!1,d=JO(e),u=jd(d)):e[xn]&&(mg(e[xn]),e[xn]=null));try{fC(e),r1(n.bindingStartIndex),t!==null&&dD(n,e,t,2,r);let m=(i&3)===3;if(!o)if(m){let E=n.preOrderCheckHooks;E!==null&&Ih(e,E,null)}else{let E=n.preOrderHooks;E!==null&&Eh(e,E,0,null),Vg(e,0)}if(s||rk(e),DD(e,0),n.contentQueries!==null&&_D(n,e),!o)if(m){let E=n.contentCheckHooks;E!==null&&Ih(e,E)}else{let E=n.contentHooks;E!==null&&Eh(e,E,1),Vg(e,1)}mO(n,e);let p=n.components;p!==null&&SD(e,p,0);let _=n.viewQuery;if(_!==null&&vy(2,_,r),!o)if(m){let E=n.viewCheckHooks;E!==null&&Ih(e,E)}else{let E=n.viewHooks;E!==null&&Eh(e,E,2),Vg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Lg]){for(let E of e[Lg])E();e[Lg]=null}o||(e[de]&=-73)}catch(m){throw o||rf(e),m}finally{d!==null&&(fg(d,u),a&&YO(d)),qy()}}function DD(n,e){for(let t=zC(n);t!==null;t=GC(t))for(let r=Rn;r<t.length;r++){let i=t[r];TD(i,e)}}function rk(n){for(let e=zC(n);e!==null;e=GC(e)){if(!(e[de]&Ph.HasTransplantedViews))continue;let t=e[Nh];for(let r=0;r<t.length;r++){let i=t[r];pC(i)}}}function ik(n,e,t){let r=Hi(e,n);TD(r,t)}function TD(n,e){$y(n)&&wy(n,e)}function wy(n,e){let r=n[De],i=n[de],o=n[xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pg(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)nk(r,n,r.template,n[Qn]);else if(i&8192){DD(n,1);let a=r.components;a!==null&&SD(n,a,1)}}function SD(n,e,t){for(let r=0;r<e.length;r++)ik(n,e[r],t)}function lv(n,e){let t=_C()?64:1088;for(n[pr].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=Bo(n);if(ty(n)&&!r)return n;n=r}return null}var zo=class{get rootNodes(){let e=this._lView,t=e[De];return $h(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qn]}set context(e){this._lView[Qn]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Kt];if(Wr(e)){let t=e[Mh],r=t?t.indexOf(this):-1;r>-1&&(my(e,r),Sh(t,r))}this._attachedToViewContainer=!1}nD(this._lView[De],this._lView)}onDestroy(e){mC(this._lView,e)}markForCheck(){lv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){ry(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,CD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ty(this._lView),t=this._lView[la];t!==null&&!e&&rv(t,this._lView),eD(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=ty(this._lView),r=this._lView[la];r!==null&&!t&&tD(r,this._lView),ry(this._lView)}},ff=(()=>{class n{static{this.__NG_ELEMENT_ID__=ak}}return n})(),ok=ff,sk=class extends ok{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=zO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new zo(i)}};function ak(){return ck(on(),We())}function ck(n,e){return n.type&4?new sk(e,n,af(n,e)):null}var y8=new RegExp(`^(\\d+)*(${H1}|${$1})*(.*)`);var uk=()=>null;function _b(n,e){return uk(n,e)}var fa=class{},pf=new X("",{providedIn:"root",factory:()=>!1});var AD=new X(""),xD=new X(""),_y=class{},Hh=class{};function lk(n){let e=Error(`No component factory found for ${Wt(n)}.`);return e[dk]=n,e}var dk="ngComponent";var Iy=class{resolveComponentFactory(e){throw lk(e)}},pa=class{static{this.NULL=new Iy}},ma=class{},zi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hk()}}return n})();function hk(){let n=We(),e=on(),t=Hi(e.index,n);return(ji(t)?t:n)[gt]}var fk=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}}return n})();function Ey(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=W0(i,a);else if(o==2){let u=a,d=e[++s];r=W0(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var qh=class extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=jo(e);return new hu(t,this.ngModule)}};function Ib(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ui.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ui.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function pk(n){let e=n.toLowerCase();return e==="svg"?$P:e==="math"?HP:null}var hu=class extends Hh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Ib(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Ib(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Oe(null);try{i=i||this.ngModule;let s=i instanceof tn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new oy(e,s):e,u=a.get(ma,null);if(u===null)throw new te(407,!1);let d=a.get(fk,null),m=a.get(fa,null),p={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:m},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",M=r?vO(_,r,this.componentDef.encapsulation,a):XC(_,E,pk(E)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let P=null;M!==null&&(P=ev(M,a,!0));let B=sv(0,null,null,1,0,null,null,null,null,null,null),J=lf(null,B,null,L,null,null,p,_,a,null,P);Hy(J);let Q,ae,Ae=null;try{let re=this.componentDef,T,I=null;re.findHostDirectiveDefs?(T=[],I=new Map,re.findHostDirectiveDefs(re,T,I),T.push(re)):T=[re];let b=mk(J,M);Ae=gk(b,M,re,T,J,p,_),ae=hC(B,Ur),M&&wk(_,re,M,r),t!==void 0&&_k(ae,this.ngContentSelectors,t),Q=vk(Ae,re,T,I,J,[Ik]),uv(B,J,null)}catch(re){throw Ae!==null&&fy(Ae),fy(J),re}finally{qy()}return new by(this.componentType,Q,af(ae,J),J,ae)}finally{Oe(o)}}},by=class extends _y{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;cv(o[De],o,i,e,t),this.previousInputValues.set(e,t);let s=Hi(this._tNode.index,o);lv(s,1)}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mk(n,e){let t=n[De],r=Ur;return n[r]=e,df(t,r,2,"#host",null)}function gk(n,e,t,r,i,o,s){let a=i[De];yk(r,n,e,s);let u=null;e!==null&&(u=ev(e,i[ua]));let d=o.rendererFactory.createRenderer(e,t),m=16;t.signals?m=4096:t.onPush&&(m=64);let p=lf(i,mD(t),null,m,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&yy(a,n,r.length-1),hf(i,p),i[n.index]=p}function yk(n,e,t,r){for(let i of n)e.mergedAttrs=uu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ey(e,e.mergedAttrs,!0),t!==null&&aD(r,t,e))}function vk(n,e,t,r,i,o){let s=on(),a=i[De],u=Nn(s,i);yD(a,i,s,t,null,r);for(let m=0;m<t.length;m++){let p=s.directiveStart+m,_=ha(i,a,p,s);qo(_,i)}vD(a,i,s),u&&qo(u,i);let d=ha(i,a,s.directiveStart+s.componentOffset,s);if(n[Qn]=i[Qn]=d,o!==null)for(let m of o)m(d,e);return hD(a,s,i),d}function wk(n,e,t,r){if(r)Zg(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=EP(e.selectors[0]);i&&Zg(n,t,i),o&&o.length>0&&sD(n,t,o.join(" "))}}function _k(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Ik(){let n=on();Wy(We()[De],n)}var _a=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ek}}return n})();function Ek(){let n=on();return Ck(n,We())}var bk=_a,RD=class extends bk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return af(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ky(this._hostTNode,this._hostLView);if(xC(e)){let t=Fh(e,this._hostLView),r=kh(e),i=t[De].data[r+8];return new Vo(i,t)}else return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Eb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_b(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!VP(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new hu(jo(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let L=(s?d:this.parentInjector).get(tn,null);L&&(o=L)}let m=jo(u.componentType??{}),p=_b(this._lContainer,m?.id??null),_=p?.firstChild??null,E=u.create(d,i,_,o);return this.insertImpl(E.hostView,a,wb(this._hostTNode,p)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(zP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Kt],d=new RD(u,u[Zn],u[Kt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return GO(s,i,o,r),e.attachToViewContainerRef(),Hb(Hg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Eb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=my(this._lContainer,t);r&&(Sh(Hg(this._lContainer),t),nD(r[De],r))}detach(e){let t=this._adjustIndex(e,-1),r=my(this._lContainer,t);return r&&Sh(Hg(this._lContainer),t)!=null?new zo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Eb(n){return n[Mh]}function Hg(n){return n[Mh]||(n[Mh]=[])}function Ck(n,e){let t,r=e[n.index];return Wr(r)?t=r:(t=wD(r,e,null,n),e[n.index]=t,hf(e,t)),Tk(t,e,n,r),new RD(t,n,e)}function Dk(n,e){let t=n[gt],r=t.createComment(""),i=Nn(e,n),o=iD(t,i);return Bh(t,o,r,sO(t,i),!1),r}var Tk=xk,Sk=()=>!1;function Ak(n,e,t){return Sk(n,e,t)}function xk(n,e,t,r){if(n[Uo])return;let i;t.type&8?i=gr(r):i=Dk(e,t),n[Uo]=i}var bb=new Set;function Ia(n){bb.has(n)||(bb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Rk(n){return typeof n=="function"&&n[Lr]!==void 0}function Ea(n,e){Ia("NgSignals");let t=_0(n),r=t[Lr];return e?.equal&&(r.equal=e.equal),t.set=i=>gg(r,i),t.update=i=>I0(r,i),t.asReadonly=Mk.bind(t),t}function Mk(){let n=this[Lr];if(n.readonlyFn===void 0){let e=()=>this();e[Lr]=n,n.readonlyFn=e}return n.readonlyFn}function MD(n){return Rk(n)&&typeof n.set=="function"}function Nk(n){return Object.getPrototypeOf(n.prototype).constructor}function Lt(n){let e=Nk(n.type),t=!0,r=[n];for(;e;){let i;if(Bi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=yh(n.inputs),s.inputTransforms=yh(n.inputTransforms),s.declaredInputs=yh(n.declaredInputs),s.outputs=yh(n.outputs);let a=i.hostBindings;a&&Lk(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&kk(n,u),d&&Fk(n,d),Pk(n,i),$N(n.outputs,i.outputs),Bi(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Lt&&(t=!1)}}e=Object.getPrototypeOf(e)}Ok(r)}function Pk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Ok(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=uu(i.hostAttrs,t=uu(t,i.hostAttrs))}}function yh(n){return n===sa?{}:n===An?[]:n}function kk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Fk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Lk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var $i=class{},fu=class{};var Cy=class extends $i{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qh(this);let o=Zb(e);this._bootstrapComponents=JC(o.bootstrap),this._r3Injector=VC(e,t,[{provide:$i,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],Wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dy=class extends fu{constructor(e){super(),this.moduleType=e}create(e){return new Cy(this.moduleType,e,[])}};var zh=class extends $i{constructor(e){super(),this.componentFactoryResolver=new qh(this),this.instance=null;let t=new lu([...e.providers,{provide:$i,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],e.parent||Uy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dv(n,e,t=null){return new zh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function ND(n){return jk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Vk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function jk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function vu(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Uk(n){return(n.flags&32)===32}function Bk(n,e,t,r,i,o,s,a,u){let d=e.consts,m=df(e,n,4,s||null,a||null);gD(e,t,m,Oh(d,u)),Wy(e,m);let p=m.tView=sv(2,m,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,m),p.queries=e.queries.embeddedTView(m)),m}function $k(n,e,t,r,i,o,s,a,u,d){let m=t+Ur,p=e.firstCreatePass?Bk(m,e,n,r,i,o,s,a,u):e.data[m];yu(p,!1);let _=Hk(e,n,p,t);zy()&&iv(e,n,_,p),qo(_,n);let E=wD(_,n,_,p);return n[m]=E,hf(n,E),Ak(E,p,n),By(p)&&fD(e,n,p),u!=null&&pD(n,p,d),p}function ge(n,e,t,r,i,o,s,a){let u=We(),d=rn(),m=Oh(d.consts,o);return $k(u,d,n,e,t,r,i,m,s,a),ge}var Hk=qk;function qk(n,e,t,r){return Gy(!0),e[gt].createComment("")}var su=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(su||{}),zk=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Cb=class n{constructor(){this.ngZone=q(Ve),this.scheduler=q(fa),this.errorHandler=q(Br,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[su.EarlyRead,su.Write,su.MixedReadWrite,su.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}};function wu(n,e,t,r){let i=We(),o=of();if(vu(i,o,e)){let s=rn(),a=sf();kO(a,i,n,e,t,r)}return wu}function PD(n,e,t,r){return vu(n,of(),t)?e+Zh(t)+r:Wo}function vh(n,e){return n<<17|e<<2}function Go(n){return n>>17&32767}function Gk(n){return(n&2)==2}function Wk(n,e){return n&131071|e<<17}function Ty(n){return n|2}function ga(n){return(n&131068)>>2}function qg(n,e){return n&-131069|e<<2}function Kk(n){return(n&1)===1}function Sy(n){return n|1}function Qk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Go(s),u=ga(s);n[r]=t;let d=!1,m;if(Array.isArray(t)){let p=t;m=p[1],(m===null||gu(p,m)>0)&&(d=!0)}else m=t;if(i)if(u!==0){let _=Go(n[a+1]);n[r+1]=vh(_,a),_!==0&&(n[_+1]=qg(n[_+1],r)),n[a+1]=Wk(n[a+1],r)}else n[r+1]=vh(a,0),a!==0&&(n[a+1]=qg(n[a+1],r)),a=r;else n[r+1]=vh(u,0),a===0?a=r:n[u+1]=qg(n[u+1],r),u=r;d&&(n[r+1]=Ty(n[r+1])),Db(n,m,r,!0),Db(n,m,r,!1),Yk(e,m,n,r,o),s=vh(a,u),o?e.classBindings=s:e.styleBindings=s}function Yk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&gu(o,e)>=0&&(t[r+1]=Sy(t[r+1]))}function Db(n,e,t,r){let i=n[t+1],o=e===null,s=r?Go(i):ga(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];Zk(u,e)&&(a=!0,n[s+1]=r?Sy(d):Ty(d)),s=r?Go(d):ga(d)}a&&(n[t+1]=r?Ty(i):Sy(i))}function Zk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?gu(n,e)>=0:!1}function W(n,e,t){let r=We(),i=of();if(vu(r,i,e)){let o=rn(),s=sf();av(o,s,r,n,e,r[gt],t,!1)}return W}function Tb(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";cv(n,t,o[s],s,r)}function mf(n,e){return Jk(n,e,null,!0),mf}function Jk(n,e,t,r){let i=We(),o=rn(),s=i1(2);if(o.firstUpdatePass&&eF(o,n,s,r),e!==Wo&&vu(i,s,e)){let a=o.data[va()];oF(o,a,i,i[gt],n,i[s+1]=sF(e,t),r,s)}}function Xk(n,e){return e>=n.expandoStartIndex}function eF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[va()],s=Xk(n,t);aF(o,r)&&e===null&&!s&&(e=!1),e=tF(i,o,e,r),Qk(i,o,e,t,s,r)}}function tF(n,e,t,r){let i=c1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=zg(null,n,e,t,r),t=pu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=zg(i,n,e,t,r),o===null){let u=nF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=zg(null,n,e,u[1],r),u=pu(u,e.attrs,r),rF(n,e,r,u))}else o=iF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function nF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ga(r)!==0)return n[Go(r)]}function rF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Go(i)]=r}function iF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=pu(r,s,t)}return pu(r,e.attrs,t)}function zg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=pu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function pu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),cP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function oF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],m=Kk(d)?Sb(u,e,t,i,ga(d),s):void 0;if(!Gh(m)){Gh(o)||Gk(d)&&(o=Sb(u,null,t,i,a,s));let p=dC(va(),t);fO(r,s,p,i,o)}}function Sb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),m=d?u[1]:u,p=m===null,_=t[i+1];_===Wo&&(_=p?An:void 0);let E=p?kg(_,r):m===r?_:void 0;if(d&&!Gh(E)&&(E=kg(u,r)),Gh(E)&&(a=E,s))return a;let M=n[i+1];i=s?Go(M):ga(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=kg(u,r))}return a}function Gh(n){return n!==void 0}function sF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wt(cf(n)))),n}function aF(n,e){return(n.flags&(e?8:16))!==0}function cF(n,e,t,r,i,o){let s=e.consts,a=Oh(s,i),u=df(e,n,2,r,a);return gD(e,t,u,Oh(s,o)),u.attrs!==null&&Ey(u,u.attrs,!1),u.mergedAttrs!==null&&Ey(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(n,e,t,r){let i=We(),o=rn(),s=Ur+n,a=i[gt],u=o.firstCreatePass?cF(s,o,i,e,t,r):o.data[s],d=uF(o,i,u,a,e,n);i[s]=d;let m=By(u);return yu(u,!0),aD(a,d,u),!Uk(u)&&zy()&&iv(o,i,d,u),KP()===0&&qo(d,i),QP(),m&&(fD(o,i,u),hD(o,u,i)),r!==null&&pD(i,u),F}function N(){let n=on();wC()?t1():(n=n.parent,yu(n,!1));let e=n;JP(e)&&XP(),YP();let t=rn();return t.firstCreatePass&&(Wy(t,n),sC(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&m1(e)&&Tb(t,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&g1(e)&&Tb(t,e,We(),e.stylesWithoutHost,!1),N}function He(n,e,t,r){return F(n,e,t,r),N(),He}var uF=(n,e,t,r,i,o)=>(Gy(!0),XC(r,i,d1()));function lt(){return We()}var Wh="en-US";var lF=Wh;function dF(n){typeof n=="string"&&(lF=n.toLowerCase().replace(/_/g,"-"))}var hF=(n,e,t)=>{};function ce(n,e,t,r){let i=We(),o=rn(),s=on();return OD(o,i,i[gt],s,n,e,r),ce}function fF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Rh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function OD(n,e,t,r,i,o,s){let a=By(r),d=n.firstCreatePass&&UO(n),m=e[Qn],p=jO(e),_=!0;if(r.type&3||s){let L=Nn(r,e),P=s?s(L):L,B=p.length,J=s?ae=>s(gr(ae[r.index])):r.index,Q=null;if(!s&&a&&(Q=fF(n,e,i,r.index)),Q!==null){let ae=Q.__ngLastListenerFn__||Q;ae.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,_=!1}else{o=xb(r,e,m,o),hF(L,i,o);let ae=t.listen(P,i,o);p.push(o,ae),d&&d.push(i,J,B,B+1)}}else o=xb(r,e,m,o);let E=r.outputs,M;if(_&&E!==null&&(M=E[i])){let L=M.length;if(L)for(let P=0;P<L;P+=2){let B=M[P],J=M[P+1],Ae=e[B][J].subscribe(o),re=p.length;p.push(o,Ae),d&&d.push(i,r.index,re,-(re+1))}}}function Ab(n,e,t,r){let i=Oe(null);try{return dr(6,e,t),t(r)!==!1}catch(o){return ID(n,o),!1}finally{dr(7,e,t),Oe(i)}}function xb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Hi(n.index,e):e;lv(s,5);let a=Ab(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=Ab(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function pe(n=1){return l1(n)}function _u(n,e,t){return gf(n,"",e,"",t),_u}function gf(n,e,t,r,i){let o=We(),s=PD(o,e,t,r);if(s!==Wo){let a=rn(),u=sf();av(a,u,o,n,s,o[gt],i,!1)}return gf}function ba(n){let e=n1();return qP(e,Ur+n)}function V(n,e=""){let t=We(),r=rn(),i=n+Ur,o=r.firstCreatePass?df(r,i,1,e,null):r.data[i],s=pF(r,t,o,e,n);t[i]=s,zy()&&iv(r,t,s,o),yu(o,!1)}var pF=(n,e,t,r,i)=>(Gy(!0),Y1(e[gt],r));function On(n){return it("",n,""),On}function it(n,e,t){let r=We(),i=PD(r,n,e,t);return i!==Wo&&BO(r,va(),i),it}function Ca(n,e,t){MD(e)&&(e=e());let r=We(),i=of();if(vu(r,i,e)){let o=rn(),s=sf();av(o,s,r,n,e,r[gt],t,!1)}return Ca}function Iu(n,e){let t=MD(n);return t&&n.set(e),t}function Da(n,e){let t=We(),r=rn(),i=on();return OD(r,t,t[gt],i,n,e),Da}function mF(n,e,t){let r=rn();if(r.firstCreatePass){let i=Bi(n);Ay(t,r.data,r.blueprint,i,!0),Ay(e,r.data,r.blueprint,i,!1)}}function Ay(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ay(n[o],e,t,r,i);else{let o=rn(),s=We(),a=on(),u=ca(n)?n:Gt(n.provide),d=rC(n),m=a.providerIndexes&1048575,p=a.directiveStart,_=a.providerIndexes>>20;if(ca(n)||!n.multi){let E=new Ho(d,i,K),M=Wg(u,e,i?m:m+_,p);M===-1?(ay(Lh(a,s),o,u),Gg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)):(t[M]=E,s[M]=E)}else{let E=Wg(u,e,m+_,p),M=Wg(u,e,m,m+_),L=E>=0&&t[E],P=M>=0&&t[M];if(i&&!P||!i&&!L){ay(Lh(a,s),o,u);let B=vF(i?yF:gF,t.length,i,r,d);!i&&P&&(t[M].providerFactory=B),Gg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=kD(t[i?M:E],d,!i&&r);Gg(o,n,E>-1?E:M,B)}!i&&r&&P&&t[M].componentProviders++}}}function Gg(n,e,t,r){let i=ca(e),o=RP(e);if(i||o){let u=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let m=d.indexOf(t);m===-1?d.push(t,[r,u]):d[m+1].push(r,u)}else d.push(t,u)}}}function kD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function gF(n,e,t,r){return xy(this.multi,[])}function yF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ha(t,t[De],this.providerFactory.index,r);o=a.slice(0,s),xy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],xy(i,o);return o}function xy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function vF(n,e,t,r,i){let o=new Ho(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,kD(o,i,r&&!t),o}function mn(n,e=[]){return t=>{t.providersResolver=(r,i)=>mF(r,i?i(n):n,e)}}var wF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=eC(!1,t.type),i=r.length>0?dv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(ne(tn))})}}return n})();function Ue(n){Ia("NgStandalone"),n.getStandaloneInjector=e=>e.get(wF).getOrCreateStandaloneInjector(n)}var Hr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},FD=new Hr("18.2.8");var yf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var LD=new X("");function Ko(n){return!!n&&typeof n.then=="function"}function VD(n){return!!n&&typeof n.subscribe=="function"}var jD=new X(""),UD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(jD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ko(o))t.push(o);else if(VD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vf=new X("");function _F(){w0(()=>{throw new te(600,!1)})}function IF(n){return n.isBoundToModule}var EF=10;function bF(n,e,t){try{let r=t();return Ko(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Gi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(k1),this.afterRenderManager=q(zk),this.zonelessEnabled=q(pf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new kt,this.afterTick=new kt,this.componentTypes=[],this.components=[],this.isStable=q(qi).hasPendingTasks.pipe(le(t=>!t)),this._injector=q(tn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Hh;if(!this._injector.get(UD).done){let _=!i&&Yb(t),E=!1;throw new te(405,E)}let s;i?s=t:s=this._injector.get(pa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=IF(s)?void 0:this._injector.get($i),u=r||s.selector,d=s.create(nn.NULL,[],u,a),m=d.location.nativeElement,p=d.injector.get(LD,null);return p?.registerApplication(m),d.onDestroy(()=>{this.detachView(d.hostView),bh(this.components,d),p?.unregisterApplication(m)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new te(101,!1);let t=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ma,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<EF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)CF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>nf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(vf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CF(n,e,t,r){if(!t&&!nf(n))return;CD(n,e,t&&!r?0:1)}var Ry=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hv=(()=>{class n{compileModuleSync(t){return new Dy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Zb(t),o=JC(i.declarations).reduce((s,a)=>{let u=jo(a);return u&&s.push(new hu(u)),s},[]);return new Ry(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var DF=(()=>{class n{constructor(){this.zone=q(Ve),this.changeDetectionScheduler=q(fa),this.applicationRef=q(Gi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TF=new X("",{factory:()=>!1});function BD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ve(Ie(z({},HD()),{scheduleInRootZone:t})),[{provide:Ve,useFactory:n},{provide:aa,multi:!0,useFactory:()=>{let r=q(DF,{optional:!0});return()=>r.initialize()}},{provide:aa,multi:!0,useFactory:()=>{let r=q(SF);return()=>{r.initialize()}}},e===!0?{provide:AD,useValue:!0}:[],{provide:xD,useValue:t??jC}]}function $D(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=BD({ngZoneFactory:()=>{let i=HD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ia("NgZone_CoalesceEvent"),new Ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Mn([{provide:TF,useValue:!0},{provide:pf,useValue:!1},r])}function HD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SF=(()=>{class n{constructor(){this.subscription=new st,this.initialized=!1,this.zone=q(Ve),this.pendingTasks=q(qi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var AF=(()=>{class n{constructor(){this.appRef=q(Gi),this.taskService=q(qi),this.ngZone=q(Ve),this.zonelessEnabled=q(pf),this.disableScheduling=q(AD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new st,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(xD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?db:BC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,db(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xF(){return typeof $localize<"u"&&$localize.locale||Wh}var fv=new X("",{providedIn:"root",factory:()=>q(fv,_e.Optional|_e.SkipSelf)||xF()});var My=new X("");function wh(n){return!n.moduleRef}function RF(n){let e=wh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ve);return t.run(()=>{wh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Br,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),wh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(My);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(My);s.add(o),n.moduleRef.onDestroy(()=>{bh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return bF(r,t,()=>{let o=e.get(UD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fv,Wh);if(dF(s||Wh),wh(n)){let a=e.get(Gi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return MF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function MF(n,e){let t=n.injector.get(Gi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new te(-403,!1);e.push(n)}var Ch=null;function NF(n=[],e){return nn.create({name:e,providers:[{provide:Xh,useValue:"platform"},{provide:My,useValue:new Set([()=>Ch=null])},...n]})}function PF(n=[]){if(Ch)return Ch;let e=NF(n);return Ch=e,_F(),OF(e),e}function OF(n){n.get(Jy,null)?.forEach(t=>t())}var Qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=kF}}return n})();function kF(n){return FF(on(),We(),(n&16)===16)}function FF(n,e,t){if(tf(n)&&!t){let r=Hi(n.index,e);return new zo(r,r)}else if(n.type&175){let r=e[mr];return new zo(r,e)}return null}var Ny=class{constructor(){}supports(e){return ND(e)}create(e){return new Py(e)}},LF=(n,e)=>e,Py=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Rb(r,i,o)?t:r,a=Rb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,m=u-i;if(d!=m){for(let _=0;_<d;_++){let E=_<o.length?o[_]:o[_]=0,M=E+_;m<=M&&M<d&&(o[_]=E+1)}let p=s.previousIndex;o[p]=m-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ND(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Vk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Oy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Oy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ky=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Kh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ky,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Mb(){return new pv([new Ny])}var pv=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:Mb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Mb()),deps:[[n,new $b,new Yt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new te(901,!1)}}return n})();function qD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=PF(r),o=[BD({}),{provide:fa,useExisting:AF},...t||[]],s=new zh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return RF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ta(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Sa(n,e){Ia("NgSignals");let t=g0(n);return e?.equal&&(t[Lr].equal=e.equal),t}function vr(n){let e=Oe(null);try{return n()}finally{Oe(e)}}var QD=null;function Qr(){return QD}function YD(n){QD??=n}var wf=class{};var sn=new X(""),ZD=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(BF),providedIn:"platform"})}}return n})();var BF=(()=>{class n extends ZD{constructor(){super(),this._doc=q(sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qr().getBaseHref(this._doc)}onPopState(t){let r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function JD(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function zD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Yo(n){return n&&n[0]!=="?"?"?"+n:n}var _f=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(XD),providedIn:"root"})}}return n})(),$F=new X(""),XD=(()=>{class n extends _f{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return JD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Yo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(ZD),ne($F,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Eu=(()=>{class n{constructor(t){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zF(zD(GD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yo(r))}normalize(t){return n.stripTrailingSlash(qF(this._basePath,GD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Yo}static{this.joinWithSlash=JD}static{this.stripTrailingSlash=zD}static{this.\u0275fac=function(r){return new(r||n)(ne(_f))}}static{this.\u0275prov=Y({token:n,factory:()=>HF(),providedIn:"root"})}}return n})();function HF(){return new Eu(ne(_f))}function qF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function GD(n){return n.replace(/\/index.html$/,"")}function zF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function If(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var mv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(K(_a),K(ff),K(pv))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function WD(n,e){n.context.$implicit=e.item}var Rt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new gv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(K(_a),K(ff))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),gv=class{constructor(){this.$implicit=null,this.ngIf=null}};function KD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Wt(e)}'.`)}var Xe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=zr({type:n})}static{this.\u0275inj=qr({})}}return n})(),eT="browser",GF="server";function Ef(n){return n===GF}var Aa=class{};var Cu=class{},Cf=class{},Yr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var vv=class{encodeKey(e){return tT(e)}encodeValue(e){return tT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function WF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var KF=/%(\d[a-f0-9])/gi,QF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tT(n){return encodeURIComponent(n).replace(KF,(e,t)=>QF[t]??e)}function bf(n){return`${n}`}var Ki=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(bf):[bf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(bf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(bf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function YF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rT(n){return typeof Blob<"u"&&n instanceof Blob}function iT(n){return typeof FormData<"u"&&n instanceof FormData}function ZF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var bu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(YF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yr,this.context??=new wv,!this.params)this.params=new Ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nT(this.body)||rT(this.body)||iT(this.body)||ZF(this.body)?this.body:this.body instanceof Ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||iT(this.body)?null:rT(this.body)?this.body.type||null:nT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,m=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,E)=>_.set(E,e.setHeaders[E]),d)),e.setParams&&(m=Object.keys(e.setParams).reduce((_,E)=>_.set(E,e.setParams[E]),m)),new n(t,r,s,{params:m,headers:d,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Qi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qi||{}),Du=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Df=class n extends Du{constructor(e={}){super(e),this.type=Qi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tu=class n extends Du{constructor(e={}){super(e),this.type=Qi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wi=class extends Du{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cT=200,JF=204;function yv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Su=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof bu)o=t;else{let u;i.headers instanceof Yr?u=i.headers:u=new Yr(i.headers);let d;i.params&&(i.params instanceof Ki?d=i.params:d=new Ki({fromObject:i.params})),o=new bu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ue(o).pipe(ki(u=>this.handler.handle(u)));if(t instanceof bu||i.observe==="events")return s;let a=s.pipe(en(u=>u instanceof Tu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(le(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(le(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ki().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,yv(i,r))}post(t,r,i={}){return this.request("POST",t,yv(i,r))}put(t,r,i={}){return this.request("PUT",t,yv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ne(Cu))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),XF=/^\)\]\}',?\n/,eL="X-Request-URL";function oT(n){if(n.url)return n.url;let e=eL.toLocaleLowerCase();return n.headers.get(e)}var tL=(()=>{class n{constructor(){this.fetchImpl=q(_v,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=q(Ve)}handle(t){return new we(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Iv,o=>r.error(new Wi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return D(this,null,function*(){let o=this.createRequestInit(t),s;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,z({signal:r},o)));nL(E),i.next({type:Qi.Sent}),s=yield E}catch(E){i.error(new Wi({error:E,status:E.status??0,statusText:E.statusText,url:t.urlWithParams,headers:E.headers}));return}let a=new Yr(s.headers),u=s.statusText,d=oT(s)??t.urlWithParams,m=s.status,p=null;if(t.reportProgress&&i.next(new Df({headers:a,status:m,statusText:u,url:d})),s.body){let E=s.headers.get("content-length"),M=[],L=s.body.getReader(),P=0,B,J,Q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>D(this,null,function*(){for(;;){let{done:Ae,value:re}=yield L.read();if(Ae)break;if(M.push(re),P+=re.length,t.reportProgress){J=t.responseType==="text"?(J??"")+(B??=new TextDecoder).decode(re,{stream:!0}):void 0;let T=()=>i.next({type:Qi.DownloadProgress,total:E?+E:void 0,loaded:P,partialText:J});Q?Q.run(T):T()}}}));let ae=this.concatChunks(M,P);try{let Ae=s.headers.get("Content-Type")??"";p=this.parseBody(t,ae,Ae)}catch(Ae){i.error(new Wi({error:Ae,headers:new Yr(s.headers),status:s.status,statusText:s.statusText,url:oT(s)??t.urlWithParams}));return}}m===0&&(m=p?cT:0),m>=200&&m<300?(i.next(new Tu({body:p,headers:a,status:m,statusText:u,url:d})),i.complete()):i.error(new Wi({error:p,headers:a,status:m,statusText:u,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(XF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),_v=class{};function Iv(){}function nL(n){n.then(Iv,Iv)}function rL(n,e){return e(n)}function iL(n,e,t){return(r,i)=>Yn(t,()=>e(r,o=>n(o,i)))}var uT=new X(""),oL=new X(""),sL=new X("",{providedIn:"root",factory:()=>!0});var sT=(()=>{class n extends Cu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=q(qi),this.contributeToStability=q(sL)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uT),...this.injector.get(oL,[])]));this.chain=r.reduceRight((i,o)=>iL(i,o,this.injector),rL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Lo(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(ne(Cf),ne(tn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();var aL=/^\)\]\}',?\n/;function cL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var aT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?et(r.\u0275loadImpl()):ue(null)).pipe(fn(()=>new we(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((L,P)=>s.setRequestHeader(L,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let L=t.detectContentTypeHeader();L!==null&&s.setRequestHeader("Content-Type",L)}if(t.responseType){let L=t.responseType.toLowerCase();s.responseType=L!=="json"?L:"text"}let a=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let L=s.statusText||"OK",P=new Yr(s.getAllResponseHeaders()),B=cL(s)||t.url;return u=new Df({headers:P,status:s.status,statusText:L,url:B}),u},m=()=>{let{headers:L,status:P,statusText:B,url:J}=d(),Q=null;P!==JF&&(Q=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Q?cT:0);let ae=P>=200&&P<300;if(t.responseType==="json"&&typeof Q=="string"){let Ae=Q;Q=Q.replace(aL,"");try{Q=Q!==""?JSON.parse(Q):null}catch(re){Q=Ae,ae&&(ae=!1,Q={error:re,text:Q})}}ae?(o.next(new Tu({body:Q,headers:L,status:P,statusText:B,url:J||void 0})),o.complete()):o.error(new Wi({error:Q,headers:L,status:P,statusText:B,url:J||void 0}))},p=L=>{let{url:P}=d(),B=new Wi({error:L,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)},_=!1,E=L=>{_||(o.next(d()),_=!0);let P={type:Qi.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(P.total=L.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},M=L=>{let P={type:Qi.UploadProgress,loaded:L.loaded};L.lengthComputable&&(P.total=L.total),o.next(P)};return s.addEventListener("load",m),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(a),o.next({type:Qi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",m),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ne(Aa))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),lT=new X(""),uL="XSRF-TOKEN",lL=new X("",{providedIn:"root",factory:()=>uL}),dL="X-XSRF-TOKEN",hL=new X("",{providedIn:"root",factory:()=>dL}),Tf=class{},fL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=If(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ne(sn),ne(yr),ne(lL))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function pL(n,e){let t=n.url.toLowerCase();if(!q(lT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=q(Tf).getToken(),i=q(hL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function dT(...n){let e=[Su,aT,sT,{provide:Cu,useExisting:sT},{provide:Cf,useFactory:()=>q(tL,{optional:!0})??q(aT)},{provide:uT,useValue:pL,multi:!0},{provide:lT,useValue:!0},{provide:Tf,useClass:fL}];for(let t of n)e.push(...t.\u0275providers);return Mn(e)}var Cv=class extends wf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dv=class n extends Cv{static makeCurrent(){YD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=mL();return t==null?null:gL(t)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return If(document.cookie,e)}},Au=null;function mL(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}function gL(n){return new URL(n,document.baseURI).pathname}var yL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),Tv=new X(""),gT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ne(Tv),ne(Ve))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),Sf=class{constructor(e){this._doc=e}},Ev="ng-app-id",yT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ef(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ev}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ev),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ev,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ne(sn),ne(Zy),ne(Xy,8),ne(yr))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),bv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Av=/%COMP%/g,vT="%COMP%",vL=`_nghost-${vT}`,wL=`_ngcontent-${vT}`,_L=!0,IL=new X("",{providedIn:"root",factory:()=>_L});function EL(n){return wL.replace(Av,n)}function bL(n){return vL.replace(Av,n)}function wT(n,e){return e.map(t=>t.replace(Av,n))}var fT=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ef(a),this.defaultRenderer=new xu(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fr.ShadowDom&&(r=Ie(z({},r),{encapsulation:fr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Af?i.applyToHost(t):i instanceof Ru&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case fr.Emulated:o=new Af(u,d,r,this.appId,m,s,a,p);break;case fr.ShadowDom:return new Sv(u,d,t,r,s,a,this.nonce,p);default:o=new Ru(u,d,r,m,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ne(gT),ne(yT),ne(Zy),ne(IL),ne(sn),ne(yr),ne(Ve),ne(Xy))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),xu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(bv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=bv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=bv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&($r.DashCase|$r.Important)?e.style.setProperty(t,r,i&$r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Qr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Sv=class extends xu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=wT(i.id,i.styles);for(let m of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ru=class extends xu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?wT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Af=class extends Ru{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=EL(d),this.hostAttr=bL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},CL=(()=>{class n extends Sf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ne(sn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),mT=["alt","control","meta","shift"],DL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},SL=(()=>{class n extends Sf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mT.forEach(d=>{let m=r.indexOf(d);m>-1&&(r.splice(m,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=DL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mT.forEach(s=>{if(s!==i){let a=TL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ne(sn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function _T(n,e){return qD(z({rootComponent:n},AL(e)))}function AL(n){return{appProviders:[...PL,...n?.providers??[]],platformProviders:NL}}function xL(){Dv.makeCurrent()}function RL(){return new Br}function ML(){return KC(document),document}var NL=[{provide:yr,useValue:eT},{provide:Jy,useValue:xL,multi:!0},{provide:sn,useFactory:ML,deps:[]}];var PL=[{provide:Xh,useValue:"root"},{provide:Br,useFactory:RL,deps:[]},{provide:Tv,useClass:CL,multi:!0,deps:[sn,Ve,yr]},{provide:Tv,useClass:SL,multi:!0,deps:[sn]},fT,yT,gT,{provide:ma,useExisting:fT},{provide:Aa,useClass:yL,deps:[]},[]];var IT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ne(sn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye="primary",Wu=Symbol("RouteTitle"),Pv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ka(n){return new Pv(n)}function kL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function FL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wr(n[t],e[t]))return!1;return!0}function wr(n,e){let t=n?Ov(n):void 0,r=e?Ov(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xT(n[i],e[i]))return!1;return!0}function Ov(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function RT(n){return n.length>0?n[n.length-1]:null}function Yi(n){return xg(n)?n:Ko(n)?et(Promise.resolve(n)):ue(n)}var LL={exact:NT,subset:PT},MT={exact:VL,subset:jL,ignored:()=>!0};function ET(n,e,t){return LL[t.paths](n.root,e.root,t.matrixParams)&&MT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function VL(n,e){return wr(n,e)}function NT(n,e,t){if(!Jo(n.segments,e.segments)||!Mf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!NT(n.children[r],e.children[r],t))return!1;return!0}function jL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xT(n[t],e[t]))}function PT(n,e,t){return OT(n,e,e.segments,t)}function OT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!Mf(i,t,r))}else if(n.segments.length===t.length){if(!Jo(n.segments,t)||!Mf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!PT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Jo(n.segments,i)||!Mf(n.segments,i,r)||!n.children[ye]?!1:OT(n.children[ye],e,o,r)}}function Mf(n,e,t){return e.every((r,i)=>MT[t](n[i].parameters,r.parameters))}var Jr=class{constructor(e=new Be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){return $L.serialize(this)}},Be=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}},Zo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ka(this.parameters),this._parameterMap}toString(){return FT(this)}};function UL(n,e){return Jo(n,e)&&n.every((t,r)=>wr(t.parameters,e[r].parameters))}function Jo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function BL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var sw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new Lu,providedIn:"root"})}}return n})(),Lu=class{parse(e){let t=new Fv(e);return new Jr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Mu(e.root,!0)}`,r=zL(e.queryParams),i=typeof e.fragment=="string"?`#${HL(e.fragment)}`:"";return`${t}${r}${i}`}},$L=new Lu;function Nf(n){return n.segments.map(e=>FT(e)).join("/")}function Mu(n,e){if(!n.hasChildren())return Nf(n);if(e){let t=n.children[ye]?Mu(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${Mu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=BL(n,(r,i)=>i===ye?[Mu(n.children[ye],!1)]:[`${i}:${Mu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Nf(n)}/${t[0]}`:`${Nf(n)}/(${t.join("//")})`}}function kT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xf(n){return kT(n).replace(/%3B/gi,";")}function HL(n){return encodeURI(n)}function kv(n){return kT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pf(n){return decodeURIComponent(n)}function bT(n){return Pf(n.replace(/\+/g,"%20"))}function FT(n){return`${kv(n.path)}${qL(n.parameters)}`}function qL(n){return Object.entries(n).map(([e,t])=>`;${kv(e)}=${kv(t)}`).join("")}function zL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xf(t)}=${xf(i)}`).join("&"):`${xf(t)}=${xf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var GL=/^[^\/()?;#]+/;function xv(n){let e=n.match(GL);return e?e[0]:""}var WL=/^[^\/()?;=#]+/;function KL(n){let e=n.match(WL);return e?e[0]:""}var QL=/^[^=?&#]+/;function YL(n){let e=n.match(QL);return e?e[0]:""}var ZL=/^[^&#]+/;function JL(n){let e=n.match(ZL);return e?e[0]:""}var Fv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Be(e,t)),r}parseSegment(){let e=xv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new Zo(Pf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=KL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=xv(this.remaining);i&&(r=i,this.capture(r))}e[Pf(t)]=Pf(r)}parseQueryParam(e){let t=YL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=JL(this.remaining);s&&(r=s,this.capture(r))}let i=bT(t),o=bT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new Be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function LT(n){return n.segments.length>0?new Be([],{[ye]:n}):n}function VT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=VT(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Be(n.segments,e);return XL(t)}function XL(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new Be(n.segments.concat(e.segments),e.children)}return n}function Vu(n){return n instanceof Jr}function eV(n,e,t=null,r=null){let i=jT(n);return UT(i,e,t,r)}function jT(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new Be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=LT(r);return e??i}function UT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Rv(i,i,i,t,r);let o=tV(e);if(o.toRoot())return Rv(i,i,new Be([],{}),t,r);let s=nV(o,i,n),a=s.processChildren?Ou(s.segmentGroup,s.index,o.commands):$T(s.segmentGroup,s.index,o.commands);return Rv(i,s.segmentGroup,a,t,r)}function Of(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ju(n){return typeof n=="object"&&n!=null&&n.outlets}function Rv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(m=>`${m}`):`${d}`});let s;n===e?s=t:s=BT(n,e,t);let a=LT(VT(s));return new Jr(a,o,i)}function BT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=BT(o,e,t)}),new Be(n.segments,r)}var kf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Of(r[0]))throw new te(4003,!1);let i=r.find(ju);if(i&&i!==RT(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kf(t,e,r)}var Na=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function nV(n,e,t){if(n.isAbsolute)return new Na(e,!0,0);if(!t)return new Na(e,!1,NaN);if(t.parent===null)return new Na(t,!0,0);let r=Of(n.commands[0])?0:1,i=t.segments.length-1+r;return rV(t,i,n.numberOfDoubleDots)}function rV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Na(r,!1,i-o)}function iV(n){return ju(n[0])?n[0].outlets:{[ye]:n}}function $T(n,e,t){if(n??=new Be([],{}),n.segments.length===0&&n.hasChildren())return Ou(n,e,t);let r=oV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Be(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new Be(n.segments.slice(r.pathIndex),n.children),Ou(o,0,i)}else return r.match&&i.length===0?new Be(n.segments,{}):r.match&&!n.hasChildren()?Lv(n,e,t):r.match?Ou(n,0,i):Lv(n,e,t)}function Ou(n,e,t){if(t.length===0)return new Be(n.segments,{});{let r=iV(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=Ou(n.children[ye],e,t);return new Be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$T(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Be(n.segments,i)}}function oV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ju(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!DT(u,d,s))return o;r+=2}else{if(!DT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Lv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ju(o)){let u=sV(o.outlets);return new Be(r,u)}if(i===0&&Of(t[0])){let u=n.segments[e];r.push(new Zo(u.path,CT(t[0]))),i++;continue}let s=ju(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Of(a)?(r.push(new Zo(s,CT(a))),i+=2):(r.push(new Zo(s,{})),i++)}return new Be(r,{})}function sV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Lv(new Be([],{}),0,r))}),e}function CT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function DT(n,e,t){return n==t.path&&wr(e,t.parameters)}var ku="imperative",Vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Vt||{}),kn=class{constructor(e,t){this.id=e,this.url=t}},Uu=class extends kn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Vt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xo=class extends kn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vn||{}),Vv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Vv||{}),Zr=class extends kn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},es=class extends kn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Vt.NavigationSkipped}},Bu=class extends kn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ff=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jv=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uv=class extends kn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bv=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class{constructor(e){this.route=e,this.type=Vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qv=class{constructor(e){this.route=e,this.type=Vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zv=class{constructor(e){this.snapshot=e,this.type=Vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gv=class{constructor(e){this.snapshot=e,this.type=Vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wv=class{constructor(e){this.snapshot=e,this.type=Vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kv=class{constructor(e){this.snapshot=e,this.type=Vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var $u=class{},Fa=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function aV(n,e){return n.providers&&!n._injector&&(n._injector=dv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jn(n){return n.outlet||ye}function cV(n,e){let t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function Ku(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Qv=class{get injector(){return Ku(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Hf(this.rootInjector),this.attachRef=null}},Hf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Qv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ne(tn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Yv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Yv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Zv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zv(e,this._root).map(t=>t.value)}};function Yv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Yv(n,t);if(r)return r}return null}function Zv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Zv(n,t);if(r.length)return r.unshift(e),r}return[]}var yn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ma(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vf=class extends Lf{constructor(e,t){super(e),this.snapshot=t,aw(this,e)}toString(){return this.snapshot.toString()}};function HT(n){let e=uV(n),t=new Ft([new Zo("",{})]),r=new Ft({}),i=new Ft({}),o=new Ft({}),s=new Ft(""),a=new La(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new Vf(new yn(a,[]),e)}function uV(n){let e={},t={},r={},i="",o=new Pa([],e,r,i,t,ye,n,null,{});return new Uf("",new yn(o,[]))}var La=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(d=>d[Wu]))??ue(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>ka(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>ka(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&zT(i)&&(r.resolve[Wu]=i.title),r}var Pa=class{get title(){return this.data?.[Wu]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ka(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Uf=class extends Lf{constructor(e,t){super(t),this.url=e,aw(this,t)}toString(){return qT(this._root)}};function aw(n,e){e.value._routerState=n,e.children.forEach(t=>aw(n,t))}function qT(n){let e=n.children.length>0?` { ${n.children.map(qT).join(", ")} } `:"";return`${n.value}${e}`}function Mv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),wr(e.params,t.params)||n.paramsSubject.next(t.params),FL(e.url,t.url)||n.urlSubject.next(t.url),wr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Jv(n,e){let t=wr(n.params,e.params)&&UL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Jv(n.parent,e.parent))}function zT(n){return typeof n.title=="string"||n.title===null}var cw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=q(Hf),this.location=q(_a),this.changeDetector=q(Qo),this.inputBinder=q(uw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Xv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pn]})}}return n})(),Xv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===La?this.route:e===Hf?this.childContexts:this.parent.get(e,t)}},uw=new X("");function lV(n,e,t){let r=Hu(n,e._root,t?t._root:void 0);return new Vf(r,e)}function Hu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=dV(n,e,t);return new yn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Hu(n,a)),s}}let r=hV(e.value),i=e.children.map(o=>Hu(n,o));return new yn(r,i)}}function dV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hu(n,r,i);return Hu(n,r)})}function hV(n){return new La(new Ft(n.url),new Ft(n.params),new Ft(n.queryParams),new Ft(n.fragment),new Ft(n.data),n.outlet,n.component,n)}var qu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GT="ngNavigationCancelingError";function Bf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Vu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WT(!1,vn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function WT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[GT]=!0,t.cancellationCode=e,t}function fV(n){return KT(n)&&Vu(n.url)}function KT(n){return!!n&&n[GT]}var pV=(n,e,t,r)=>le(i=>(new ew(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ew=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ma(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ma(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Mv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$f=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Oa=class{constructor(e,t){this.component=e,this.route=t}};function mV(n,e,t){let r=n._root,i=e?e._root:null;return Nu(r,i,t,[r.value])}function gV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ja(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!kb(n)?n:e.get(n):r}function Nu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ma(e);return n.children.forEach(s=>{yV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fu(a,t.getContext(s),i)),i}function yV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=vV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $f(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Nu(n,e,a?a.children:null,r,i):Nu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oa(a.outlet.component,s))}else s&&Fu(e,a,i),i.canActivateChecks.push(new $f(r)),o.component?Nu(n,null,a?a.children:null,r,i):Nu(n,null,t,r,i);return i}function vV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!wr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jv(n,e)||!wr(n.queryParams,e.queryParams);case"paramsChange":default:return!Jv(n,e)}}function Fu(n,e,t){let r=Ma(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fu(s,e.children.getContext(o),t):Fu(s,null,t):Fu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Oa(e.outlet.component,i)):t.canDeactivateChecks.push(new Oa(null,i)):t.canDeactivateChecks.push(new Oa(null,i))}function Qu(n){return typeof n=="function"}function wV(n){return typeof n=="boolean"}function _V(n){return n&&Qu(n.canLoad)}function IV(n){return n&&Qu(n.canActivate)}function EV(n){return n&&Qu(n.canActivateChild)}function bV(n){return n&&Qu(n.canDeactivate)}function CV(n){return n&&Qu(n.canMatch)}function QT(n){return n instanceof Vr||n?.name==="EmptyError"}var Rf=Symbol("INITIAL_VALUE");function Va(){return fn(n=>dh(n.map(e=>e.pipe(jr(1),mh(Rf)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===Rf)return Rf;if(t===!1||DV(t))return t}return!0}),en(e=>e!==Rf),jr(1)))}function DV(n){return Vu(n)||n instanceof qu}function TV(n,e){return Ct(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ue(Ie(z({},t),{guardsResult:!0})):SV(s,r,i,n).pipe(Ct(a=>a&&wV(a)?AV(r,o,n,e):ue(a)),le(a=>Ie(z({},t),{guardsResult:a})))})}function SV(n,e,t,r){return et(n).pipe(Ct(i=>PV(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function AV(n,e,t,r){return et(e).pipe(ki(i=>Js(RV(i.route.parent,r),xV(i.route,r),NV(n,i.path,t),MV(n,i.route,t))),lr(i=>i!==!0,!0))}function xV(n,e){return n!==null&&e&&e(new Wv(n)),ue(!0)}function RV(n,e){return n!==null&&e&&e(new zv(n)),ue(!0)}function MV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(o=>hh(()=>{let s=Ku(e)??t,a=ja(o,s),u=IV(a)?a.canActivate(e,n):Yn(s,()=>a(e,n));return Yi(u).pipe(lr())}));return ue(i).pipe(Va())}function NV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>gV(s)).filter(s=>s!==null).map(s=>hh(()=>{let a=s.guards.map(u=>{let d=Ku(s.node)??t,m=ja(u,d),p=EV(m)?m.canActivateChild(r,n):Yn(d,()=>m(r,n));return Yi(p).pipe(lr())});return ue(a).pipe(Va())}));return ue(o).pipe(Va())}function PV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let u=Ku(e)??i,d=ja(a,u),m=bV(d)?d.canDeactivate(n,e,t,r):Yn(u,()=>d(n,e,t,r));return Yi(m).pipe(lr())});return ue(s).pipe(Va())}function OV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let o=i.map(s=>{let a=ja(s,n),u=_V(a)?a.canLoad(e,t):Yn(n,()=>a(e,t));return Yi(u)});return ue(o).pipe(Va(),YT(r))}function YT(n){return Gd(mt(e=>{if(typeof e!="boolean")throw Bf(n,e)}),le(e=>e===!0))}function kV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let o=i.map(s=>{let a=ja(s,n),u=CV(a)?a.canMatch(e,t):Yn(n,()=>a(e,t));return Yi(u)});return ue(o).pipe(Va(),YT(r))}var zu=class{constructor(e){this.segmentGroup=e||null}},Gu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ra(n){return Zs(new zu(n))}function FV(n){return Zs(new te(4e3,!1))}function LV(n){return Zs(WT(!1,vn.GuardRejected))}var tw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[ye])return FV(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:m,url:p,outlet:_,params:E,data:M,title:L}=i,P=Yn(o,()=>a({params:E,data:M,queryParams:u,fragment:d,routeConfig:m,url:p,outlet:_,title:L}));if(P instanceof Jr)throw new Gu(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Gu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Jr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},nw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VV(n,e,t,r,i){let o=ZT(n,e,t);return o.matched?(r=aV(e,r),kV(r,e,t,i).pipe(le(s=>s===!0?o:z({},nw)))):ue(o)}function ZT(n,e,t){if(e.path==="**")return jV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},nw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kL)(t,n,e);if(!i)return z({},nw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jV(n){return{matched:!0,parameters:n.length>0?RT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function TT(n,e,t,r){return t.length>0&&$V(n,t,r)?{segmentGroup:new Be(e,BV(r,new Be(t,n.children))),slicedSegments:[]}:t.length===0&&HV(n,t,r)?{segmentGroup:new Be(n.segments,UV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Be(n.segments,n.children),slicedSegments:t}}function UV(n,e,t,r){let i={};for(let o of t)if(qf(n,e,o)&&!r[Jn(o)]){let s=new Be([],{});i[Jn(o)]=s}return z(z({},r),i)}function BV(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Jn(r)!==ye){let i=new Be([],{});t[Jn(r)]=i}return t}function $V(n,e,t){return t.some(r=>qf(n,e,r)&&Jn(r)!==ye)}function HV(n,e,t){return t.some(r=>qf(n,e,r))}function qf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function qV(n,e,t){return e.length===0&&!n.children[t]}var rw=class{};function zV(n,e,t,r,i,o,s="emptyOnly"){return new iw(n,e,t,r,i,s,o).recognize()}var GV=31,iw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new tw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=TT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new yn(r,t),o=new Uf("",i),s=eV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Pa([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(le(r=>({children:r,rootSnapshot:t})),Oi(r=>{if(r instanceof Gu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof yn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return et(o).pipe(ki(s=>{let a=r.children[s],u=cV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ph((s,a)=>(s.push(...a),s)),Fi(null),Pg(),Ct(s=>{if(s===null)return Ra(r);let a=JT(s);return WV(a),ue(a)}))}processSegment(e,t,r,i,o,s,a){return et(t).pipe(ki(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Oi(d=>{if(d instanceof zu)return ue(null);throw d}))),lr(u=>!!u),Oi(u=>{if(QT(u))return qV(r,i,o)?ue(new rw):Ra(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Jn(r)!==s&&(s===ye||!qf(i,o,r))?Ra(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ra(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:m,positionalParamSegments:p,remainingSegments:_}=ZT(t,i,o);if(!u)return Ra(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GV&&(this.allowRedirects=!1));let E=new Pa(o,d,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,ST(i),Jn(i),i.component??i._loadedComponent??null,i,AT(i)),M=jf(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let L=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,p,E,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(Ct(P=>this.processSegment(e,r,t,P.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=VV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(fn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(fn(({routes:d})=>{let m=r._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:E}=u,M=new Pa(_,p,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,ST(r),Jn(r),r.component??r._loadedComponent??null,r,AT(r)),L=jf(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data);let{segmentGroup:P,slicedSegments:B}=TT(t,_,E,d);if(B.length===0&&P.hasChildren())return this.processChildren(m,d,P,M).pipe(le(Q=>new yn(M,Q)));if(d.length===0&&B.length===0)return ue(new yn(M,[]));let J=Jn(r)===o;return this.processSegment(m,d,P,B,J?ye:o,!0,M).pipe(le(Q=>new yn(M,Q instanceof yn?[Q]:[])))}))):Ra(t)))}getChildConfig(e,t,r){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):OV(e,t,r,this.urlSerializer).pipe(Ct(i=>i?this.configLoader.loadChildren(e,t).pipe(mt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):LV(t))):ue({routes:[],injector:e})}};function WV(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function KV(n){let e=n.value.routeConfig;return e&&e.path===""}function JT(n){let e=[],t=new Set;for(let r of n){if(!KV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=JT(r.children);e.push(new yn(r.value,i))}return e.filter(r=>!t.has(r))}function ST(n){return n.data||{}}function AT(n){return n.resolve||{}}function QV(n,e,t,r,i,o){return Ct(s=>zV(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>Ie(z({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function YV(n,e){return Ct(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ue(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of XT(u))s.add(d);let a=0;return et(s).pipe(ki(u=>o.has(u)?ZV(u,r,n,e):(u.data=jf(u,u.parent,n).resolve,ue(void 0))),mt(()=>a++),Xs(1),Ct(u=>a===s.size?ue(t):hn))})}function XT(n){let e=n.children.map(t=>XT(t)).flat();return[n,...e]}function ZV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zT(i)&&(o[Wu]=i.title),JV(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=jf(n,n.parent,t).resolve,null)))}function JV(n,e,t,r){let i=Ov(n);if(i.length===0)return ue({});let o={};return et(i).pipe(Ct(s=>XV(n[s],e,t,r).pipe(lr(),mt(a=>{if(a instanceof qu)throw Bf(new Lu,a);o[s]=a}))),Xs(1),Ng(o),Oi(s=>QT(s)?hn:Zs(s)))}function XV(n,e,t,r){let i=Ku(e)??r,o=ja(n,i),s=o.resolve?o.resolve(e,t):Yn(i,()=>o(e,t));return Yi(s)}function Nv(n){return fn(e=>{let t=n(e);return t?et(t).pipe(le(()=>e)):ue(e)})}var eS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[Wu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(e2),providedIn:"root"})}}return n})(),e2=(()=>{class n extends eS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ne(IT))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lw=new X("",{providedIn:"root",factory:()=>({})}),t2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=je({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(r,i){r&1&&He(0,"router-outlet")},dependencies:[cw],encapsulation:2})}}return n})();function dw(n){let e=n.children&&n.children.map(dw),t=e?Ie(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=t2),t}var hw=new X(""),n2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(hv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ue(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yi(t.loadComponent()).pipe(le(tS),mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Lo(()=>{this.componentLoaders.delete(t)})),i=new Ws(r,()=>new kt).pipe(Gs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=r2(r,this.compiler,t,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(r)})),s=new Ws(o,()=>new kt).pipe(Gs());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function r2(n,e,t,r){return Yi(n.loadChildren()).pipe(le(tS),Ct(i=>i instanceof fu||Array.isArray(i)?ue(i):et(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(hw,[],{optional:!0,self:!0}).flat()),{routes:s.map(dw),injector:o}}))}function i2(n){return n&&typeof n=="object"&&"default"in n}function tS(n){return i2(n)?n.default:n}var fw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(o2),providedIn:"root"})}}return n})(),o2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),s2=new X("");var a2=new X(""),c2=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kt,this.transitionAbortSubject=new kt,this.configLoader=q(n2),this.environmentInjector=q(tn),this.urlSerializer=q(sw),this.rootContexts=q(Hf),this.location=q(Eu),this.inputBindingEnabled=q(uw,{optional:!0})!==null,this.titleStrategy=q(eS),this.options=q(lw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(fw),this.createViewTransition=q(s2,{optional:!0}),this.navigationErrorHandler=q(a2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Hv(i)),r=i=>this.events.next(new qv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ie(z(z({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ku,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(en(o=>o.id!==0),le(o=>Ie(z({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),fn(o=>{let s=!1,a=!1;return ue(o).pipe(fn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),hn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&m!=="reload"){let p="";return this.events.next(new es(u.id,this.urlSerializer.serialize(u.rawUrl),p,Vv.IgnoredSameUrlNavigation)),u.resolve(!1),hn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ue(u).pipe(fn(p=>{let _=this.transitions?.getValue();return this.events.next(new Uu(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?hn:Promise.resolve(p)}),QV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ie(z({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new Ff(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:_,source:E,restoredState:M,extras:L}=u,P=new Uu(p,this.urlSerializer.serialize(_),E,M);this.events.next(P);let B=HT(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(z({},u),{targetSnapshot:B,urlAfterRedirects:_,extras:Ie(z({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ue(o)}else{let p="";return this.events.next(new es(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Vv.IgnoredByUrlHandlingStrategy)),u.resolve(!1),hn}}),mt(u=>{let d=new jv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),le(u=>(this.currentTransition=o=Ie(z({},u),{guards:mV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),TV(this.environmentInjector,u=>this.events.next(u)),mt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Bf(this.urlSerializer,u.guardsResult);let d=new Uv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),en(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",vn.GuardRejected),!1)),Nv(u=>{if(u.guards.canActivateChecks.length)return ue(u).pipe(mt(d=>{let m=new Bv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),fn(d=>{let m=!1;return ue(d).pipe(YV(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(d,"",vn.NoDataFromResolver)}}))}),mt(d=>{let m=new $v(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}))}),Nv(u=>{let d=m=>{let p=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(m.routeConfig).pipe(mt(_=>{m.component=_}),le(()=>{})));for(let _ of m.children)p.push(...d(_));return p};return dh(d(u.targetSnapshot.root)).pipe(Fi(null),jr(1))}),Nv(()=>this.afterPreactivation()),fn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,m=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return m?et(m).pipe(le(()=>o)):ue(o)}),le(u=>{let d=lV(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ie(z({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),mt(()=>{this.events.next(new $u)}),pV(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),jr(1),mt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Og(this.transitionAbortSubject.pipe(mt(u=>{throw u}))),Lo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Oi(u=>{if(a=!0,KT(u))this.events.next(new Zr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),fV(u)?this.events.next(new Fa(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Bu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let m=Yn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(m instanceof qu){let{message:p,cancellationCode:_}=Bf(this.urlSerializer,m);this.events.next(new Zr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,_)),this.events.next(new Fa(m.redirectTo,m.navigationBehaviorOptions))}else{this.events.next(d);let p=t.errorHandler(u);o.resolve(!!p)}}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return hn}))}))}cancelNavigationTransition(t,r,i){let o=new Zr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function u2(n){return n!==ku}var l2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(d2),providedIn:"root"})}}return n})(),ow=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},d2=(()=>{class n extends ow{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>q(h2),providedIn:"root"})}}return n})(),h2=(()=>{class n extends nS{constructor(){super(...arguments),this.location=q(Eu),this.urlSerializer=q(sw),this.options=q(lw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=HT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Uu)this.stateMemento=this.createStateMemento();else if(t instanceof es)this.rawUrlTree=r.initialUrl;else if(t instanceof Ff){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof $u?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Zr&&(t.code===vn.GuardRejected||t.code===vn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Bu?this.restoreHistory(r,!0):t instanceof Xo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Jr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=z(z({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=z(z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pu||{});function f2(n,e){n.events.pipe(en(t=>t instanceof Xo||t instanceof Zr||t instanceof Bu||t instanceof es),le(t=>t instanceof Xo||t instanceof es?Pu.COMPLETE:(t instanceof Zr?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?Pu.REDIRECTING:Pu.FAILED),en(t=>t!==Pu.REDIRECTING),jr(1)).subscribe(()=>{e()})}function p2(n){throw n}var m2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_r=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(yf),this.stateManager=q(nS),this.options=q(lw,{optional:!0})||{},this.pendingTasks=q(qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(c2),this.urlSerializer=q(sw),this.location=q(Eu),this.urlHandlingStrategy=q(fw),this._events=new kt,this.errorHandler=this.options.errorHandler||p2,this.navigated=!1,this.routeReuseStrategy=q(l2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(hw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(uw,{optional:!0}),this.eventsSubscription=new st,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Zr&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xo)this.navigated=!0;else if(r instanceof Fa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||u2(i.source)},s);this.scheduleNavigation(a,ku,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}v2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ku,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=z({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,m=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":m=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let p;try{let _=i?i.snapshot:this.routerState.snapshot.root;p=jT(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return UT(p,t,m,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Vu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ku,null,r)}navigate(t,r={skipLocationChange:!1}){return y2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},m2):r===!1?i=z({},g2):i=r,Vu(t))return ET(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ET(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,_)=>{a=p,u=_});let m=this.pendingTasks.add();return f2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function y2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function v2(n){return!(n instanceof $u)&&!(n instanceof Fa)}var w2=new X("");function rS(n,...e){return Mn([{provide:hw,multi:!0,useValue:n},[],{provide:La,useFactory:_2,deps:[_r]},{provide:vf,multi:!0,useFactory:I2},e.map(t=>t.\u0275providers)])}function _2(n){return n.routerState.root}function I2(){let n=q(nn);return e=>{let t=n.get(Gi);if(e!==t.components[0])return;let r=n.get(_r),i=n.get(E2);n.get(b2)===1&&r.initialNavigation(),n.get(C2,null,_e.Optional)?.setUpPreloading(),n.get(w2,null,_e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var E2=new X("",{factory:()=>new kt}),b2=new X("",{providedIn:"root",factory:()=>1});var C2=new X("");var fS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(K(zi),K(Kr))}}static{this.\u0275dir=Ke({type:n})}}return n})(),nl=(()=>{class n extends fS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,features:[Lt]})}}return n})(),ns=new X(""),D2={provide:ns,useExisting:Qt(()=>ww),multi:!0},ww=(()=>{class n extends nl{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[mn([D2]),Lt]})}}return n})(),T2={provide:ns,useExisting:Qt(()=>Fn),multi:!0};function S2(){let n=Qr()?Qr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var A2=new X(""),Fn=(()=>{class n extends fS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!S2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(K(zi),K(Kr),K(A2,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[mn([T2]),Lt]})}}return n})();function Zi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function pS(n){return n!=null&&typeof n.length=="number"}var rs=new X(""),tp=new X(""),x2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$e=class{static min(e){return R2(e)}static max(e){return M2(e)}static required(e){return mS(e)}static requiredTrue(e){return N2(e)}static email(e){return gS(e)}static minLength(e){return yS(e)}static maxLength(e){return P2(e)}static pattern(e){return O2(e)}static nullValidator(e){return Wf(e)}static compose(e){return bS(e)}static composeAsync(e){return CS(e)}};function R2(n){return e=>{if(Zi(e.value)||Zi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function M2(n){return e=>{if(Zi(e.value)||Zi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function mS(n){return Zi(n.value)?{required:!0}:null}function N2(n){return n.value===!0?null:{required:!0}}function gS(n){return Zi(n.value)||x2.test(n.value)?null:{email:!0}}function yS(n){return e=>Zi(e.value)||!pS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function P2(n){return e=>pS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function O2(n){if(!n)return Wf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Zi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Wf(n){return null}function vS(n){return n!=null}function wS(n){return Ko(n)?et(n):n}function _S(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function IS(n,e){return e.map(t=>t(n))}function k2(n){return!n.validate}function ES(n){return n.map(e=>k2(e)?e:t=>e.validate(t))}function bS(n){if(!n)return null;let e=n.filter(vS);return e.length==0?null:function(t){return _S(IS(t,e))}}function _w(n){return n!=null?bS(ES(n)):null}function CS(n){if(!n)return null;let e=n.filter(vS);return e.length==0?null:function(t){let r=IS(t,e).map(wS);return Mg(r).pipe(le(_S))}}function Iw(n){return n!=null?CS(ES(n)):null}function iS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DS(n){return n._rawValidators}function TS(n){return n._rawAsyncValidators}function pw(n){return n?Array.isArray(n)?n:[n]:[]}function Kf(n,e){return Array.isArray(n)?n.includes(e):n===e}function oS(n,e){let t=pw(e);return pw(n).forEach(i=>{Kf(t,i)||t.push(i)}),t}function sS(n,e){return pw(e).filter(t=>!Kf(n,t))}var Qf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_w(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Iw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Xr=class extends Qf{get formDirective(){return null}get path(){return null}},ts=class extends Qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},F2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},y7=Ie(z({},F2),{"[class.ng-submitted]":"isSubmitted"}),Ir=(()=>{class n extends Yf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(K(ts,2))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Lt]})}}return n})(),Xi=(()=>{class n extends Yf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Xr,10))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Lt]})}}return n})();var Yu="VALID",Gf="INVALID",Ua="PENDING",Zu="DISABLED",Ji=class{},Zf=class extends Ji{constructor(e,t){super(),this.value=e,this.source=t}},Xu=class extends Ji{constructor(e,t){super(),this.pristine=e,this.source=t}},el=class extends Ji{constructor(e,t){super(),this.touched=e,this.source=t}},Ba=class extends Ji{constructor(e,t){super(),this.status=e,this.source=t}},mw=class extends Ji{constructor(e){super(),this.source=e}},gw=class extends Ji{constructor(e){super(),this.source=e}};function Ew(n){return(np(n)?n.validators:n)||null}function L2(n){return Array.isArray(n)?_w(n):n||null}function bw(n,e){return(np(e)?e.asyncValidators:n)||null}function V2(n){return Array.isArray(n)?Iw(n):n||null}function np(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function SS(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function AS(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var $a=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Sa(()=>this.statusReactive()),this.statusReactive=Ea(void 0),this._pristine=Sa(()=>this.pristineReactive()),this.pristineReactive=Ea(!0),this._touched=Sa(()=>this.touchedReactive()),this.touchedReactive=Ea(!1),this._events=new kt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}get valid(){return this.status===Yu}get invalid(){return this.status===Gf}get pending(){return this.status==Ua}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sS(e,this._rawAsyncValidators))}hasValidator(e){return Kf(this._rawValidators,e)}hasAsyncValidator(e){return Kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ie(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new el(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new el(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ie(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xu(!0,r))}markAsPending(e={}){this.status=Ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ba(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ie(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(i=>{i.disable(Ie(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zf(this.value,r)),this._events.next(new Ba(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(Ie(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Ua)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zf(this.value,t)),this._events.next(new Ba(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ie(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=wS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ba(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(Gf)?Gf:Yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Xu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new el(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){np(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=L2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V2(this._rawAsyncValidators)}},Ha=class extends $a{constructor(e,t,r){super(Ew(t),bw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AS(this,!0,e),Object.keys(e).forEach(r=>{SS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yw=class extends Ha{};var rl=new X("CallSetDisabledState",{providedIn:"root",factory:()=>rp}),rp="always";function xS(n,e){return[...e.path,n]}function Jf(n,e,t=rp){Cw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),U2(n,e),$2(n,e),B2(n,e),j2(n,e)}function aS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ep(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function j2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Cw(n,e){let t=DS(n);e.validator!==null?n.setValidators(iS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=TS(n);e.asyncValidator!==null?n.setAsyncValidators(iS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Xf(e._rawValidators,i),Xf(e._rawAsyncValidators,i)}function ep(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=DS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=TS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Xf(e._rawValidators,r),Xf(e._rawAsyncValidators,r),t}function U2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&RS(n,e)})}function B2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&RS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function RS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MS(n,e){n==null,Cw(n,e)}function H2(n,e){return ep(n,e)}function NS(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function q2(n){return Object.getPrototypeOf(n.constructor)===nl}function PS(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function OS(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Fn?t=o:q2(o)?r=o:i=o}),i||r||t||null}function z2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var G2={provide:Xr,useExisting:Qt(()=>Dw)},Ju=Promise.resolve(),Dw=(()=>{class n extends Xr{get submitted(){return vr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Sa(()=>this.submittedReactive()),this.submittedReactive=Ea(!1),this._directives=new Set,this.ngSubmit=new Le,this.form=new Ha({},_w(t),Iw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ju.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Jf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ju.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ju.then(()=>{let r=this._findContainer(t.path),i=new Ha({});MS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ju.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ju.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),PS(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(K(rs,10),K(tp,10),K(rl,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mn([G2]),Lt]})}}return n})();function cS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var tl=class extends $a{constructor(e=null,t,r){super(Ew(t),bw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),np(t)&&(t.nonNullable||t.initialValueIsDefault)&&(uS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var W2=n=>n instanceof tl;var K2={provide:ts,useExisting:Qt(()=>il)},lS=Promise.resolve(),il=(()=>{class n extends ts{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new tl,this._registered=!1,this.name="",this.update=new Le,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OS(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),NS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ta(r);lS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?xS(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(K(Xr,9),K(rs,10),K(tp,10),K(ns,10),K(Qo,8),K(rl,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mn([K2]),Lt,pn]})}}return n})(),eo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Q2={provide:ns,useExisting:Qt(()=>is),multi:!0},is=(()=>{class n extends nl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[mn([Q2]),Lt]})}}return n})();var kS=new X("");var Y2={provide:Xr,useExisting:Qt(()=>os)},os=(()=>{class n extends Xr{get submitted(){return vr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Sa(()=>this._submittedReactive()),this._submittedReactive=Ea(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ep(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Jf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){aS(t.control||null,t,!1),z2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),PS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new mw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new gw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(aS(r||null,t),W2(i)&&(Jf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);MS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&H2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cw(this.form,this),this._oldForm&&ep(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(K(rs,10),K(tp,10),K(rl,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mn([Y2]),Lt,pn]})}}return n})();var Z2={provide:ts,useExisting:Qt(()=>ss)},ss=(()=>{class n extends ts{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OS(this,o)}ngOnChanges(t){this._added||this._setUpControl(),NS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return xS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(K(Xr,13),K(rs,10),K(tp,10),K(ns,10),K(kS,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[mn([Z2]),Lt,pn]})}}return n})(),J2={provide:ns,useExisting:Qt(()=>qa),multi:!0};function FS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function X2(n){return n.split(":")[0]}var qa=(()=>{class n extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=FS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=X2(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[mn([J2]),Lt]})}}return n})(),ip=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(K(Kr),K(zi),K(qa,9))}}static{this.\u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),ej={provide:ns,useExisting:Qt(()=>LS),multi:!0};function dS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function tj(n){return n.split(":")[0]}var LS=(()=>{class n extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=tj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[mn([ej]),Lt]})}}return n})(),op=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(dS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(K(Kr),K(zi),K(LS,9))}}static{this.\u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function nj(n){return typeof n=="number"?n:parseInt(n,10)}var Tw=(()=>{class n{constructor(){this._validator=Wf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,features:[pn]})}}return n})();var rj={provide:rs,useExisting:Qt(()=>ei),multi:!0};var ei=(()=>{class n extends Tw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ta,this.createValidator=t=>mS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&wu("required",i._enabled?"":null)},inputs:{required:"required"},features:[mn([rj]),Lt]})}}return n})();var ij={provide:rs,useExisting:Qt(()=>Sw),multi:!0},Sw=(()=>{class n extends Tw{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Ta,this.createValidator=t=>gS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[mn([ij]),Lt]})}}return n})(),oj={provide:rs,useExisting:Qt(()=>Aw),multi:!0},Aw=(()=>{class n extends Tw{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>nj(t),this.createValidator=t=>yS(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&wu("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[mn([oj]),Lt]})}}return n})();var VS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=zr({type:n})}static{this.\u0275inj=qr({})}}return n})(),vw=class extends $a{constructor(e,t,r){super(Ew(t),bw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){AS(this,!1,e),e.forEach((r,i)=>{SS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function hS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var za=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return hS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ha(i,o)}record(t,r=null){let i=this._reduceControls(t);return new yw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(hS(r)?o=r:(o.validators=r,o.asyncValidators=i),new tl(t,Ie(z({},o),{nonNullable:!0}))):new tl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new vw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof tl)return t;if(t instanceof $a)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ga=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rl,useValue:t.callSetDisabledState??rp}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=zr({type:n})}static{this.\u0275inj=qr({imports:[VS]})}}return n})(),Wa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:rl,useValue:t.callSetDisabledState??rp}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=zr({type:n})}static{this.\u0275inj=qr({imports:[VS]})}}return n})();var US=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,m=o>>2,p=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,s||(_=64)),r.push(t[m],t[p],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(US(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||p==null)throw new Rw;let _=o<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),p!==64){let M=d<<6&192|p;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Rw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aj=function(n){let e=US(n);return BS.encodeByteArray(e,!0)},sl=function(n){return aj(n).replace(/\./g,"")},Nw=function(n){try{return BS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uj=()=>cj().__FIREBASE_DEFAULTS__,lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Nw(n[1]);return e&&JSON.parse(e)},ap=()=>{try{return uj()||lj()||dj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Pw=n=>{var e,t;return(t=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$S=n=>{let e=Pw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ow=()=>{var n;return(n=ap())===null||n===void 0?void 0:n.config},kw=n=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${n}`]};var sp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function HS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sl(JSON.stringify(t)),sl(JSON.stringify(s)),""].join(".")}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function hj(){var n;let e=(n=ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){let n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QS(){return!hj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var fj="FirebaseError",wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}},ti=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function pj(n,e){return n.replace(mj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mj=/\{\$([^}]+)}/g;function ZS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function as(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(jS(o)&&jS(s)){if(!as(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function jS(n){return n!==null&&typeof n=="object"}function al(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ka(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JS(n,e){let t=new Mw(n,e);return t.subscribe.bind(t)}var Mw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xw),i.error===void 0&&(i.error=xw),i.complete===void 0&&(i.complete=xw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xw(){}var _7=4*60*60*1e3;function yt(n){return n&&n._delegate?n._delegate:n}var Ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cs="[DEFAULT]";var Lw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new sp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vj(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yj(n){return n===cs?void 0:n}function vj(n){return n.instantiationMode==="EAGER"}var cp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Lw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var wj=[],Te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Te||{}),_j={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Ij=Te.INFO,Ej={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},bj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Ej[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},to=class{constructor(e){this.name=e,this._logLevel=Ij,this._logHandler=bj,this._userLogHandler=null,wj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_j[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var Cj=(n,e)=>e.some(t=>n instanceof t),XS,eA;function Dj(){return XS||(XS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return eA||(eA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tA=new WeakMap,jw=new WeakMap,nA=new WeakMap,Vw=new WeakMap,Bw=new WeakMap;function Sj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Er(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tA.set(t,n)}).catch(()=>{}),Bw.set(e,n),e}function Aj(n){if(jw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jw.set(n,e)}var Uw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Er(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rA(n){Uw=n(Uw)}function xj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(up(this),e,...t);return nA.set(r,e.sort?e.sort():[e]),Er(r)}:Tj().includes(n)?function(...e){return n.apply(up(this),e),Er(tA.get(this))}:function(...e){return Er(n.apply(up(this),e))}}function Rj(n){return typeof n=="function"?xj(n):(n instanceof IDBTransaction&&Aj(n),Cj(n,Dj())?new Proxy(n,Uw):n)}function Er(n){if(n instanceof IDBRequest)return Sj(n);if(Vw.has(n))return Vw.get(n);let e=Rj(n);return e!==n&&(Vw.set(n,e),Bw.set(e,n)),e}var up=n=>Bw.get(n);function oA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Er(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Er(s.result),u.oldVersion,u.newVersion,Er(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Mj=["get","getKey","getAll","getAllKeys","count"],Nj=["put","add","delete","clear"],$w=new Map;function iA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($w.get(e))return $w.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Nj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mj.includes(t)))return;let o=function(s,...a){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return $w.set(e,o),o}rA(n=>Ie(z({},n),{get:(e,t,r)=>iA(e,t)||n.get(e,t,r),has:(e,t)=>!!iA(e,t)||n.has(e,t)}));var qw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Pj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Pj(n){let e=n.getComponent();return e?.type==="VERSION"}var zw="@firebase/app",sA="0.10.13";var ni=new to("@firebase/app"),Oj="@firebase/app-compat",kj="@firebase/analytics-compat",Fj="@firebase/analytics",Lj="@firebase/app-check-compat",Vj="@firebase/app-check",jj="@firebase/auth",Uj="@firebase/auth-compat",Bj="@firebase/database",$j="@firebase/data-connect",Hj="@firebase/database-compat",qj="@firebase/functions",zj="@firebase/functions-compat",Gj="@firebase/installations",Wj="@firebase/installations-compat",Kj="@firebase/messaging",Qj="@firebase/messaging-compat",Yj="@firebase/performance",Zj="@firebase/performance-compat",Jj="@firebase/remote-config",Xj="@firebase/remote-config-compat",eU="@firebase/storage",tU="@firebase/storage-compat",nU="@firebase/firestore",rU="@firebase/vertexai-preview",iU="@firebase/firestore-compat",oU="firebase",sU="10.14.1";var Gw="[DEFAULT]",aU={[zw]:"fire-core",[Oj]:"fire-core-compat",[Fj]:"fire-analytics",[kj]:"fire-analytics-compat",[Vj]:"fire-app-check",[Lj]:"fire-app-check-compat",[jj]:"fire-auth",[Uj]:"fire-auth-compat",[Bj]:"fire-rtdb",[$j]:"fire-data-connect",[Hj]:"fire-rtdb-compat",[qj]:"fire-fn",[zj]:"fire-fn-compat",[Gj]:"fire-iid",[Wj]:"fire-iid-compat",[Kj]:"fire-fcm",[Qj]:"fire-fcm-compat",[Yj]:"fire-perf",[Zj]:"fire-perf-compat",[Jj]:"fire-rc",[Xj]:"fire-rc-compat",[eU]:"fire-gcs",[tU]:"fire-gcs-compat",[nU]:"fire-fst",[iU]:"fire-fst-compat",[rU]:"fire-vertex","fire-js":"fire-js",[oU]:"fire-js-all"};var cl=new Map,cU=new Map,Ww=new Map;function aA(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ro(n){let e=n.name;if(Ww.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ww.set(e,n);for(let t of cl.values())aA(t,n);for(let t of cU.values())aA(t,n);return!0}function ll(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function br(n){return n.settings!==void 0}var uU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new ti("app","Firebase",uU);var Kw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}};var io=sU;function Zw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=Ow()),!t)throw no.create("no-options");let o=cl.get(i);if(o){if(as(t,o.options)&&as(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}let s=new cp(i);for(let u of Ww.values())s.addComponent(u);let a=new Kw(t,r,s);return cl.set(i,a),a}function Ya(n=Gw){let e=cl.get(n);if(!e&&n===Gw&&Ow())return Zw();if(!e)throw no.create("no-app",{appName:n});return e}function lp(){return Array.from(cl.values())}function Dt(n,e,t){var r;let i=(r=aU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}ro(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lU="firebase-heartbeat-database",dU=1,ul="firebase-heartbeat-store",Hw=null;function dA(){return Hw||(Hw=oA(lU,dU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),Hw}function hU(n){return D(this,null,function*(){try{let t=(yield dA()).transaction(ul),r=yield t.objectStore(ul).get(hA(n));return yield t.done,r}catch(e){if(e instanceof wn)ni.warn(e.message);else{let t=no.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}})}function cA(n,e){return D(this,null,function*(){try{let r=(yield dA()).transaction(ul,"readwrite");yield r.objectStore(ul).put(e,hA(n)),yield r.done}catch(t){if(t instanceof wn)ni.warn(t.message);else{let r=no.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}})}function hA(n){return`${n.name}!${n.options.appId}`}var fU=1024,pU=30*24*60*60*1e3,Qw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Yw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=pU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ni.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=uA(),{heartbeatsToSend:r,unsentEntries:i}=mU(this._heartbeatsCache.heartbeats),o=sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ni.warn(t),""}})}};function uA(){return new Date().toISOString().substring(0,10)}function mU(n,e=fU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Yw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Fw()?YS().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield hU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lA(n){return sl(JSON.stringify({version:2,heartbeats:n})).length}function gU(n){ro(new Ln("platform-logger",e=>new qw(e),"PRIVATE")),ro(new Ln("heartbeat",e=>new Qw(e),"PRIVATE")),Dt(zw,sA,n),Dt(zw,sA,"esm2017"),Dt("fire-js","")}gU("");var yU="firebase",vU="10.14.1";Dt(yU,vU,"app");var ls=new Hr("ANGULARFIRE2_VERSION");function hp(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var dl=(n,e)=>{let t=e?[e]:lp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ja=class{constructor(){return dl(wU)}},wU="app-check";function Za(){}var dp=class{zone;delegate;constructor(e,t=Sg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Jw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za)),t.pipe(mt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xa=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dp(Zone.current)),this.insideAngular=t.run(()=>new dp(Zone.current,Tg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ne(Ve))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function _U(n){return fp().ngZone.runOutsideAngular(()=>n())}function us(n){return fp().ngZone.run(()=>n())}function IU(n){return EU(fp())(n)}function EU(n){return function(t){return t=t.lift(new Jw(n.ngZone)),t.pipe(Pi(n.outsideAngular),Ni(n.insideAngular))}}var bU=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),us(()=>n.apply(void 0,r))},$t=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=us(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za))),r[o]=bU(r[o],t));let i=_U(()=>n.apply(this,r));if(!e)if(i instanceof we){let o=fp();return i.pipe(Pi(o.outsideAngular),Ni(o.insideAngular))}else return us(()=>i);return i instanceof we?i.pipe(IU):i instanceof Promise?us(()=>new Promise((o,s)=>i.then(a=>us(()=>o(a)),a=>us(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:us(()=>i)};var ri=class{constructor(e){return e}},ds=class{constructor(){return lp()}};function CU(n){return n&&n.length===1?n[0]:new ri(Ya())}var Xw=new X("angularfire2._apps"),DU={provide:ri,useFactory:CU,deps:[[new Yt,Xw]]},TU={provide:ds,deps:[[new Yt,Xw]]};function SU(n){return(e,t)=>{let r=t.get(yr);Dt("angularfire",ls.full,"core"),Dt("angularfire",ls.full,"app"),Dt("angular",FD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ri(i)}}function fA(n,...e){return Mn([DU,TU,{provide:Xw,useFactory:SU(n),multi:!0,deps:[Ve,nn,Xa,...e]}])}var pA=$t(Zw,!0);function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PA=NA,OA=new ti("auth","Firebase",NA());var wp=new to("@firebase/auth");function AU(n,...e){wp.logLevel<=Te.WARN&&wp.warn(`Auth (${io}): ${n}`,...e)}function mp(n,...e){wp.logLevel<=Te.ERROR&&wp.error(`Auth (${io}): ${n}`,...e)}function Dr(n,...e){throw I_(n,...e)}function hs(n,...e){return I_(n,...e)}function kA(n,e,t){let r=Object.assign(Object.assign({},PA()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function so(n){return kA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OA.create(n,...e)}function oe(n,e,...t){if(!n)throw I_(e,...t)}function ii(n){let e="INTERNAL ASSERTION FAILED: "+n;throw mp(e),new Error(e)}function ao(n,e){n||ii(e)}function r_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xU(){return mA()==="http:"||mA()==="https:"}function mA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function RU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xU()||GS()||"connection"in navigator)?navigator.onLine:!0}function MU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ao(t>e,"Short delay should be less than long delay!"),this.isMobile=qS()||WS()}get(){return RU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function E_(n,e){ao(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _p=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PU=new fs(3e4,6e4);function ms(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function co(o,s,a,u){return D(this,arguments,function*(n,e,t,r,i={}){return FA(n,i,()=>D(this,null,function*(){let d={},m={};r&&(e==="GET"?m=r:d={body:JSON.stringify(r)});let p=al(Object.assign({key:n.config.apiKey},m)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:e,headers:_},d);return zS()||(E.referrerPolicy="no-referrer"),_p.fetch()(LA(n,n.config.apiHost,t,p),E)}))})}function FA(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},NU),e);try{let i=new i_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw pp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw pp(n,"user-disabled",s);let m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw kA(n,m,d);Dr(n,m)}}catch(i){if(i instanceof wn)throw i;Dr(n,"network-request-failed",{message:String(i)})}})}function Rp(o,s,a,u){return D(this,arguments,function*(n,e,t,r,i={}){let d=yield co(n,e,t,r,i);return"mfaPendingCredential"in d&&Dr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function LA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?E_(n.config,i):`${n.config.apiScheme}://${i}`}function OU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var i_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hs(this.auth,"network-request-failed")),PU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hs(n,e,r);return i.customData._tokenResponse=t,i}function gA(n){return n!==void 0&&n.enterprise!==void 0}var o_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function kU(n,e){return D(this,null,function*(){return co(n,"GET","/v2/recaptchaConfig",ms(n,e))})}function FU(n,e){return D(this,null,function*(){return co(n,"POST","/v1/accounts:delete",e)})}function VA(n,e){return D(this,null,function*(){return co(n,"POST","/v1/accounts:lookup",e)})}function hl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function b_(n,e=!1){return D(this,null,function*(){let t=yt(n),r=yield t.getIdToken(e),i=C_(r);oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hl(e_(i.auth_time)),issuedAtTime:hl(e_(i.iat)),expirationTime:hl(e_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function e_(n){return Number(n)*1e3}function C_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nw(t);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yA(n){let e=C_(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pl(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof wn&&LU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function LU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var s_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ml=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ip(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield pl(n,VA(t,{idToken:r}));oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jA(o.providerUserInfo):[],a=VU(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,m=u?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ml(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,p)})}function D_(n){return D(this,null,function*(){let e=yt(n);yield Ip(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jA(n){return n.map(e=>{var{providerId:t}=e,r=Ag(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function jU(n,e){return D(this,null,function*(){let t=yield FA(n,{},()=>D(this,null,function*(){let r=al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=LA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_p.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function UU(n,e){return D(this,null,function*(){return co(n,"POST","/v2/accounts:revokeToken",ms(n,e))})}var fl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=yA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield jU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ii("not implemented")}};function oo(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ec=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ml(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield pl(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return b_(this,e)}reload(){return D_(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ip(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(br(this.auth.app))return Promise.reject(so(this.auth));let e=yield this.getIdToken();return yield pl(this,FU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,m;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,B=(d=t.createdAt)!==null&&d!==void 0?d:void 0,J=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Q,emailVerified:ae,isAnonymous:Ae,providerData:re,stsTokenManager:T}=t;oe(Q&&T,e,"internal-error");let I=fl.fromJSON(this.name,T);oe(typeof Q=="string",e,"internal-error"),oo(p,e.name),oo(_,e.name),oe(typeof ae=="boolean",e,"internal-error"),oe(typeof Ae=="boolean",e,"internal-error"),oo(E,e.name),oo(M,e.name),oo(L,e.name),oo(P,e.name),oo(B,e.name),oo(J,e.name);let b=new n({uid:Q,auth:e,email:_,emailVerified:ae,displayName:p,isAnonymous:Ae,photoURL:M,phoneNumber:E,tenantId:L,stsTokenManager:I,createdAt:B,lastLoginAt:J});return re&&Array.isArray(re)&&(b.providerData=re.map(S=>Object.assign({},S))),P&&(b._redirectEventId=P),b}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new fl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ip(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new fl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var vA=new Map;function oi(n){ao(n instanceof Function,"Expected a class definition");let e=vA.get(n);return e?(ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vA.set(n,e),e)}var BU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),a_=BU;function gp(n,e,t){return`firebase:${n}:${e}:${t}`}var Ep=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,o),this.fullPersistenceKey=gp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ec._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(oi(a_),e,r);let i=(yield Promise.all(t.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||oi(a_),s=gp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let m=yield d._get(s);if(m){let p=ec._fromJSON(e,m);d!==o&&(a=p),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>D(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function wA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(GA(e))return"Webos";if(BA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(qA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function UA(n=Mt()){return/firefox\//i.test(n)}function BA(n=Mt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(n=Mt()){return/crios\//i.test(n)}function HA(n=Mt()){return/iemobile/i.test(n)}function qA(n=Mt()){return/android/i.test(n)}function zA(n=Mt()){return/blackberry/i.test(n)}function GA(n=Mt()){return/webos/i.test(n)}function T_(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $U(n=Mt()){var e;return T_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HU(){return KS()&&document.documentMode===10}function WA(n=Mt()){return T_(n)||qA(n)||GA(n)||zA(n)||/windows phone/i.test(n)||HA(n)}function KA(n,e=[]){let t;switch(n){case"Browser":t=wA(Mt());break;case"Worker":t=`${wA(Mt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${io}/${r}`}var c_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qU(t){return D(this,arguments,function*(n,e={}){return co(n,"GET","/v2/passwordPolicy",ms(n,e))})}var zU=6,u_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:zU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var l_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bp(this),this.idTokenSubscription=new bp(this),this.beforeStateQueue=new c_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ep.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield VA(this,{idToken:e}),r=yield ec._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(br(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Ip(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=MU()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(br(this.app))return Promise.reject(so(this));let t=e?yt(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return br(this.app)?Promise.reject(so(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return br(this.app)?Promise.reject(so(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(oi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield qU(this),t=new u_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield UU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&oi(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield Ep.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&AU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function tc(n){return yt(n)}var bp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mp={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GU(n){Mp=n}function QA(n){return Mp.loadJS(n)}function WU(){return Mp.recaptchaEnterpriseScript}function KU(){return Mp.gapiScript}function YA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var QU="recaptcha-enterprise",YU="NO_RECAPTCHA",d_=class{constructor(e){this.type=QU,this.auth=tc(e)}verify(e="verify",t=!1){return D(this,null,function*(){function r(o){return D(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>D(this,null,function*(){kU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new o_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(YU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=WU();u.length!==0&&(u+=a),QA(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function _A(n,e,t,r=!1){return D(this,null,function*(){let i=new d_(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function IA(n,e,t,r){return D(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield _A(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>D(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield _A(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function S_(n,e){let t=ll(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(as(o,e??{}))return i;Dr(i,"already-initialized")}return t.initialize({options:e})}function ZU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(oi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function A_(n,e,t){let r=tc(n);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=ZA(e),{host:s,port:a}=JU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XU()}function ZA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JU(n){let e=ZA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:EA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:EA(s)}}}function EA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function XU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var gl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}};function eB(n,e){return D(this,null,function*(){return co(n,"POST","/v1/accounts:signUp",e)})}function tB(n,e){return D(this,null,function*(){return Rp(n,"POST","/v1/accounts:signInWithPassword",ms(n,e))})}function nB(n,e){return D(this,null,function*(){return Rp(n,"POST","/v1/accounts:signInWithEmailLink",ms(n,e))})}function rB(n,e){return D(this,null,function*(){return Rp(n,"POST","/v1/accounts:signInWithEmailLink",ms(n,e))})}var yl=class n extends gl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IA(e,t,"signInWithPassword",tB);case"emailLink":return nB(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}})}_linkToIdToken(e,t){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IA(e,r,"signUpPassword",eB);case"emailLink":return rB(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function t_(n,e){return D(this,null,function*(){return Rp(n,"POST","/v1/accounts:signInWithIdp",ms(n,e))})}function iB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oB(n){let e=Ka(Qa(n)).link,t=e?Ka(Qa(e)).deep_link_id:null,r=Ka(Qa(n)).deep_link_id;return(r?Ka(Qa(r)).link:null)||r||t||e||n}var Cp=class n{constructor(e){var t,r,i,o,s,a;let u=Ka(Qa(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(r=u.oobCode)!==null&&r!==void 0?r:null,p=iB((i=u.mode)!==null&&i!==void 0?i:null);oe(d&&m&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=m,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=oB(e);try{return new n(t)}catch{return null}}};var JA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return yl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Cp.parseLink(r);return oe(i,"argument-error"),yl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Dp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var h_=class extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var vl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(this,null,function*(){let o=yield ec._fromIdTokenResponse(e,r,i),s=bA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=bA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function bA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var f_=class n extends wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function XA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?f_._fromErrorAndOperation(n,o,e,r):o})}function sB(n,e,t=!1){return D(this,null,function*(){let r=yield pl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return vl._forOperation(n,"link",r)})}function aB(n,e,t=!1){return D(this,null,function*(){let{auth:r}=n;if(br(r.app))return Promise.reject(so(r));let i="reauthenticate";try{let o=yield pl(n,XA(r,i,e,n),t);oe(o.idToken,r,"internal-error");let s=C_(o.idToken);oe(s,r,"internal-error");let{sub:a}=s;return oe(n.uid===a,r,"user-mismatch"),vl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}})}function ex(n,e,t=!1){return D(this,null,function*(){if(br(n.app))return Promise.reject(so(n));let r="signIn",i=yield XA(n,r,e),o=yield vl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function x_(n,e){return D(this,null,function*(){return ex(tc(n),e)})}function cB(n){return D(this,null,function*(){let e=tc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function R_(n,e,t){return br(n.app)?Promise.reject(so(n)):x_(yt(n),JA.credential(e,t)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cB(n),r}))}function M_(n,e,t,r){return yt(n).onIdTokenChanged(e,t,r)}function N_(n,e,t){return yt(n).beforeAuthStateChanged(e,t)}function P_(n,e,t,r){return yt(n).onAuthStateChanged(e,t,r)}function O_(n){return yt(n).signOut()}var Tp="__sak";var Sp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uB=1e3,lB=10,dB=(()=>{class n extends Sp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);HU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return D(this,null,function*(){yield Ri(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return D(this,null,function*(){let r=yield Ri(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return D(this,null,function*(){yield Ri(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),tx=dB;var hB=(()=>{class n extends Sp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),k_=hB;function fB(n){return Promise.all(n.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var pB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return D(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(m=>D(this,null,function*(){return m(r.origin,s)})),d=yield fB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function nx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var p_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=nx("",20);i.port1.start();let m=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let _=p;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Cr(){return window}function mB(n){Cr().location.href=n}function rx(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}function gB(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vB(){return rx()?self:null}var ix="firebaseLocalStorageDb",wB=1,Ap="firebaseLocalStorage",ox="fbase_key",ps=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Np(n,e){return n.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function _B(){let n=indexedDB.deleteDatabase(ix);return new ps(n).toPromise()}function m_(){let n=indexedDB.open(ix,wB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ap,{keyPath:ox})}catch(i){t(i)}}),n.addEventListener("success",()=>D(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ap)?e(r):(r.close(),yield _B(),e(yield m_()))}))})}function CA(n,e,t){return D(this,null,function*(){let r=Np(n,!0).put({[ox]:e,value:t});return new ps(r).toPromise()})}function IB(n,e){return D(this,null,function*(){let t=Np(n,!1).get(e),r=yield new ps(t).toPromise();return r===void 0?null:r.value})}function DA(n,e){let t=Np(n,!0).delete(e);return new ps(t).toPromise()}var EB=800,bB=3,CB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield m_(),this.db)})}_withRetries(t){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>bB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return rx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=pB._getInstance(vB()),this.receiver._subscribe("keyChanged",(t,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var t,r;if(this.activeServiceWorker=yield gB(),!this.activeServiceWorker)return;this.sender=new p_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let t=yield m_();return yield CA(t,Tp,"1"),yield DA(t,Tp),!0}catch{}return!1})}_withPendingWrite(t){return D(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>CA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return D(this,null,function*(){let r=yield this._withRetries(i=>IB(i,t));return this.localCache[t]=r,r})}_remove(t){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>DA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return D(this,null,function*(){let t=yield this._withRetries(o=>{let s=Np(o,!1).getAll();return new ps(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),sx=CB;var fK=YA("rcb"),pK=new fs(3e4,6e4);function DB(n,e){return e?oi(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var wl=class extends gl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return t_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return t_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return t_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function TB(n){return ex(n.auth,new wl(n),n.bypassAuthState)}function SB(n){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),aB(t,new wl(n),n.bypassAuthState)}function AB(n){return D(this,null,function*(){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),sB(t,new wl(n),n.bypassAuthState)})}var g_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TB;case"linkViaPopup":case"linkViaRedirect":return AB;case"reauthViaPopup":case"reauthViaRedirect":return SB;default:Dr(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mK=new fs(2e3,1e4);var xB="pendingRedirect",yp=new Map,y_=class n extends g_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=yp.get(this.auth._key());if(!e){try{let r=(yield RB(this.resolver,this.auth))?yield Ri(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yp.set(this.auth._key(),e)}return this.bypassAuthState||yp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Ri(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ri(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function RB(n,e){return D(this,null,function*(){let t=PB(e),r=NB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function MB(n,e){yp.set(n._key(),e)}function NB(n){return oi(n._redirectPersistence)}function PB(n){return gp(xB,n.config.apiKey,n.name)}function OB(n,e,t=!1){return D(this,null,function*(){if(br(n.app))return Promise.reject(so(n));let r=tc(n),i=DB(r,e),s=yield new y_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var kB=10*60*1e3,v_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ax(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kB&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}};function TA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ax({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ax(n);default:return!1}}function LB(t){return D(this,arguments,function*(n,e={}){return co(n,"GET","/v1/projects",e)})}var VB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jB=/^https?/;function UB(n){return D(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield LB(n);for(let t of e)try{if(BB(t))return}catch{}Dr(n,"unauthorized-domain")})}function BB(n){let e=r_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!jB.test(t))return!1;if(VB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var $B=new fs(3e4,6e4);function SA(){let n=Cr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HB(n){return new Promise((e,t)=>{var r,i,o;function s(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),t(hs(n,"network-request-failed"))},timeout:$B.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Cr().gapi)===null||o===void 0)&&o.load)s();else{let a=YA("iframefcb");return Cr()[a]=()=>{gapi.load?s():t(hs(n,"network-request-failed"))},QA(`${KU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw vp=null,e})}var vp=null;function qB(n){return vp=vp||HB(n),vp}var zB=new fs(5e3,15e3),GB="__/auth/iframe",WB="emulator/auth/iframe",KB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YB(n){let e=n.config;oe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?E_(e,WB):`https://${n.config.authDomain}/${GB}`,r={apiKey:e.apiKey,appName:n.name,v:io},i=QB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${al(r).slice(1)}`}function ZB(n){return D(this,null,function*(){let e=yield qB(n),t=Cr().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:YB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KB,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=hs(n,"network-request-failed"),a=Cr().setTimeout(()=>{o(s)},zB.get());function u(){Cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var JB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XB=500,e$=600,t$="_blank",n$="http://localhost",xp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function r$(n,e,t,r=XB,i=e$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},JB),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Mt().toLowerCase();t&&(a=$A(d)?t$:t),UA(d)&&(e=e||n$,u.scrollbars="yes");let m=Object.entries(u).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if($U(d)&&a!=="_self")return i$(e||"",a),new xp(null);let p=window.open(e||"",a,m);oe(p,n,"popup-blocked");try{p.focus()}catch{}return new xp(p)}function i$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var o$="__/auth/handler",s$="emulator/auth/handler",a$=encodeURIComponent("fac");function AA(n,e,t,r,i,o){return D(this,null,function*(){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:io,eventId:i};if(e instanceof Dp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",ZS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,p]of Object.entries(o||{}))s[m]=p}if(e instanceof h_){let m=e.getScopes().filter(p=>p!=="");m.length>0&&(s.scopes=m.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let m of Object.keys(a))a[m]===void 0&&delete a[m];let u=yield n._getAppCheckToken(),d=u?`#${a$}=${encodeURIComponent(u)}`:"";return`${c$(n)}?${al(a).slice(1)}${d}`})}function c$({config:n}){return n.emulator?E_(n,s$):`https://${n.authDomain}/${o$}`}var n_="webStorageSupport",w_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k_,this._completeRedirectFn=OB,this._overrideRedirectResult=MB}_openPopup(e,t,r,i){return D(this,null,function*(){var o;ao((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield AA(e,t,r,r_(),i);return r$(e,s,nx())})}_openRedirect(e,t,r,i){return D(this,null,function*(){yield this._originValidation(e);let o=yield AA(e,t,r,r_(),i);return mB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ao(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return D(this,null,function*(){let t=yield ZB(e),r=new v_(e);return t.register("authEvent",i=>(oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n_,{type:n_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[n_];s!==void 0&&t(!!s),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WA()||BA()||T_()}},cx=w_;var xA="@firebase/auth",RA="1.7.9";var __=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function u$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l$(n){ro(new Ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(n)},d=new l_(r,i,o,u);return ZU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ro(new Ln("auth-internal",e=>{let t=tc(e.getProvider("auth").getImmediate());return(r=>new __(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(xA,RA,u$(n)),Dt(xA,RA,"esm2017")}var d$=5*60,h$=kw("authIdTokenMaxAge")||d$,MA=null,f$=n=>e=>D(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>h$)return;let i=t?.token;MA!==i&&(MA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function F_(n=Ya()){let e=ll(n,"auth");if(e.isInitialized())return e.getImmediate();let t=S_(n,{popupRedirectResolver:cx,persistence:[sx,tx,k_]}),r=kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=f$(o.toString());N_(t,s,()=>s(t.currentUser)),M_(t,a=>s(a))}}let i=Pw("auth");return i&&A_(t,`http://${i}`),t}function p$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}GU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=hs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",p$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l$("Browser");var ux="auth",_n=class{constructor(e){return e}},_l=class{constructor(){return dl(ux)}};var L_=new X("angularfire2.auth-instances");function i4(n,e){let t=hp(ux,n,e);return t&&new _n(t)}function o4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _n(r)}}var s4={provide:_l,deps:[[new Yt,L_]]},a4={provide:_n,useFactory:i4,deps:[[new Yt,L_],ri]};function lx(n,...e){return Dt("angularfire",ls.full,"auth"),Mn([a4,s4,{provide:L_,useFactory:o4(n),multi:!0,deps:[Ve,nn,Xa,ds,[new Yt,Ja],...e]}])}var dx=$t(F_,!0);var hx=$t(P_,!0);var fx=$t(R_,!0);var Pp=$t(O_,!0);var kp=class n{constructor(e){this.http=e}apiUrl="https://api.github.com/users";getUserData(e){return this.http.get(`${this.apiUrl}/${e}`)}static \u0275fac=function(t){return new(t||n)(ne(Su))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function u4(n,e){if(n&1){let t=lt();F(0,"div")(1,"input",2),Da("ngModelChange",function(i){Qe(t);let o=pe();return Iu(o.githubUsername,i)||(o.githubUsername=i),Ye(i)}),N(),F(2,"button",3),ce("click",function(){Qe(t);let i=pe();return Ye(i.loadGithubUserData(i.githubUsername))}),V(3," Buscar "),N()()}if(n&2){let t=pe();U(),Ca("ngModel",t.githubUsername)}}function l4(n,e){if(n&1&&He(0,"img",6),n&2){let t=pe(2);_u("alt",t.userData.name),W("src",t.userData.avatar_url,wa)}}function d4(n,e){if(n&1){let t=lt();F(0,"div")(1,"h2"),V(2),N(),ge(3,l4,1,2,"img",4),F(4,"p")(5,"strong"),V(6,"Usuario de GitHub:"),N(),V(7),N(),F(8,"p")(9,"strong"),V(10,"N\xFAmero de Repositorios:"),N(),V(11),N(),F(12,"button",5),ce("click",function(){Qe(t);let i=pe();return Ye(i.isUserLoaded=!1)}),V(13," Buscar otro usuario "),N()()}if(n&2){let t=pe();U(2),it("Bienvenido ",t.userData.name||"Usuario desconocido",""),U(),W("ngIf",t.userData.avatar_url),U(4),it(" ",t.userData.login,""),U(4),it(" ",t.userData.public_repos,"")}}var Fp=class n{constructor(e,t,r){this.githubService=e;this.auth=t;this.router=r}userData;githubUsername="";isUserLoaded=!1;user;ngOnInit(){let e=localStorage.getItem("githubUserData"),t=localStorage.getItem("githubUsername");e&&t&&(this.userData=JSON.parse(e),this.githubUsername=t,this.isUserLoaded=!0)}loadGithubUserData(e){if(e.trim()===""){console.error("El nombre de usuario no puede estar vac\xEDo");return}this.githubService.getUserData(e).subscribe(t=>{this.userData=t,this.githubUsername=e,this.isUserLoaded=!0,localStorage.setItem("githubUserData",JSON.stringify(t)),localStorage.setItem("githubUsername",e)},t=>{console.error("Error fetching data from GitHub:",t)})}IrAOtraRuta(e){this.router.navigate([e])}CerrarSesion(){Pp(this.auth).then(()=>{this.router.navigate(["/"])})}static \u0275fac=function(t){return new(t||n)(K(kp),K(_n),K(_r))};static \u0275cmp=je({type:n,selectors:[["app-bienvenido"]],standalone:!0,features:[Ue],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["type","text","placeholder","Ingrese un usuario de GitHub",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-3",3,"click"],["class","img-fluid rounded-circle",3,"src","alt",4,"ngIf"],[1,"btn","btn-secondary","mt-3",3,"click"],[1,"img-fluid","rounded-circle",3,"src","alt"]],template:function(t,r){t&1&&(F(0,"div",0),ge(1,u4,4,1,"div",1)(2,d4,14,4,"div",1),N()),t&2&&(U(),W("ngIf",!r.isUserLoaded),U(),W("ngIf",r.userData))},dependencies:[Xe,Rt,Ga,Fn,Ir,il],styles:['@charset "UTF-8";div[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;background:#2b2b3c;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000004d}input[type=text][_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:none;border-radius:4px;background-color:#3c3c50;color:#fff}button[_ngcontent-%COMP%]{display:block;width:100%;padding:.7rem;margin-top:.5rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}img[_ngcontent-%COMP%]{display:block;margin:1rem auto;border-radius:50%;border:4px solid #007bff}p[_ngcontent-%COMP%]{text-align:center;font-size:1rem;color:#e2e2e2;margin:.5rem 0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center;color:#fff}h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:700}body[_ngcontent-%COMP%]{background-color:#1e1e2f;color:#f8f9fa}']})};var mx=fN(px());function h4(n,e){n&1&&(F(0,"small"),V(1,"El correo es obligatorio."),N())}function f4(n,e){n&1&&(F(0,"small"),V(1,"Debe ser un correo v\xE1lido."),N())}function p4(n,e){if(n&1&&(F(0,"div",11),ge(1,h4,2,0,"small",12)(2,f4,2,0,"small",12),N()),n&2){pe();let t=ba(7);U(),W("ngIf",t.errors==null?null:t.errors.required),U(),W("ngIf",t.errors==null?null:t.errors.email)}}function m4(n,e){n&1&&(F(0,"small"),V(1,"La contrase\xF1a es obligatoria."),N())}function g4(n,e){n&1&&(F(0,"small"),V(1," La contrase\xF1a debe tener al menos 6 caracteres. "),N())}function y4(n,e){if(n&1&&(F(0,"div",11),ge(1,m4,2,0,"small",12)(2,g4,2,0,"small",12),N()),n&2){pe();let t=ba(11);U(),W("ngIf",t.errors==null?null:t.errors.required),U(),W("ngIf",t.errors==null?null:t.errors.minlength)}}var Lp=class n{constructor(e,t){this.auth=e;this.router=t}email="";password="";login(){if(!this.email||!this.password){this.showAlert("Datos inv\xE1lidos","Por favor, complete todos los campos correctamente.","error");return}fx(this.auth,this.email,this.password).then(()=>{this.showAlert("Inicio de sesi\xF3n exitoso","Redirigiendo al inicio...","success"),setTimeout(()=>{this.router.navigate(["/"])},2e3)}).catch(()=>{this.showAlert("Error en el inicio de sesi\xF3n","Los datos ingresados son incorrectos.","error")})}accesoRapidoLogin(e,t){this.email=e,this.password=t}showAlert(e,t,r){mx.default.fire({title:e,text:t,icon:r,timer:2e3,showConfirmButton:!1,backdrop:!1})}static \u0275fac=function(t){return new(t||n)(K(_n),K(_r))};static \u0275cmp=je({type:n,selectors:[["app-login"]],standalone:!0,features:[Ue],decls:19,vars:5,consts:[["loginForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","placeholder","Contrase\xF1a","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["type","button",1,"quick-access-btn",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=lt();F(0,"div",3)(1,"form",4,0),ce("ngSubmit",function(){return Qe(i),Ye(r.login())}),F(3,"h2"),V(4,"Iniciar Sesi\xF3n"),N(),F(5,"div",5)(6,"input",6,1),Da("ngModelChange",function(s){return Qe(i),Iu(r.email,s)||(r.email=s),Ye(s)}),N(),ge(8,p4,3,2,"div",7),N(),F(9,"div",5)(10,"input",8,2),Da("ngModelChange",function(s){return Qe(i),Iu(r.password,s)||(r.password=s),Ye(s)}),N(),ge(12,y4,3,2,"div",7),N(),F(13,"button",9),V(14,"Iniciar Sesi\xF3n"),N(),F(15,"button",10),ce("click",function(){return Qe(i),Ye(r.accesoRapidoLogin("admin@admin.com","admin123"))}),V(16," Acceso R\xE1pido Administrador "),N(),F(17,"button",10),ce("click",function(){return Qe(i),Ye(r.accesoRapidoLogin("empleado@empleado.com","empleado123"))}),V(18," Acceso R\xE1pido Empleado "),N()()()}if(t&2){let i=ba(2),o=ba(7),s=ba(11);U(6),Ca("ngModel",r.email),U(2),W("ngIf",o.invalid&&o.touched),U(2),Ca("ngModel",r.password),U(2),W("ngIf",s.invalid&&s.touched),U(),W("disabled",i.invalid)}},dependencies:[Xe,Rt,Ga,eo,Fn,Ir,Xi,ei,Aw,Sw,il,Dw],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;background:#f8f9fa;border-radius:10px;box-shadow:0 4px 8px #0003;text-align:center}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;font-weight:700;color:#343a40}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 15px;margin:10px 0;border:1px solid #141414;border-radius:5px;font-size:16px;transition:border-color .3s ease}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:none;box-shadow:0 0 5px #007bff80}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px 15px;margin:10px 0;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.quick-access-btn[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#212529}.text-danger[_ngcontent-%COMP%]{font-size:14px;margin-top:5px;color:#e74c3c}@media (max-width: 576px){.login-container[_ngcontent-%COMP%]{padding:15px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}}"]})};var nc=class n{constructor(e){this.http=e}getPaises(){return this.http.get("https://restcountries.com/v3.1/all")}static \u0275fac=function(t){return new(t||n)(ne(Su))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function v4(n,e){if(n&1){let t=lt();F(0,"div",4),ce("click",function(){let i=Qe(t).$implicit,o=pe();return Ye(o.seleccionarPais(i))}),He(1,"img",5),V(2),N()}if(n&2){let t=e.$implicit;U(),_u("alt",(t.translations==null||t.translations.spa==null?null:t.translations.spa.common)||t.name.common),W("src",t.flags.png,wa),U(),it(" ",(t.translations==null||t.translations.spa==null?null:t.translations.spa.common)||t.name.common," ")}}var Vp=class n{constructor(e){this.paisesService=e}paisesFiltrados=[];paisSeleccionado=new Le;ngOnInit(){this.paisesService.getPaises().subscribe(e=>{this.paisesFiltrados=e.filter(t=>t.region==="Americas"||t.region==="Europe").slice(0,10)})}seleccionarPais(e){let t=e.translations?.spa?.common||e.name.common;this.paisSeleccionado.emit(t)}static \u0275fac=function(t){return new(t||n)(K(nc))};static \u0275cmp=je({type:n,selectors:[["app-lista-paises"]],outputs:{paisSeleccionado:"paisSeleccionado"},standalone:!0,features:[Ue],decls:5,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["width","30",1,"me-2",3,"src","alt"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"h5",2),V(3,"Selecciona un Pa\xEDs"),N(),ge(4,v4,3,3,"div",3),N()()),t&2&&(U(4),W("ngForOf",r.paisesFiltrados))},dependencies:[Xe,xa],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #ccc;border-radius:.25rem;box-shadow:0 2px 5px #0000001a}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#0d6efd}"]})};var yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vx={};var uo,j_;(function(){var n;function e(T,I){function b(){}b.prototype=I.prototype,T.D=I.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(S,A,x){for(var C=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)C[jn-2]=arguments[jn];return I.prototype[A].apply(S,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,b){b||(b=0);var S=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)S[A]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=T.g[0],b=T.g[1],A=T.g[2];var x=T.g[3],C=I+(x^b&(A^x))+S[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[2]+606105819&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[3]+3250441966&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[6]+2821735955&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[7]+4249261313&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[10]+4294925233&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[11]+2304563134&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[14]+2792965006&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[15]+1236535329&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(A^x&(b^A))+S[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[11]+643717713&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[0]+3921069994&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[15]+3634488961&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[4]+3889429448&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[3]+4107603335&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[8]+1163531501&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[7]+1735328473&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[12]+2368359562&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(b^A^x)+S[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[11]+1839030562&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[14]+4259657740&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[7]+4139469664&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[10]+3200236656&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[3]+3572445317&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[6]+76029189&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[15]+530742520&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[2]+3299628645&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(A^(b|~x))+S[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[14]+2878612391&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[5]+4237533241&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[10]+4293915773&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[1]+2240044497&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[6]+2734768916&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[13]+1309151649&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[2]+718787259&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+x&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var b=I-this.blockSize,S=this.B,A=this.h,x=0;x<I;){if(A==0)for(;x<=b;)i(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<I;)if(S[A++]=T.charCodeAt(x++),A==this.blockSize){i(this,S),A=0;break}}else for(;x<I;)if(S[A++]=T[x++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var b=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=b&255,b/=256;for(this.u(T),T=Array(16),I=b=0;4>I;++I)for(var S=0;32>S;S+=8)T[b++]=this.g[I]>>>S&255;return T};function o(T,I){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=I(T)}function s(T,I){this.h=I;for(var b=[],S=!0,A=T.length-1;0<=A;A--){var x=T[A]|0;S&&x==I||(b[A]=x,S=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return P(d(-T));for(var I=[],b=1,S=0;T>=b;S++)I[S]=T/b|0,b*=4294967296;return new s(I,0)}function m(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return P(m(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),S=p,A=0;A<T.length;A+=8){var x=Math.min(8,T.length-A),C=parseInt(T.substring(A,A+x),I);8>x?(x=d(Math.pow(I,x)),S=S.j(x).add(d(C))):(S=S.j(b),S=S.add(d(C)))}return S}var p=u(0),_=u(1),E=u(16777216);n=s.prototype,n.m=function(){if(L(this))return-P(this).m();for(var T=0,I=1,b=0;b<this.g.length;b++){var S=this.i(b);T+=(0<=S?S:4294967296+S)*I,I*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(L(this))return"-"+P(this).toString(T);for(var I=d(Math.pow(T,6)),b=this,S="";;){var A=ae(b,I).g;b=B(b,A.j(I));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=A,M(b))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function L(T){return T.h==-1}n.l=function(T){return T=B(this,T),L(T)?-1:M(T)?0:1};function P(T){for(var I=T.g.length,b=[],S=0;S<I;S++)b[S]=~T.g[S];return new s(b,~T.h).add(_)}n.abs=function(){return L(this)?P(this):this},n.add=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0,A=0;A<=I;A++){var x=S+(this.i(A)&65535)+(T.i(A)&65535),C=(x>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=C>>>16,x&=65535,C&=65535,b[A]=C<<16|x}return new s(b,b[b.length-1]&-2147483648?-1:0)};function B(T,I){return T.add(P(I))}n.j=function(T){if(M(this)||M(T))return p;if(L(this))return L(T)?P(this).j(P(T)):P(P(this).j(T));if(L(T))return P(this.j(P(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var I=this.g.length+T.g.length,b=[],S=0;S<2*I;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var x=this.i(S)>>>16,C=this.i(S)&65535,jn=T.i(A)>>>16,hi=T.i(A)&65535;b[2*S+2*A]+=C*hi,J(b,2*S+2*A),b[2*S+2*A+1]+=x*hi,J(b,2*S+2*A+1),b[2*S+2*A+1]+=C*jn,J(b,2*S+2*A+1),b[2*S+2*A+2]+=x*jn,J(b,2*S+2*A+2)}for(S=0;S<I;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=I;S<2*I;S++)b[S]=0;return new s(b,0)};function J(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function Q(T,I){this.g=T,this.h=I}function ae(T,I){if(M(I))throw Error("division by zero");if(M(T))return new Q(p,p);if(L(T))return I=ae(P(T),I),new Q(P(I.g),P(I.h));if(L(I))return I=ae(T,P(I)),new Q(P(I.g),I.h);if(30<T.g.length){if(L(T)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,S=I;0>=S.l(T);)b=Ae(b),S=Ae(S);var A=re(b,1),x=re(S,1);for(S=re(S,2),b=re(b,2);!M(S);){var C=x.add(S);0>=C.l(T)&&(A=A.add(b),x=C),S=re(S,1),b=re(b,1)}return I=B(T,A.j(I)),new Q(A,I)}for(A=p;0<=T.l(I);){for(b=Math.max(1,Math.floor(T.m()/I.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=d(b),C=x.j(I);L(C)||0<C.l(T);)b-=S,x=d(b),C=x.j(I);M(x)&&(x=_),A=A.add(x),T=B(T,C)}return new Q(A,T)}n.A=function(T){return ae(this,T).h},n.and=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)&T.i(S);return new s(b,this.h&T.h)},n.or=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)|T.i(S);return new s(b,this.h|T.h)},n.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)^T.i(S);return new s(b,this.h^T.h)};function Ae(T){for(var I=T.g.length+1,b=[],S=0;S<I;S++)b[S]=T.i(S)<<1|T.i(S-1)>>>31;return new s(b,T.h)}function re(T,I){var b=I>>5;I%=32;for(var S=T.g.length-b,A=[],x=0;x<S;x++)A[x]=0<I?T.i(x+b)>>>I|T.i(x+b+1)<<32-I:T.i(x+b);return new s(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,j_=vx.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=m,uo=vx.Integer=s}).apply(typeof yx<"u"?yx:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={};var U_,w4,rc,B_,Il,Up,$_,H_,q_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var R=c[v];if(!(R in g))break e;g=g[R]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,v=!1,R={next:function(){if(!v&&g<c.length){var k=g++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function m(c,f,g){return c.call.apply(c.bind,arguments)}function p(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),c.apply(f,R)}}return function(){return c.apply(f,arguments)}}function _(c,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,_.apply(null,arguments)}function E(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,R,k){for(var H=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)H[Fe-2]=arguments[Fe];return f.prototype[R].apply(v,H)}}function L(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function P(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let R=c.length||0,k=v.length||0;c.length=R+k;for(let H=0;H<k;H++)c[R+H]=v[H]}else c.push(v)}}class B{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var Ae=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function T(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function I(c){let f={};for(let g in c)f[g]=c[g];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let g,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(g in v)c[g]=v[g];for(let k=0;k<b.length;k++)g=b[k],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function A(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function x(c){a.setTimeout(()=>{throw c},0)}function C(){var c=pi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class jn{constructor(){this.h=this.g=null}add(f,g){let v=hi.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var hi=new B(()=>new Ac,c=>c.reset());class Ac{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fi,kr=!1,pi=new jn,an=()=>{let c=a.Promise.resolve(void 0);fi=()=>{c.then(mi)}};var mi=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(g){x(g)}var f=hi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}kr=!1};function Ut(){this.s=this.s,this.C=this.C}Ut.prototype.s=!1,Ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function St(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var gi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Un(c,f){if(St.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Ae){e:{try{ae(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ql[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Un.aa.h.call(this)}}M(Un,St);var ql={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),xc=0;function qm(c,f,g,v,R){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=R,this.key=++xc,this.da=this.fa=!1}function yi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vi(c){this.src=c,this.g={},this.h=0}vi.prototype.add=function(c,f,g,v,R){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var H=Rc(c,f,v,R);return-1<H?(f=c[H],g||(f.fa=!1)):(f=new qm(f,this.src,k,!!v,R),f.fa=g,c.push(f)),f};function wi(c,f){var g=f.type;if(g in c.g){var v=c.g[g],R=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=R)&&Array.prototype.splice.call(v,R,1),k&&(yi(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Rc(c,f,g,v){for(var R=0;R<c.length;++R){var k=c[R];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==v)return R}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),cn={};function zl(c,f,g,v,R){if(v&&v.once)return Mc(c,f,g,v,R);if(Array.isArray(f)){for(var k=0;k<f.length;k++)zl(c,f[k],g,v,R);return null}return g=dt(g),c&&c[tr]?c.K(f,g,d(v)?!!v.capture:!!v,R):Bt(c,f,g,!1,v,R)}function Bt(c,f,g,v,R,k){if(!f)throw Error("Invalid event type");var H=d(R)?!!R.capture:!!R,Fe=Bn(c);if(Fe||(c[Pt]=Fe=new vi(c)),g=Fe.add(f,g,v,H,k),g.proxy)return g;if(v=Ss(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)gi||(R=H),R===void 0&&(R=!1),c.addEventListener(f.toString(),v,R);else if(c.attachEvent)c.attachEvent(un(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ss(){function c(g){return f.call(c.src,c.listener,g)}let f=nr;return c}function Mc(c,f,g,v,R){if(Array.isArray(f)){for(var k=0;k<f.length;k++)Mc(c,f[k],g,v,R);return null}return g=dt(g),c&&c[tr]?c.L(f,g,d(v)?!!v.capture:!!v,R):Bt(c,f,g,!0,v,R)}function Nc(c,f,g,v,R){if(Array.isArray(f))for(var k=0;k<f.length;k++)Nc(c,f[k],g,v,R);else v=d(v)?!!v.capture:!!v,g=dt(g),c&&c[tr]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],g=Rc(k,g,v,R),-1<g&&(yi(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=Bn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Rc(f,g,v,R)),(g=-1<c?f[c]:null)&&be(g))}function be(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[tr])wi(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(un(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Bn(f))?(wi(g,c),g.h==0&&(g.src=null,f[Pt]=null)):yi(c)}}}function un(c){return c in cn?cn[c]:cn[c]="on"+c}function nr(c,f){if(c.da)c=!0;else{f=new Un(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&be(c),c=g.call(v,f)}return c}function Bn(c){return c=c[Pt],c instanceof vi?c:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(c){return typeof c=="function"?c:(c[ot]||(c[ot]=function(f){return c.handleEvent(f)}),c[ot])}function ht(){Ut.call(this),this.i=new vi(this),this.M=this,this.F=null}M(ht,Ut),ht.prototype[tr]=!0,ht.prototype.removeEventListener=function(c,f,g,v){Nc(this,c,f,g,v)};function At(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new St(f,c);else if(f instanceof St)f.target=f.target||c;else{var R=f;f=new St(v,c),S(f,R)}if(R=!0,g)for(var k=g.length-1;0<=k;k--){var H=f.g=g[k];R=rr(H,v,!0,f)&&R}if(H=f.g=c,R=rr(H,v,!0,f)&&R,R=rr(H,v,!1,f)&&R,g)for(k=0;k<g.length;k++)H=f.g=g[k],R=rr(H,v,!1,f)&&R}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)yi(g[v]);delete c.g[f],c.h--}}this.F=null},ht.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},ht.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function rr(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var R=!0,k=0;k<f.length;++k){var H=f[k];if(H&&!H.da&&H.capture==g){var Fe=H.listener,It=H.ha||H.src;H.fa&&wi(c.i,H),R=Fe.call(It,v)!==!1&&R}}return R&&!v.defaultPrevented}function Ot(c,f,g){if(typeof c=="function")g&&(c=_(c,g));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Gl(c){c.g=Ot(()=>{c.g=null,c.i&&(c.i=!1,Gl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Wl extends Ut{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(c){Ut.call(this),this.h=c,this.g={}}M(_i,Ut);var As=[];function Kl(c){re(c.g,function(f,g){this.g.hasOwnProperty(g)&&be(f)},c),c.g={}}_i.prototype.N=function(){_i.aa.N.call(this),Kl(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pc=a.JSON.stringify,zm=a.JSON.parse,Gm=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $n(){}$n.prototype.h=null;function Ql(c){return c.h||(c.h=c.i())}function Yl(){}var yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oc(){St.call(this,"d")}M(Oc,St);function kc(){St.call(this,"c")}M(kc,St);var Hn={},Zl=null;function xs(){return Zl=Zl||new ht}Hn.La="serverreachability";function Jl(c){St.call(this,Hn.La,c)}M(Jl,St);function vo(c){let f=xs();At(f,new Jl(f))}Hn.STAT_EVENT="statevent";function Xl(c,f){St.call(this,Hn.STAT_EVENT,c),this.stat=f}M(Xl,St);function _t(c){let f=xs();At(f,new Xl(f,c))}Hn.Ma="timingevent";function ed(c,f){St.call(this,Hn.Ma,c),this.size=f}M(ed,St);function wo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function Wm(c,f,g,v,R,k){c.info(function(){if(c.g)if(k)for(var H="",Fe=k.split("&"),It=0;It<Fe.length;It++){var xe=Fe[It].split("=");if(1<xe.length){var xt=xe[0];xe=xe[1];var Et=xt.split("_");H=2<=Et.length&&Et[1]=="type"?H+(xt+"="+xe+"&"):H+(xt+"=redacted&")}}else H=null;else H=k;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+f+`
`+g+`
`+H})}function Km(c,f,g,v,R,k,H){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+f+`
`+g+`
`+k+" "+H})}function Pe(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ym(c,g)+(v?" "+v:"")})}function Qm(c,f){c.info(function(){return"TIMEOUT: "+f})}_o.prototype.info=function(){};function Ym(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var H=1;H<R.length;H++)R[H]=""}}}}return Pc(g)}catch{return f}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},td={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fc;function Ms(){}M(Ms,$n),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},Fc=new Ms;function Dn(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var Lc={},Ei={};function Ze(c,f,g){c.L=1,c.v=Ps(Tn(f)),c.m=g,c.P=!0,nd(c,null)}function nd(c,f){c.F=Date.now(),Io(c),c.A=Tn(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),vd(g.i,"t",v),c.C=0,g=c.j.J,c.h=new Ii,c.g=Jc(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Wl(_(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(As[0]=R.toString()),R=As);for(var k=0;k<R.length;k++){var H=zl(g,R[k],v||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),vo(),Wm(c.i,c.u,c.A,c.l,c.R,c.m)}Dn.prototype.ca=function(c){c=c.target;let f=this.M;f&&zn(c)==3?f.j():this.Y(c)},Dn.prototype.Y=function(c){try{if(c==this.g)e:{let Et=zn(this.g);var f=this.g.Ba();let cr=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Dd(this.g)))){this.J||Et!=4||f==7||(f==8||0>=cr?vo(3):vo(2)),Vc(this);var g=this.g.Z();this.X=g;t:if(rd(this)){var v=Dd(this.g);c="";var R=v.length,k=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Eo(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==R-1)});v.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,Km(this.i,this.u,this.A,this.l,this.R,Et,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,It=this.g;if((Fe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Fe)){var xe=Fe;break t}}xe=null}if(g=xe)Pe(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jc(this,g);else{this.o=!1,this.s=3,_t(12),ir(this),Eo(this);break e}}if(this.P){g=!0;let ln;for(;!this.J&&this.C<H.length;)if(ln=Zm(this,H),ln==Ei){Et==4&&(this.s=4,_t(14),g=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Lc){this.s=4,_t(15),Pe(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Pe(this.i,this.l,ln,null),jc(this,ln);if(rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||H.length!=0||this.h.h||(this.s=1,_t(16),g=!1),this.o=this.o&&g,!g)Pe(this.i,this.l,H,"[Invalid Chunked Response]"),ir(this),Eo(this);else if(0<H.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Ai(xt),xt.M=!0,_t(11))}}else Pe(this.i,this.l,H,null),jc(this,H);Et==4&&ir(this),this.o&&!this.J&&(Et==4?Kc(this.j,this):(this.o=!1,Io(this)))}else sg(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),ir(this),Eo(this)}}}catch{}finally{}};function rd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zm(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?Ei:(g=Number(f.substring(g,v)),isNaN(g)?Lc:(v+=1,v+g>f.length?Ei:(f=f.slice(v,v+g),c.C=v+g,f)))}Dn.prototype.cancel=function(){this.J=!0,ir(this)};function Io(c){c.S=Date.now()+c.I,id(c,c.I)}function id(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wo(_(c.ba,c),f)}function Vc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Qm(this.i,this.A),this.L!=2&&(vo(),_t(17)),ir(this),this.s=2,Eo(this)):id(this,this.S-c)};function Eo(c){c.j.G==0||c.J||Kc(c.j,c)}function ir(c){Vc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Kl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function jc(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||Uc(g.h,c))){if(!c.K&&Uc(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ro(g),Ls(g);else break e;xo(g),_t(18)}}else g.za=R[1],0<g.za-g.T&&37500>R[2]&&g.F&&g.v==0&&!g.C&&(g.C=wo(_(g.Za,g),6e3));if(1>=cd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ar(g,11)}else if((c.K||g.g==c)&&Ro(g),!J(f))for(R=g.Da.g.parse(f),f=0;f<R.length;f++){let xe=R[f];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];let xt=xe[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));let Et=xe[4];Et!=null&&(g.Aa=Et,g.j.info("SVER="+g.Aa));let cr=xe[5];cr!=null&&typeof cr=="number"&&0<cr&&(v=1.5*cr,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let ln=c.g;if(ln){let js=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var k=v.h;k.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Bc(k,k.h),k.h=null))}if(v.D){let eu=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(v.ya=eu,ze(v.I,v.D,eu))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var H=c;if(v.qa=Zc(v,v.J?v.ia:null,v.W),H.K){ud(v.h,H);var Fe=H,It=v.L;It&&(Fe.I=It),Fe.B&&(Vc(Fe),Io(Fe)),v.g=H}else Wc(v);0<g.i.length&&Vs(g)}else xe[0]!="stop"&&xe[0]!="close"||ar(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ar(g,7):Fs(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}vo(4)}catch{}}var od=class{constructor(c,f){this.g=c,this.map=f}};function sd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ad(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cd(c){return c.h?1:c.g?c.g.size:0}function Uc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Bc(c,f){c.g?c.g.add(f):c.h=f}function ud(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}sd.prototype.cancel=function(){if(this.i=ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ld(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return L(c.i)}function dd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function Jm(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function $c(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=Jm(c),v=dd(c),R=v.length,k=0;k<R;k++)f.call(void 0,v[k],g&&g[k],c)}var hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xm(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),R=null;if(0<=v){var k=c[g].substring(0,v);R=c[g].substring(v+1)}else k=c[g];f(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Zt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zt){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,bi(this,c.s),this.l=c.l;var f=c.i,g=new Do;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Hc(this,g),this.m=c.m}else c&&(f=String(c).match(hd))?(this.h=!1,Ns(this,f[1]||"",!0),this.o=bo(f[2]||""),this.g=bo(f[3]||"",!0),bi(this,f[4]),this.l=bo(f[5]||"",!0),Hc(this,f[6]||"",!0),this.m=bo(f[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}Zt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Co(f,fd,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Co(f,fd,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Co(g,g.charAt(0)=="/"?tg:Ci,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Co(g,md)),c.join("")};function Tn(c){return new Zt(c)}function Ns(c,f,g){c.j=g?bo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function bi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Hc(c,f,g){f instanceof Do?(c.i=f,ng(c.i,c.h)):(g||(f=Co(f,pd)),c.i=new Do(f,c.h))}function ze(c,f,g){c.i.set(f,g)}function Ps(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Co(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,eg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fd=/[#\/\?@]/g,Ci=/[#\?:]/g,tg=/[#\?]/g,pd=/[#\?@]/g,md=/#/g;function Do(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function or(c){c.g||(c.g=new Map,c.h=0,c.i&&Xm(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Do.prototype,n.add=function(c,f){or(this),this.i=null,c=Di(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function gd(c,f){or(c),f=Di(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function yd(c,f){return or(c),f=Di(c,f),c.g.has(f)}n.forEach=function(c,f){or(this),this.g.forEach(function(g,v){g.forEach(function(R){c.call(f,R,v,this)},this)},this)},n.na=function(){or(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let R=c[v];for(let k=0;k<R.length;k++)g.push(f[v])}return g},n.V=function(c){or(this);let f=[];if(typeof c=="string")yd(this,c)&&(f=f.concat(this.g.get(Di(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return or(this),this.i=null,c=Di(this,c),yd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function vd(c,f,g){gd(c,f),0<g.length&&(c.i=null,c.g.set(Di(c,f),L(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let k=encodeURIComponent(String(v)),H=this.V(v);for(v=0;v<H.length;v++){var R=k;H[v]!==""&&(R+="="+encodeURIComponent(String(H[v]))),c.push(R)}}return this.i=c.join("&")};function Di(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function ng(c,f){f&&!c.j&&(or(c),c.i=null,c.g.forEach(function(g,v){var R=v.toLowerCase();v!=R&&(gd(this,v),vd(this,R,g))},c)),c.j=f}function Ti(c,f){let g=new _o;if(a.Image){let v=new Image;v.onload=E(sr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=E(sr,g,"TestLoadImage: error",!1,f,v),v.onabort=E(sr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(sr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function rg(c,f){let g=new _o,v=new AbortController,R=setTimeout(()=>{v.abort(),sr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(R),k.ok?sr(g,"TestPingServer: ok",!0,f):sr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(R),sr(g,"TestPingServer: error",!1,f)})}function sr(c,f,g,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(g)}catch{}}function wd(){this.g=new Gm}function ig(c,f,g){let v=g||"";try{$c(c,function(R,k){let H=R;d(R)&&(H=Pc(R)),f.push(v+k+"="+encodeURIComponent(H))})}catch(R){throw f.push(v+"type="+encodeURIComponent("_badmap")),R}}function Jt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Jt,$n),Jt.prototype.g=function(){return new Os(this.l,this.j)},Jt.prototype.i=function(c){return function(){return c}}({});function Os(c,f){ht.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Os,ht),n=Os.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,To(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?qn(this):To(this),this.readyState==3&&qc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,qn(this))},n.Qa=function(c){this.g&&(this.response=c,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,To(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function To(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _d(c){let f="";return re(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function zc(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=_d(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):ze(c,f,g))}function Je(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Je,ht);var Si=/^https?$/i,og=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fc.g(),this.v=this.o?Ql(this.o):Ql(Fc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){Id(this,k);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)g.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())g.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(og,f,void 0))||v||R||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,H]of g)this.g.setRequestHeader(k,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cd(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){Id(this,k)}};function Id(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Ed(c),ks(c)}function Ed(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,At(this,"complete"),At(this,"abort"),ks(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bd(this):this.bb())},n.bb=function(){bd(this)};function bd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)Ot(c.Ea,0,c);else if(At(c,"readystatechange"),zn(c)==4){c.h=!1;try{let H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=H===0){var R=String(c.D).match(hd)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),v=!Si.test(R?R.toLowerCase():"")}g=v}if(g)At(c,"complete"),At(c,"success");else{c.m=6;try{var k=2<zn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",Ed(c)}}finally{ks(c)}}}}function ks(c,f){if(c.g){Cd(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||At(c,"ready");try{g.onreadystatechange=v}catch{}}}function Cd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),zm(f)}};function Dd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sg(c){let f={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(J(c[v]))continue;var g=A(c[v]);let R=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=f[R]||[];f[R]=k,k.push(g)}T(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Ao(c){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,c),this.cb=So("retryDelaySeedMs",1e4,c),this.Wa=So("forwardChannelMaxRetries",2,c),this.wa=So("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sd(c&&c.concurrentRequestLimit),this.Da=new wd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ao.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,v){_t(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Zc(this,null,this.W),Vs(this)};function Fs(c){if(Td(c),c.G==3){var f=c.U++,g=Tn(c.I);if(ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"TYPE","terminate"),Fr(c,g),f=new Dn(c,c.j,f),f.L=2,f.v=Ps(Tn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Jc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Io(f)}Yc(c)}function Ls(c){c.g&&(Ai(c),c.g.cancel(),c.g=null)}function Td(c){Ls(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vs(c){if(!ad(c.h)&&!c.s){c.s=!0;var f=c.Ga;fi||an(),kr||(fi(),kr=!0),pi.add(f,c),c.B=0}}function Sd(c,f){return cd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wo(_(c.Ga,c,f),Qc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new Dn(this,this.j,c),k=this.o;if(this.S&&(k?(k=I(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Gc(this,R,f),g=Tn(this.I),ze(g,"RID",c),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),Fr(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(_d(k)))+"&"+f:this.m&&zc(g,this.m,k)),Bc(this.h,R),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",f),ze(g,"SID","null"),R.T=!0,Ze(R,g,null)):Ze(R,g,f),this.G=2}}else this.G==3&&(c?Ad(this,c):this.i.length==0||ad(this.h)||Ad(this))};function Ad(c,f){var g;f?g=f.l:g=c.U++;let v=Tn(c.I);ze(v,"SID",c.K),ze(v,"RID",g),ze(v,"AID",c.T),Fr(c,v),c.m&&c.o&&zc(v,c.m,c.o),g=new Dn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Gc(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bc(c.h,g),Ze(g,v,f)}function Fr(c,f){c.H&&re(c.H,function(g,v){ze(f,v,g)}),c.l&&$c({},function(g,v){ze(f,v,g)})}function Gc(c,f,g){g=Math.min(c.i.length,g);var v=c.l?_(c.l.Na,c.l,c):null;e:{var R=c.i;let k=-1;for(;;){let H=["count="+g];k==-1?0<g?(k=R[0].g,H.push("ofs="+k)):k=0:H.push("ofs="+k);let Fe=!0;for(let It=0;It<g;It++){let xe=R[It].g,xt=R[It].map;if(xe-=k,0>xe)k=Math.max(0,R[It].g-100),Fe=!1;else try{ig(xt,H,"req"+xe+"_")}catch{v&&v(xt)}}if(Fe){v=H.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function Wc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;fi||an(),kr||(fi(),kr=!0),pi.add(f,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wo(_(c.Fa,c),Qc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wo(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ls(this),xd(this))};function Ai(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function xd(c){c.g=new Dn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Tn(c.qa);ze(f,"RID","rpc"),ze(f,"SID",c.K),ze(f,"AID",c.T),ze(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(f,"TO",c.ja),ze(f,"TYPE","xmlhttp"),Fr(c,f),c.m&&c.o&&zc(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Ps(Tn(f)),g.m=null,g.P=!0,nd(g,c)}n.Za=function(){this.C!=null&&(this.C=null,Ls(this),xo(this),_t(19))};function Ro(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Kc(c,f){var g=null;if(c.g==f){Ro(c),Ai(c),c.g=null;var v=2}else if(Uc(c.h,f))g=f.D,ud(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var R=c.B;v=xs(),At(v,new ed(v,g)),Vs(c)}else Wc(c);else if(R=f.s,R==3||R==0&&0<f.X||!(v==1&&Sd(c,f)||v==2&&xo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),R){case 1:ar(c,5);break;case 4:ar(c,10);break;case 3:ar(c,6);break;default:ar(c,2)}}}function Qc(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function ar(c,f){if(c.j.info("Error code "+f),f==2){var g=_(c.fb,c),v=c.Xa;let R=!v;v=new Zt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ns(v,"https"),Ps(v),R?Ti(v.toString(),g):rg(v.toString(),g)}else _t(2);c.G=0,c.l&&c.l.sa(f),Yc(c),Td(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Yc(c){if(c.G=0,c.ka=[],c.l){let f=ld(c.h);(f.length!=0||c.i.length!=0)&&(P(c.ka,f),P(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Zc(c,f,g){var v=g instanceof Zt?Tn(g):new Zt(g);if(v.g!="")f&&(v.g=f+"."+v.g),bi(v,v.s);else{var R=a.location;v=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var k=new Zt(null);v&&Ns(k,v),f&&(k.g=f),R&&bi(k,R),g&&(k.l=g),v=k}return g=c.D,f=c.ya,g&&f&&ze(v,g,f),ze(v,"VER",c.la),Fr(c,v),v}function Jc(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Je(new Jt({eb:g})):new Je(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mo(){}Mo.prototype.g=function(c,f){return new ft(c,f)};function ft(c,f){ht.call(this),this.g=new Ao(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!J(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new xi(this)}M(ft,ht),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){Fs(this.g)},ft.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Pc(c),c=g);f.i.push(new od(f.Ya++,c)),f.G==3&&Vs(f)},ft.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,ft.aa.N.call(this)};function Rd(c){Oc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Rd,Oc);function Md(){kc.call(this),this.status=1}M(Md,kc);function xi(c){this.g=c}M(xi,Xc),xi.prototype.ua=function(){At(this.g,"a")},xi.prototype.ta=function(c){At(this.g,new Rd(c))},xi.prototype.sa=function(c){At(this.g,new Md)},xi.prototype.ra=function(){At(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,q_=si.createWebChannelTransport=function(){return new Mo},H_=si.getStatEventTarget=function(){return xs()},$_=si.Event=Hn,Up=si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,Il=si.ErrorCode=Rs,td.COMPLETE="complete",B_=si.EventType=td,Yl.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",ht.prototype.listen=ht.prototype.K,rc=si.WebChannel=Yl,w4=si.FetchXmlHttpFactory=Jt,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,U_=si.XhrIo=Je}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var wx="@firebase/firestore";var Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");var Cc="10.14.0";var ws=new to("@firebase/firestore");function El(){return ws.logLevel}function Z(n,...e){if(ws.logLevel<=Te.DEBUG){let t=e.map(TE);ws.debug(`Firestore (${Cc}): ${n}`,...t)}}function ui(n,...e){if(ws.logLevel<=Te.ERROR){let t=e.map(TE);ws.error(`Firestore (${Cc}): ${n}`,...t)}}function lc(n,...e){if(ws.logLevel<=Te.WARN){let t=e.map(TE);ws.warn(`Firestore (${Cc}): ${n}`,...t)}}function TE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function se(n="Unexpected state"){let e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function qe(n,e){n||se()}function he(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ai=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var zp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Q_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nt.UNAUTHENTICATED))}shutdown(){}},Y_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Z_=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new zp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Nt(e)}},J_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},X_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new J_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);let r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new eI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Gp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function dc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var jt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new jt(0,0))}static max(){return new n(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(),r===void 0?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},at=class n extends Wp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ee(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},I4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class n extends Wp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return I4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ee(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(at.fromString(e))}static fromName(e){return new n(at.fromString(e).popFirst(5))}static empty(){return new n(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new at(e.slice()))}};var nI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nI.UNKNOWN_ID=-1;function E4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new jt(t+1,0):new jt(t,r));return new _s(i,ie.empty(),e)}function b4(n){return new _s(n.readTime,n.key,-1)}var _s=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(me.min(),ie.empty(),-1)}static max(){return new n(me.max(),ie.empty(),-1)}};function C4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var D4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ul(n){return D(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==D4)throw n;Z("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(m=>{s[d]=m,++a,a===o&&r(s)},m=>i(m))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function T4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(n){return n.name==="IndexedDbTransactionError"}var Jx=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Em(n){return n==null}function Al(n){return n===0&&1/n==-1/0}function S4(n){return typeof n=="number"&&Number.isInteger(n)&&!Al(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var A4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DQ=[...A4,"documentOverlays"],x4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R4=x4,M4=[...R4,"indexConfiguration","indexState","indexEntries"];var TQ=[...M4,"globals"];function _x(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ds(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Xx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ct=class n{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}},ac=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ar=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qt=class n{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(e){return new Kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Kp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vn=class n{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new qt(bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Qp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var N4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(n){if(qe(!!n),typeof n=="string"){let e=0,t=N4.exec(n);if(qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fo(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}function SE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function AE(n){let e=n.mapValue.fields.__previous_value__;return SE(e)?AE(e):e}function xl(n){let e=li(n.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}var iI=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Yp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Bp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SE(n)?4:tR(n)?9007199254740991:eR(n)?10:11:se()}function Mr(n,e){if(n===e)return!0;let t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xl(n).isEqual(xl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=li(i.timestampValue),a=li(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return fo(i.bytesValue).isEqual(fo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return nt(i.geoPointValue.latitude)===nt(o.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nt(i.integerValue)===nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=nt(i.doubleValue),a=nt(o.doubleValue);return s===a?Al(s)===Al(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return dc(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_x(s)!==_x(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mr(s[u],a[u])))return!1;return!0}(n,e);default:return se()}}function Rl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function hc(n,e){if(n===e)return 0;let t=Is(n),r=Is(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=nt(o.integerValue||o.doubleValue),u=nt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return Ix(n.timestampValue,e.timestampValue);case 4:return Ix(xl(n),xl(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,s){let a=fo(o),u=fo(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let m=ke(a[d],u[d]);if(m!==0)return m}return ke(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ke(nt(o.latitude),nt(s.latitude));return a!==0?a:ke(nt(o.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ex(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,m;let p=o.fields||{},_=s.fields||{},E=(a=p.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,L=ke(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((m=M?.values)===null||m===void 0?void 0:m.length)||0);return L!==0?L:Ex(E,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bp.mapValue&&s===Bp.mapValue)return 0;if(o===Bp.mapValue)return 1;if(s===Bp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){let _=ke(u[p],m[p]);if(_!==0)return _;let E=hc(a[u[p]],d[m[p]]);if(E!==0)return E}return ke(u.length,m.length)}(n.mapValue,e.mapValue);default:throw se()}}function Ix(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=li(n),r=li(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function Ex(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=hc(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function fc(n){return oI(n)}function oI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=li(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=oI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${oI(t.fields[s])}`;return i+"}"}(n.mapValue):se()}function sI(n){return!!n&&"integerValue"in n}function xE(n){return!!n&&"arrayValue"in n}function bx(n){return!!n&&"nullValue"in n}function Cx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hp(n){return!!n&&"mapValue"in n}function eR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ds(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Cl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ds(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Cl(this.value))}};function nR(n){let e=[];return Ds(n.fields,(t,r)=>{let i=new bn([t]);if(Hp(r)){let o=nR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Vn(e)}var Xn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,me.min(),me.min(),me.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,me.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,me.min(),me.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,me.min(),me.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Dx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=hc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}var mc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function P4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Zp=class{},Tt=class n extends Zp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cI(e,t,r):t==="array-contains"?new dI(e,r):t==="in"?new hI(e,r):t==="not-in"?new fI(e,r):t==="array-contains-any"?new pI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uI(e,r):new lI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hc(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nr=class n extends Zp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return rR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function rR(n){return n.op==="and"}function iR(n){return O4(n)&&rR(n)}function O4(n){for(let e of n.filters)if(e instanceof Nr)return!1;return!0}function aI(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+fc(n.value);if(iR(n))return n.filters.map(e=>aI(e)).join(",");{let e=n.filters.map(t=>aI(t)).join(",");return`${n.op}(${e})`}}function oR(n,e){return n instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)}(n,e):n instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oR(s,i.filters[a]),!0):!1}(n,e):void se()}function sR(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${fc(t.value)}`}(n):n instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(sR).join(" ,")+"}"}(n):"Filter"}var cI=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},uI=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=aR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},lI=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=aR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function aR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var dI=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xE(t)&&Rl(t.arrayValue,this.value)}},hI=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Rl(this.value.arrayValue,t)}},fI=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Rl(this.value.arrayValue,t)}},pI=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}};var mI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Sx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new mI(n,e,t,r,i,o,s)}function RE(n){let e=he(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>aI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),e.ue=t}return e.ue}function ME(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tx(n.startAt,e.startAt)&&Tx(n.endAt,e.endAt)}function gI(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var gc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function k4(n,e,t,r,i,o,s,a){return new gc(n,e,t,r,i,o,s,a)}function NE(n){return new gc(n)}function Ax(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F4(n){return n.collectionGroup!==null}function Dl(n){let e=he(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(bn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new mc(o,r))}),t.has(bn.keyField().canonicalString())||e.ce.push(new mc(bn.keyField(),r))}return e.ce}function xr(n){let e=he(n);return e.le||(e.le=L4(e,Dl(n))),e.le}function L4(n,e){if(n.limitType==="F")return Sx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new mc(i.field,o)});let t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return Sx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yI(n,e,t){return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bm(n,e){return ME(xr(n),xr(e))&&n.limitType===e.limitType}function cR(n){return`${RE(xr(n))}|lt:${n.limitType}`}function ic(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>sR(i)).join(", ")}]`),Em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(xr(n))}; limitType=${n.limitType})`}function Cm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Dl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=Dx(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,Dl(r),i)||r.endAt&&!function(s,a,u){let d=Dx(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,Dl(r),i))}(n,e)}function V4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uR(n){return(e,t)=>{let r=!1;for(let i of Dl(n)){let o=j4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function j4(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?hc(u,d):se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}var po=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Xx(this.inner)}size(){return this.innerSize}};var U4=new ct(ie.comparator);function di(){return U4}var lR=new ct(ie.comparator);function bl(...n){let e=lR;for(let t of n)e=e.insert(t.key,t);return e}function dR(n){let e=lR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return Tl()}function hR(){return Tl()}function Tl(){return new po(n=>n.toString(),(n,e)=>n.isEqual(e))}var B4=new ct(ie.comparator),$4=new qt(ie.comparator);function Se(...n){let e=$4;for(let t of n)e=e.add(t);return e}var H4=new qt(ke);function q4(){return H4}function PE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function fR(n){return{integerValue:""+n}}function z4(n,e){return S4(e)?fR(e):PE(n,e)}var yc=class{constructor(){this._=void 0}};function G4(n,e,t){return n instanceof vc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SE(o)&&(o=AE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Es?mR(n,e):n instanceof bs?gR(n,e):function(i,o){let s=pR(i,o),a=xx(s)+xx(i.Pe);return sI(s)&&sI(i.Pe)?fR(a):PE(i.serializer,a)}(n,e)}function W4(n,e,t){return n instanceof Es?mR(n,e):n instanceof bs?gR(n,e):t}function pR(n,e){return n instanceof wc?function(r){return sI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var vc=class extends yc{},Es=class extends yc{constructor(e){super(),this.elements=e}};function mR(n,e){let t=yR(e);for(let r of n.elements)t.some(i=>Mr(i,r))||t.push(r);return{arrayValue:{values:t}}}var bs=class extends yc{constructor(e){super(),this.elements=e}};function gR(n,e){let t=yR(e);for(let r of n.elements)t=t.filter(i=>!Mr(i,r));return{arrayValue:{values:t}}}var wc=class extends yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function xx(n){return nt(n.integerValue||n.doubleValue)}function yR(n){return xE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function K4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Es&&i instanceof Es||r instanceof bs&&i instanceof bs?dc(r.elements,i.elements,Mr):r instanceof wc&&i instanceof wc?Mr(r.Pe,i.Pe):r instanceof vc&&i instanceof vc}(n.transform,e.transform)}var vI=class{constructor(e,t){this.version=e,this.transformResults=t}},ci=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _c=class{};function vR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ml(n.key,ci.none()):new Cs(n.key,n.data,ci.none());{let t=n.data,r=En.empty(),i=new qt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Pr(n.key,r,new Vn(i.toArray()),ci.none())}}function Q4(n,e,t){n instanceof Cs?function(i,o,s){let a=i.value.clone(),u=Mx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Pr?function(i,o,s){if(!qp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Mx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(wR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof Cs?function(o,s,a,u){if(!qp(o.precondition,s))return a;let d=o.value.clone(),m=Nx(o.fieldTransforms,u,s);return d.setAll(m),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pr?function(o,s,a,u){if(!qp(o.precondition,s))return a;let d=Nx(o.fieldTransforms,u,s),m=s.data;return m.setAll(wR(o)),m.setAll(d),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return qp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Y4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=pR(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function Rx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,(o,s)=>K4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Cs=class extends _c{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Pr=class extends _c{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function wR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Mx(n,e,t){let r=new Map;qe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,W4(s,a,t[i]))}return r}function Nx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,G4(o,s,e))}return r}var Ml=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wI=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _I=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Q4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=hR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=vR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(t,r)=>Rx(t,r))&&dc(this.baseMutations,e.baseMutations,(t,r)=>Rx(t,r))}},II=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length);let i=function(){return B4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var EI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var vt,Ne;function Z4(n){switch(n){default:return se();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function _R(n){if(n===void 0)return ui("GRPC error has no .code"),j.UNKNOWN;switch(n){case vt.OK:return j.OK;case vt.CANCELLED:return j.CANCELLED;case vt.UNKNOWN:return j.UNKNOWN;case vt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case vt.INTERNAL:return j.INTERNAL;case vt.UNAVAILABLE:return j.UNAVAILABLE;case vt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case vt.NOT_FOUND:return j.NOT_FOUND;case vt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case vt.ABORTED:return j.ABORTED;case vt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case vt.DATA_LOSS:return j.DATA_LOSS;default:return se()}}(Ne=vt||(vt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var Px=null;function J4(){return new TextEncoder}var X4=new uo([4294967295,4294967295],0);function Ox(n){let e=J4().encode(n),t=new j_;return t.update(e),new Uint8Array(t.digest())}function kx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uo([t,r],0),new uo([i,o],0)]}var CI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ys(`Invalid padding: ${t}`);if(r<0)throw new ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ys(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=uo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(uo.fromNumber(r)));return i.compare(X4)===1&&(i=new uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Ox(e),[r,i]=kx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=Ox(e),[r,i]=kx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ys=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(me.min(),i,new ct(ke),di(),Se())}},Nl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Se(),Se(),Se())}};var cc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Xp=class{constructor(e,t){this.targetId=e,this.me=t}},em=class{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tm=class{constructor(){this.fe=0,this.ge=Lx(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),t=Se(),r=Se();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Nl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Lx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},DI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=di(),this.qe=Fx(),this.Qe=new ct(ke)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(gI(o))if(r===0){let s=new ie(o.path);this.Ue(t,s,Xn.newNoDocument(s,me.min()))}else qe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}Px?.et(function(m,p,_,E,M){var L,P,B,J,Q,ae;let Ae={localCacheCount:m,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},re=p.unchangedNames;return re&&(Ae.bloomFilter={applied:M===0,hashCount:(L=re?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(J=(B=(P=re?.bits)===null||P===void 0?void 0:P.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(ae=(Q=re?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&ae!==void 0?ae:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),Ae}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=fo(r).toUint8Array()}catch(u){if(u instanceof Qp)return lc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new CI(s,i,o)}catch(u){return lc(u instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&gI(a.target)){let u=new ie(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Xn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Jp(e,t,this.Qe,this.ke,r);return this.ke=di(),this.qe=Fx(),this.Qe=new ct(ke),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new tm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new qt(ke),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Fx(){return new ct(ie.comparator)}function Lx(){return new ct(ie.comparator)}var eH={asc:"ASCENDING",desc:"DESCENDING"},tH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nH={and:"AND",or:"OR"},TI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function SI(n,e){return n.useProto3Json||Em(e)?e:{value:e}}function nm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rH(n,e){return nm(n,e.toTimestamp())}function Rr(n){return qe(!!n),me.fromTimestamp(function(t){let r=li(t);return new jt(r.seconds,r.nanos)}(n))}function OE(n,e){return AI(n,e).canonicalString()}function AI(n,e){let t=function(i){return new at(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ER(n){let e=at.fromString(n);return qe(SR(e)),e}function xI(n,e){return OE(n.databaseId,e.path)}function z_(n,e){let t=ER(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(CR(t))}function bR(n,e){return OE(n.databaseId,e)}function iH(n){let e=ER(n);return e.length===4?at.emptyPath():CR(e)}function RI(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CR(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Vx(n,e,t){return{name:xI(n,e),fields:t.value.mapValue.fields}}function oH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(qe(m===void 0||typeof m=="string"),zt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),zt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let m=d.code===void 0?j.UNKNOWN:_R(d.code);return new ee(m,d.message||"")}(s);t=new em(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=z_(n,r.document.name),o=Rr(r.document.updateTime),s=r.document.createTime?Rr(r.document.createTime):me.min(),a=new En({mapValue:{fields:r.document.fields}}),u=Xn.newFoundDocument(i,o,s,a),d=r.targetIds||[],m=r.removedTargetIds||[];t=new cc(d,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=z_(n,r.document),o=r.readTime?Rr(r.readTime):me.min(),s=Xn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new cc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=z_(n,r.document),o=r.removedTargetIds||[];t=new cc([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new bI(i,o),a=r.targetId;t=new Xp(a,s)}}return t}function sH(n,e){let t;if(e instanceof Cs)t={update:Vx(n,e.key,e.value)};else if(e instanceof Ml)t={delete:xI(n,e.key)};else if(e instanceof Pr)t={update:Vx(n,e.key,e.data),updateMask:mH(e.fieldMask)};else{if(!(e instanceof wI))return se();t={verify:xI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof vc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(n,e.precondition)),t}function aH(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(me.min())&&(s=Rr(o)),new vI(s,i.transformResults||[])}(t,e))):[]}function cH(n,e){return{documents:[bR(n,e.path)]}}function uH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bR(n,i);let o=function(d){if(d.length!==0)return TR(Nr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:oc(_.field),direction:hH(_.dir)}}(m))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=SI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function lH(n){let e=iH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){qe(r===1);let m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(p){let _=DR(p);return _ instanceof Nr&&iR(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(_=>function(M){return new mc(sc(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(p){let _;return _=typeof p=="object"?p.value:p,Em(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(p){let _=!!p.before,E=p.values||[];return new pc(E,_)}(t.startAt));let d=null;return t.endAt&&(d=function(p){let _=!p.before,E=p.values||[];return new pc(E,_)}(t.endAt)),k4(e,i,s,o,a,"F",u,d)}function dH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=sc(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sc(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sc(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sc(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(sc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(r=>DR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(t.compositeFilter.op))}(n):se()}function hH(n){return eH[n]}function fH(n){return tH[n]}function pH(n){return nH[n]}function oc(n){return{fieldPath:n.canonicalString()}}function sc(n){return bn.fromServerFormat(n.fieldPath)}function TR(n){return n instanceof Tt?function(t){if(t.op==="=="){if(Cx(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NAN"}};if(bx(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cx(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NAN"}};if(bx(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(t.field),op:fH(t.op),value:t.value}}}(n):n instanceof Nr?function(t){let r=t.getFilters().map(i=>TR(i));return r.length===1?r[0]:{compositeFilter:{op:pH(t.op),filters:r}}}(n):se()}function mH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pl=class n{constructor(e,t,r,i,o=me.min(),s=me.min(),a=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var MI=class{constructor(e){this.ct=e}};function gH(n){let e=lH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yI(e,e.limit,"L"):e}var rm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(nt(e.integerValue));else if("doubleValue"in e){let r=nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Al(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=li(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(fo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?tR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):eR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):se()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(nt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};rm.vt=new rm;var NI=class{constructor(){this.un=new PI}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(_s.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},PI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qt(at.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(at.comparator)).toArray()}};var AQ=new Uint8Array(0);var Sr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(41943040,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);var Ol=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var OI=class{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var FI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Sl(r.mutation,i,Vn.empty(),jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Se()){let i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=bl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Se()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=di(),s=Tl(),a=function(){return Tl()}();return t.forEach((u,d)=>{let m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Pr)?o=o.insert(d.key,d):m!==void 0?(s.set(d.key,m.mutation.getFieldMask()),Sl(m.mutation,d,m.mutation.getFieldMask(),jt.now())):s.set(d.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,m)=>s.set(d,m)),t.forEach((d,m)=>{var p;return a.set(d,new kI(m,(p=s.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Tl(),i=new ct((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let m=r.get(u)||Vn.empty();m=a.applyToLocalView(d,m),r.set(u,m);let p=(i.get(a.batchId)||Se()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,m=u.value,p=hR();m.forEach(_=>{if(!o.has(_)){let E=vR(t.get(_),r.get(_));E!==null&&p.set(_,E),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(gs()),a=-1,u=o;return s.next(d=>$.forEach(d,(m,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(m)?$.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{u=u.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Se())).next(m=>({batchId:a,changes:dR(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=bl();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,u=>{let d=function(p,_){return new gc(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let m=d.getKey();s.get(m)===null&&(s=s.insert(m,Xn.newInvalidDocument(m)))});let a=bl();return s.forEach((u,d)=>{let m=o.get(u);m!==void 0&&Sl(m.mutation,d,Vn.empty(),jt.now()),Cm(t,d)&&(a=a.insert(u,d))}),a})}};var LI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:gH(i.bundledQuery),readTime:Rr(i.readTime)}}(t)),$.resolve()}};var VI=class{constructor(){this.overlays=new ct(ie.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gs();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=gs(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ct((d,m)=>d-m),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=gs(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}let a=gs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,m)=>a.set(d,m)),!(a.size()>=i)););return $.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EI(t,r));let o=this.Ir.get(t);o===void 0&&(o=Se(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var jI=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var kl=class{constructor(){this.Tr=new qt(wt.Er),this.dr=new qt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new wt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new wt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ie(new at([])),r=new wt(t,e),i=new wt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new at([])),r=new wt(t,e),i=new wt(t,e+1),o=Se();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new wt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},wt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||ke(e.wr,t.wr)}static Ar(e,t){return ke(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var UI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new qt(wt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _I(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new wt(t,0),i=new wt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(ke);return t.forEach(i=>{let o=new wt(i,0),s=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new wt(new ie(o),0),a=new qt(ke);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),$.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(t.mutations,i=>{let o=new wt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new wt(t,0),i=this.br.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var BI=class{constructor(e){this.Mr=e,this.docs=function(){return new ct(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=di(),s=t.path,a=new ie(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:m}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||C4(b4(m),r)<=0||(i.has(m.key)||Cm(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se()}Or(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $I(this)}getSize(e){return $.resolve(this.size)}},$I=class extends OI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var HI=class{constructor(e){this.persistence=e,this.Nr=new po(t=>RE(t),ME),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kl,this.targetCount=0,this.kr=Ol.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}};var qI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Jx(0),this.Kr=!1,this.Kr=!0,this.$r=new jI,this.referenceDelegate=e(this),this.Ur=new HI(this),this.indexManager=new NI,this.remoteDocumentCache=function(i){return new BI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new MI(t),this.Gr=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new UI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Z("MemoryPersistence","Starting transaction:",e);let i=new zI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},zI=class extends rI{constructor(e){super(),this.currentSequenceNumber=e}},GI=class n{constructor(e){this.persistence=e,this.Jr=new kl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var WI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Se(),i=Se();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var KI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var QI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QS()?8:T4(Mt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new KI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(El()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(El()<=Te.DEBUG&&Z("QueryEngine","Query:",ic(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(El()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):$.resolve())}Yi(e,t){if(Ax(t))return $.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yI(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Se(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,yI(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return Ax(t)||i.isEqual(me.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?$.resolve(null):(El()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(t)),this.rs(e,s,t,E4(i,-1)).next(a=>a))})}ts(e,t){let r=new qt(uR(e));return t.forEach((i,o)=>{Cm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return El()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ic(t)),this.Ji.getDocumentsMatchingQuery(e,t,_s.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var YI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ct(ke),this._s=new po(o=>RE(o),ME),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function yH(n,e,t,r){return new YI(n,e,t,r)}function AR(n,e){return D(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Se();for(let d of i){s.push(d.batchId);for(let m of d.mutations)u=u.add(m.key)}for(let d of o){a.push(d.batchId);for(let m of d.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function vH(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,m){let p=d.batch,_=p.keys(),E=$.resolve();return _.forEach(M=>{E=E.next(()=>m.getEntry(u,M)).next(L=>{let P=d.docVersions.get(M);qe(P!==null),L.version.compareTo(P)<0&&(p.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),m.addEntry(L)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Se();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function xR(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function wH(n,e){let t=he(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((m,p)=>{let _=i.get(p);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,m.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,m.addedDocuments,p)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(zt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(p,E),function(L,P,B){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(_,E,m)&&a.push(t.Ur.updateTargetData(o,E))});let u=di(),d=Se();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),a.push(_H(o,s,e.documentUpdates).next(m=>{u=m.Ps,d=m.Is})),!r.isEqual(me.min())){let m=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(m)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function _H(n,e,t){let r=Se(),i=Se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=di();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function IH(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EH(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Pl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function ZI(n,e,t){return D(this,null,function*(){let r=he(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bl(s))throw s;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function jx(n,e,t){let r=he(n),i=me.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,m){let p=he(u),_=p._s.get(m);return _!==void 0?$.resolve(p.os.get(_)):p.Ur.getTargetData(d,m)}(r,s,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:me.min(),t?o:Se())).next(a=>(bH(r,V4(e),a),{documents:a,Ts:o})))}function bH(n,e,t){let r=n.us.get(e)||me.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var im=class{constructor(){this.activeTargetIds=q4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var JI=class{constructor(){this.so=new im,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new im,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var XI=class{_o(e){}shutdown(){}};var om=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $p=null;function G_(){return $p===null?$p=function(){return 268435456+Math.round(2147483648*Math.random())}():$p++,"0x"+$p.toString(16)}var CH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var eE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ht="WebChannelConnection",tE=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=G_(),u=this.xo(t,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(m=>(Z("RestConnection",`Received RPC '${t}' ${a}: `,m),m),m=>{throw lc("RestConnection",`RPC '${t}' ${a} failed with error: `,m,"url: ",u,"request:",i),m})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=CH[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=G_();return new Promise((s,a)=>{let u=new U_;u.setWithCredentials(!0),u.listenOnce(B_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Il.NO_ERROR:let m=u.getResponseJson();Z(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),s(m);break;case Il.TIMEOUT:Z(Ht,`RPC '${e}' ${o} timed out`),a(new ee(j.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:let p=u.getStatus();if(Z(Ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let M=function(P){let B=P.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(B)>=0?B:j.UNKNOWN}(E.status);a(new ee(M,E.message))}else a(new ee(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ee(j.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Z(Ht,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);Z(Ht,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=G_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=q_(),a=H_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let m=o.join("");Z(Ht,`Creating RPC '${e}' stream ${i}: ${m}`,u);let p=s.createWebChannel(m,u),_=!1,E=!1,M=new eE({Io:P=>{E?Z(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(Z(Ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),Z(Ht,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),L=(P,B,J)=>{P.listen(B,Q=>{try{J(Q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return L(p,rc.EventType.OPEN,()=>{E||(Z(Ht,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),L(p,rc.EventType.CLOSE,()=>{E||(E=!0,Z(Ht,`RPC '${e}' stream ${i} transport closed`),M.So())}),L(p,rc.EventType.ERROR,P=>{E||(E=!0,lc(Ht,`RPC '${e}' stream ${i} transport errored:`,P),M.So(new ee(j.UNAVAILABLE,"The operation could not be completed")))}),L(p,rc.EventType.MESSAGE,P=>{var B;if(!E){let J=P.data[0];qe(!!J);let Q=J,ae=Q.error||((B=Q[0])===null||B===void 0?void 0:B.error);if(ae){Z(Ht,`RPC '${e}' stream ${i} received error:`,ae);let Ae=ae.status,re=function(b){let S=vt[b];if(S!==void 0)return _R(S)}(Ae),T=ae.message;re===void 0&&(re=j.INTERNAL,T="Unknown error status: "+Ae+" with message "+ae.message),E=!0,M.So(new ee(re,T)),p.close()}else Z(Ht,`RPC '${e}' stream ${i} received:`,J),M.bo(J)}}),L(a,$_.STAT_EVENT,P=>{P.stat===Up.PROXY?Z(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Up.NOPROXY&&Z(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function W_(){return typeof document<"u"?document:null}function Dm(n){return new TI(n,!0)}var sm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var am=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sm(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new ee(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nE=class extends am{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=oH(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Rr(s.readTime):me.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=RI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=gI(u)?{documents:cH(o,u)}:{query:uH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IR(o,s.resumeToken);let d=SI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=nm(o,s.snapshotVersion.toTimestamp());let d=SI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=dH(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=RI(this.serializer),t.removeTarget=e,this.a_(t)}},rE=class extends am{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=aH(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=RI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>sH(this.serializer,r))};this.a_(t)}};var iE=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,AI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(j.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,AI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},oE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ui(t),this.D_=!1):Z("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var sE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>D(this,null,function*(){Ts(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=he(u);d.L_.add(4),yield $l(d),d.q_.set("Unknown"),d.L_.delete(4),yield Tm(d)})}(this))}))}),this.q_=new oE(r,i)}};function Tm(n){return D(this,null,function*(){if(Ts(n))for(let e of n.B_)yield e(!0)})}function $l(n){return D(this,null,function*(){for(let e of n.B_)yield e(!1)})}function RR(n,e){let t=he(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),VE(t)?LE(t):Dc(t).r_()&&FE(t,e))}function kE(n,e){let t=he(n),r=Dc(t);t.N_.delete(e),r.r_()&&MR(t,e),t.N_.size===0&&(r.r_()?r.o_():Ts(t)&&t.q_.set("Unknown"))}function FE(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).A_(e)}function MR(n,e){n.Q_.xe(e),Dc(n).R_(e)}function LE(n){n.Q_=new DI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.q_.v_()}function VE(n){return Ts(n)&&!Dc(n).n_()&&n.N_.size>0}function Ts(n){return he(n).L_.size===0}function NR(n){n.Q_=void 0}function DH(n){return D(this,null,function*(){n.q_.set("Online")})}function TH(n){return D(this,null,function*(){n.N_.forEach((e,t)=>{FE(n,e)})})}function SH(n,e){return D(this,null,function*(){NR(n),VE(n)?(n.q_.M_(e),LE(n)):n.q_.set("Unknown")})}function AH(n,e,t){return D(this,null,function*(){if(n.q_.set("Online"),e instanceof em&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cm(n,r)}else if(e instanceof cc?n.Q_.Ke(e):e instanceof Xp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(me.min()))try{let r=yield xR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let m=o.N_.get(d);m&&o.N_.set(d,m.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let m=o.N_.get(u);if(!m)return;o.N_.set(u,m.withResumeToken(zt.EMPTY_BYTE_STRING,m.snapshotVersion)),MR(o,u);let p=new Pl(m.target,u,d,m.sequenceNumber);FE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),yield cm(n,r)}})}function cm(n,e,t){return D(this,null,function*(){if(!Bl(e))throw e;n.L_.add(1),yield $l(n),n.q_.set("Offline"),t||(t=()=>xR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){Z("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Tm(n)}))})}function PR(n,e){return e().catch(t=>cm(n,t,e))}function Sm(n){return D(this,null,function*(){let e=he(n),t=mo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;xH(e);)try{let i=yield IH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,RH(e,i)}catch(i){yield cm(e,i)}OR(e)&&kR(e)})}function xH(n){return Ts(n)&&n.O_.length<10}function RH(n,e){n.O_.push(e);let t=mo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function OR(n){return Ts(n)&&!mo(n).n_()&&n.O_.length>0}function kR(n){mo(n).start()}function MH(n){return D(this,null,function*(){mo(n).p_()})}function NH(n){return D(this,null,function*(){let e=mo(n);for(let t of n.O_)e.m_(t.mutations)})}function PH(n,e,t){return D(this,null,function*(){let r=n.O_.shift(),i=II.from(r,e,t);yield PR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sm(n)})}function OH(n,e){return D(this,null,function*(){e&&mo(n).V_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return Z4(s)&&s!==j.ABORTED}(i.code)){let o=r.O_.shift();mo(r).s_(),yield PR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sm(r)}})}(n,e)),OR(n)&&kR(n)})}function Ux(n,e){return D(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");let r=Ts(t);t.L_.add(3),yield $l(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Tm(t)})}function kH(n,e){return D(this,null,function*(){let t=he(n);e?(t.L_.delete(2),yield Tm(t)):e||(t.L_.add(2),yield $l(t),t.q_.set("Unknown"))})}function Dc(n){return n.K_||(n.K_=function(t,r,i){let o=he(t);return o.w_(),new nE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:DH.bind(null,n),Ro:TH.bind(null,n),mo:SH.bind(null,n),d_:AH.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.K_.s_(),VE(n)?LE(n):n.q_.set("Unknown")):(yield n.K_.stop(),NR(n))}))),n.K_}function mo(n){return n.U_||(n.U_=function(t,r,i){let o=he(t);return o.w_(),new rE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MH.bind(null,n),mo:OH.bind(null,n),f_:NH.bind(null,n),g_:PH.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.U_.s_(),yield Sm(n)):(yield n.U_.stop(),n.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var aE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jE(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Bl(n))return new ee(j.UNAVAILABLE,`${e}: ${n}`);throw n}var um=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var lm=class{constructor(){this.W_=new ct(ie.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ic=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,um.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var cE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},uE=class{constructor(){this.queries=Bx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=Bx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new ee(j.ABORTED,"Firestore shutting down"))}};function Bx(){return new po(n=>cR(n),bm)}function FH(n,e){return D(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new cE,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=jE(s,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&UE(t)})}function LH(n,e){return D(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function VH(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&UE(t)}function jH(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function UE(n){n.Y_.forEach(e=>{e.next()})}var lE,$x;($x=lE||(lE={})).ea="default",$x.Cache="cache";var dE=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lE.Cache}};var dm=class{constructor(e){this.key=e}},hm=class{constructor(e){this.key=e}},hE=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=uR(e),this.Ra=new um(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new lm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,p)=>{let _=i.get(m),E=Cm(this.query,p)?p:null,M=!!_&&this.mutatedKeys.has(_.key),L=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),P=!1;_&&E?_.data.isEqual(E.data)?M!==L&&(r.track({type:3,doc:E}),P=!0):this.ga(_,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),P=!0):_&&!E&&(r.track({type:1,doc:_}),P=!0,(u||d)&&(a=!0)),P&&(E?(s=s.add(E),o=L?o.add(m):o.delete(m)):(s=s.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((m,p)=>function(E,M){let L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return L(E)-L(M)}(m.type,p.type)||this.Aa(m.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new Ic(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new hm(r))}),this.da.forEach(r=>{e.has(r)||t.push(new dm(r))}),t}ba(e){this.Ta=e.Ts,this.da=Se();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},fE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},pE=class{constructor(e){this.key=e,this.va=!1}},mE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new po(a=>cR(a),bm),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(ie.comparator),this.Na=new Map,this.La=new kl,this.Ba={},this.ka=new Map,this.qa=Ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function UH(n,e,t=!0){return D(this,null,function*(){let r=BR(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield FR(r,e,t,!0),i})}function BH(n,e){return D(this,null,function*(){let t=BR(n);yield FR(t,e,!0,!1)})}function FR(n,e,t,r){return D(this,null,function*(){let i=yield EH(n.localStore,xr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield $H(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&RR(n.remoteStore,i),a})}function $H(n,e,t,r,i){return D(this,null,function*(){n.Ka=(p,_,E)=>function(L,P,B,J){return D(this,null,function*(){let Q=P.view.ma(B);Q.ns&&(Q=yield jx(L.localStore,P.query,!1).then(({documents:T})=>P.view.ma(T,Q)));let ae=J&&J.targetChanges.get(P.targetId),Ae=J&&J.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(Q,L.isPrimaryClient,ae,Ae);return qx(L,P.targetId,re.wa),re.snapshot})}(n,p,_,E);let o=yield jx(n.localStore,e,!0),s=new hE(e,o.Ts),a=s.ma(o.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);qx(n,t,d.wa);let m=new fE(e,t,s);return n.Fa.set(e,m),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function HH(n,e,t){return D(this,null,function*(){let r=he(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!bm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ZI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kE(r.remoteStore,i.targetId),gE(r,i.targetId)}).catch(Ul))):(gE(r,i.targetId),yield ZI(r.localStore,i.targetId,!0))})}function qH(n,e){return D(this,null,function*(){let t=he(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kE(t.remoteStore,r.targetId))})}function zH(n,e,t){return D(this,null,function*(){let r=JH(n);try{let i=yield function(s,a){let u=he(s),d=jt.now(),m=a.reduce((E,M)=>E.add(M.key),Se()),p,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=di(),L=Se();return u.cs.getEntries(E,m).next(P=>{M=P,M.forEach((B,J)=>{J.isValidDocument()||(L=L.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(P=>{p=P;let B=[];for(let J of a){let Q=Y4(J,p.get(J.key).overlayedDocument);Q!=null&&B.push(new Pr(J.key,Q,nR(Q.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,B,a)}).next(P=>{_=P;let B=P.applyToLocalDocumentSet(p,L);return u.documentOverlayCache.saveOverlays(E,P.batchId,B)})}).then(()=>({batchId:_.batchId,changes:dR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new ct(ke)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Hl(r,i.changes),yield Sm(r.remoteStore)}catch(i){let o=jE(i,"Failed to persist write");t.reject(o)}})}function LR(n,e){return D(this,null,function*(){let t=he(n);try{let r=yield wH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),yield Hl(t,r,e)}catch(r){yield Ul(r)}})}function Hx(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let d=!1;u.queries.forEach((m,p)=>{for(let _ of p.j_)_.Z_(a)&&(d=!0)}),d&&UE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function GH(n,e,t){return D(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ct(ie.comparator);s=s.insert(o,Xn.newNoDocument(o,me.min()));let a=Se().add(o),u=new Jp(me.min(),new Map,new ct(ke),s,a);yield LR(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),BE(r)}else yield ZI(r.localStore,e,!1).then(()=>gE(r,e,t)).catch(Ul)})}function WH(n,e){return D(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield vH(t.localStore,e);jR(t,r,null),VR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hl(t,i)}catch(i){yield Ul(i)}})}function KH(n,e,t){return D(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,a).next(p=>(qe(p!==null),m=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(r.localStore,e);jR(r,e,t),VR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hl(r,i)}catch(i){yield Ul(i)}})}function VR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function jR(n,e,t){let r=he(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function gE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||UR(n,r)})}function UR(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(kE(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),BE(n))}function qx(n,e,t){for(let r of t)r instanceof dm?(n.La.addReference(r.key,e),QH(n,r)):r instanceof hm?(Z("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||UR(n,r.key)):se()}function QH(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Z("SyncEngine","New document in limbo: "+t),n.xa.add(r),BE(n))}function BE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(at.fromString(e)),r=n.qa.next();n.Na.set(r,new pE(t)),n.Oa=n.Oa.insert(t,r),RR(n.remoteStore,new Pl(xr(NE(t.path)),r,"TargetPurposeLimboResolution",Jx.oe))}}function Hl(n,e,t){return D(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var m;if((d||t)&&r.isPrimaryClient){let p=d?!d.fromCache:(m=t?.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);let p=WI.Wi(u.targetId,d);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let m=he(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(d,_=>$.forEach(_.$i,E=>m.persistence.referenceDelegate.addReference(p,_.targetId,E)).next(()=>$.forEach(_.Ui,E=>m.persistence.referenceDelegate.removeReference(p,_.targetId,E)))))}catch(p){if(!Bl(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let _=p.targetId;if(!p.fromCache){let E=m.os.get(_),M=E.snapshotVersion,L=E.withLastLimboFreeSnapshotVersion(M);m.os=m.os.insert(_,L)}}})}(r.localStore,o))})}function YH(n,e){return D(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());let r=yield AR(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ee(j.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hl(t,r.hs)}})}function ZH(n,e){let t=he(n),r=t.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function BR(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GH.bind(null,e),e.Ca.d_=VH.bind(null,e.eventManager),e.Ca.$a=jH.bind(null,e.eventManager),e}function JH(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KH.bind(null,e),e}var zx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=Dm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return yH(this.persistence,new QI,t.initialUser,this.serializer)}Ga(t){return new qI(GI.Zr,this.serializer)}Wa(t){return new JI}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var XH=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Hx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YH.bind(null,this.syncEngine),yield kH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new uE}()}createDatastore(t){let r=Dm(t.databaseInfo.databaseId),i=function(s){return new tE(s)}(t.databaseInfo);return function(s,a,u,d){return new iE(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new sE(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>Hx(this.syncEngine,r,0),function(){return om.D()?new om:new XI}())}createSyncEngine(t,r){return function(o,s,a,u,d,m,p){let _=new mE(o,s,a,u,d,m);return p&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=he(o);Z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $l(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var yE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){Z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=jE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function K_(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield AR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Gx(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield eq(n);Z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ux(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ux(e.remoteStore,i)),n._onlineComponents=e})}function eq(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield K_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;lc("Error using user provided cache. Falling back to memory cache: "+t),yield K_(n,new zx)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),yield K_(n,new zx);return n._offlineComponents})}function $R(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gx(n,n._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),yield Gx(n,new XH))),n._onlineComponents})}function tq(n){return $R(n).then(e=>e.syncEngine)}function Wx(n){return D(this,null,function*(){let e=yield $R(n),t=e.eventManager;return t.onListen=UH.bind(null,e.syncEngine),t.onUnlisten=HH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qH.bind(null,e.syncEngine),t})}function HR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Kx=new Map;function qR(n,e,t){if(!t)throw new ee(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nq(n,e,t,r){if(e===!0&&r===!0)throw new ee(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qx(n){if(!ie.isDocumentKey(n))throw new ee(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yx(n){if(ie.isDocumentKey(n))throw new ee(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $E(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se()}function lo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$E(n);throw new ee(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ec=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q_;switch(r.type){case"firstParty":return new X_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Kx.get(t);r&&(Z("ComponentProvider","Removing Datastore"),Kx.delete(t),r.terminate())}(this),Promise.resolve()}};function zR(n,e,t,r={}){var i;let o=(n=lo(n,Ec))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Nt.MOCK_USER;else{a=HS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ee(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(d)}n._authCredentials=new Y_(new zp(a,u))}}var pm=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Cn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ho=class n extends pm{constructor(e,t,r){super(e,t,NE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function GR(n,e,...t){if(n=yt(n),qR("collection","path",e),n instanceof Ec){let r=at.fromString(e,...t);return Yx(r),new ho(n,null,r)}{if(!(n instanceof Cn||n instanceof ho))throw new ee(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return Yx(r),new ho(n.firestore,null,r)}}function HE(n,e,...t){if(n=yt(n),arguments.length===1&&(e=Gp.newId()),qR("doc","path",e),n instanceof Ec){let r=at.fromString(e,...t);return Qx(r),new Cn(n,null,new ie(r))}{if(!(n instanceof Cn||n instanceof ho))throw new ee(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return Qx(r),new Cn(n.firestore,n instanceof ho?n.converter:null,new ie(r))}}var mm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sm(this,"async_queue_retry"),this.Vu=()=>{let r=W_();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=W_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=W_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=aE.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function Zx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var go=class extends Ec{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,yield e}})}};function WR(n,e){let t=typeof n=="object"?n:Ya(),r=typeof n=="string"?n:e||"(default)",i=ll(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=$S("firestore");o&&zR(i,...o)}return i}function KR(n){if(n._terminated)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rq(n),n._firestoreClient}function rq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,m){return new iI(a,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HR(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new vE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Fl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(zt.fromBase64String(e))}catch(t){throw new ee(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ll=class{constructor(e){this._methodName=e}};var Vl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}};var jl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var iq=/^__.*__$/,wE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cs(e,this.data,t,this.fieldTransforms)}},gm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var _E=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QR(this.Cu)&&iq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},IE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dm(e)}Qu(e,t,r,i=!1){return new _E({Cu:e,methodName:t,qu:r,path:bn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function YR(n){let e=n._freezeSettings(),t=Dm(n._databaseId);return new IE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oq(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);qE("Data must be an object, but it was:",s,r);let a=ZR(r,s),u,d;if(o.merge)u=new Vn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let m=[];for(let p of o.mergeFields){let _=EE(e,p,t);if(!s.contains(_))throw new ee(j.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XR(m,_)||m.push(_)}u=new Vn(m),d=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=s.fieldTransforms;return new wE(new En(a),u,d)}var ym=class n extends Ll{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function sq(n,e,t,r){let i=n.Qu(1,e,t);qE("Data must be an object, but it was:",i,r);let o=[],s=En.empty();Ds(r,(u,d)=>{let m=zE(e,u,t);d=yt(d);let p=i.Nu(m);if(d instanceof ym)o.push(m);else{let _=Am(d,p);_!=null&&(o.push(m),s.set(m,_))}});let a=new Vn(o);return new gm(s,a,i.fieldTransforms)}function aq(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[EE(e,r,t)],u=[i];if(o.length%2!=0)throw new ee(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(EE(e,o[_])),u.push(o[_+1]);let d=[],m=En.empty();for(let _=a.length-1;_>=0;--_)if(!XR(d,a[_])){let E=a[_],M=u[_];M=yt(M);let L=s.Nu(E);if(M instanceof ym)d.push(E);else{let P=Am(M,L);P!=null&&(d.push(E),m.set(E,P))}}let p=new Vn(d);return new gm(m,p,s.fieldTransforms)}function Am(n,e){if(JR(n=yt(n)))return qE("Unsupported field value:",e,n),ZR(n,e);if(n instanceof Ll)return function(r,i){if(!QR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Am(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=jt.fromDate(r);return{timestampValue:nm(i.serializer,o)}}if(r instanceof jt){let o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(i.serializer,o)}}if(r instanceof Vl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:IR(i.serializer,r._byteString)};if(r instanceof Cn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return PE(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$E(r)}`)}(n,e)}function ZR(n,e){let t={};return Xx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(n,(r,i)=>{let o=Am(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function JR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof Vl||n instanceof Fl||n instanceof Cn||n instanceof Ll||n instanceof jl)}function qE(n,e,t){if(!JR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=$E(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function EE(n,e,t){if((e=yt(e))instanceof bc)return e._internalPath;if(typeof e=="string")return zE(n,e);throw vm("Field path arguments must be of type string or ",n,!1,void 0,t)}var cq=new RegExp("[~\\*/\\[\\]]");function zE(n,e,t){if(e.search(cq)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ee(j.INVALID_ARGUMENT,a+n+u)}function XR(n,e){return n.some(t=>t.isEqual(e))}var wm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(eM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bE=class extends wm{data(){return super.data()}};function eM(n,e){return typeof e=="string"?zE(n,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function uq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ee(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var CE=class{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ds(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>nt(s.doubleValue));return new jl(o)}convertGeoPoint(e){return new Vl(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=AE(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){let t=li(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=at.fromString(e);qe(SR(r));let i=new Yp(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||ui(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function lq(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_m=class extends wm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(eM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},uc=class extends _m{data(e={}){return super.data(e)}},DE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uc(this._firestore,this._userDataWriter,r.key,r,new vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,m=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:dq(a.type),doc:u,oldIndex:d,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function dq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}var Im=class extends CE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}};function tM(n,e,t,...r){n=lo(n,Cn);let i=lo(n.firestore,go),o=YR(i),s;return s=typeof(e=yt(e))=="string"||e instanceof bc?aq(o,"updateDoc",n._key,e,t,r):sq(o,"updateDoc",n._key,e),GE(i,[s.toMutation(n._key,ci.exists(!0))])}function nM(n){return GE(lo(n.firestore,go),[new Ml(n._key,ci.none())])}function rM(n,e){let t=lo(n.firestore,go),r=HE(n),i=lq(n.converter,e);return GE(t,[oq(YR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function xm(n,...e){var t,r,i;n=yt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Zx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Zx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,d,m;if(n instanceof Cn)d=lo(n.firestore,go),m=NE(n._key.path),u={next:p=>{e[s]&&e[s](hq(d,n,p))},error:e[s+1],complete:e[s+2]};else{let p=lo(n,pm);d=lo(p.firestore,go),m=p._query;let _=new Im(d);u={next:E=>{e[s]&&e[s](new DE(d,_,p,E))},error:e[s+1],complete:e[s+2]},uq(n._query)}return function(_,E,M,L){let P=new yE(L),B=new dE(E,P,M);return _.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return FH(yield Wx(_),B)})),()=>{P.Za(),_.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return LH(yield Wx(_),B)}))}}(KR(d),m,a,u)}function GE(n,e){return function(r,i){let o=new ai;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return zH(yield tq(r),i,o)})),o.promise}(KR(n),e)}function hq(n,e,t){let r=t.docs.get(e._key),i=new Im(n);return new _m(n,i,e._key,r,new vs(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Cc=i})(io),ro(new Ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new go(new Z_(r.getProvider("auth-internal")),new tI(r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ee(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yp(d.options.projectId,m)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Dt(wx,"4.7.3",e),Dt(wx,"4.7.3","esm2017")})();var Rm=function(){return Rm=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rm.apply(this,arguments)};var mq={includeMetadataChanges:!1};function iM(n,e){return e===void 0&&(e=mq),new we(function(t){var r=xm(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function oM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Rm(Rm({},r),(t={},t[e.idField]=n.id,t))}function sM(n){return iM(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function aM(n,e){return e===void 0&&(e={}),sM(n).pipe(le(function(t){return t.map(function(r){return oM(r,e)})}))}var er=class{constructor(e){return e}},cM="firestore",WE=class{constructor(){return dl(cM)}};var KE=new X("angularfire2.firestore-instances");function gq(n,e){let t=hp(cM,n,e);return t&&new er(t)}function yq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new er(r)}}var vq={provide:WE,deps:[[new Yt,KE]]},wq={provide:er,useFactory:gq,deps:[[new Yt,KE],ri]};function uM(n,...e){return Dt("angularfire",ls.full,"fst"),Mn([wq,vq,{provide:KE,useFactory:yq(n),multi:!0,deps:[Ve,nn,Xa,ds,[new Yt,_l],[new Yt,Ja],...e]}])}var lM=$t(aM,!0);var Mm=$t(rM,!0);var Tc=$t(GR,!0);var dM=$t(nM,!0);var QE=$t(HE,!0);var hM=$t(WR,!0);var fM=$t(xm,!0);var pM=$t(tM,!0);function _q(n,e){n&1&&(F(0,"small"),V(1,"El nombre es requerido."),N())}function Iq(n,e){n&1&&(F(0,"small"),V(1,"Solo se permiten letras."),N())}function Eq(n,e){if(n&1&&(F(0,"div",27),ge(1,_q,2,0,"small",28)(2,Iq,2,0,"small",28),N()),n&2){let t=pe();U(),W("ngIf",t.nombre==null||t.nombre.errors==null?null:t.nombre.errors.required),U(),W("ngIf",t.nombre==null||t.nombre.errors==null?null:t.nombre.errors.pattern)}}function bq(n,e){n&1&&(F(0,"small"),V(1,"El DNI es requerido."),N())}function Cq(n,e){n&1&&(F(0,"small"),V(1,"Debe contener solo n\xFAmeros y tener 8 caracteres."),N())}function Dq(n,e){if(n&1&&(F(0,"div",27),ge(1,bq,2,0,"small",28)(2,Cq,2,0,"small",28),N()),n&2){let t=pe();U(),W("ngIf",t.dni==null||t.dni.errors==null?null:t.dni.errors.required),U(),W("ngIf",t.dni==null||t.dni.errors==null?null:t.dni.errors.pattern)}}function Tq(n,e){n&1&&(F(0,"small"),V(1,"La edad es requerida."),N())}function Sq(n,e){n&1&&(F(0,"small"),V(1,"Debe ser mayor o igual a 18 a\xF1os."),N())}function Aq(n,e){n&1&&(F(0,"small"),V(1,"Debe ser menor o igual a 50 a\xF1os."),N())}function xq(n,e){if(n&1&&(F(0,"div",27),ge(1,Tq,2,0,"small",28)(2,Sq,2,0,"small",28)(3,Aq,2,0,"small",28),N()),n&2){let t=pe();U(),W("ngIf",t.edad==null||t.edad.errors==null?null:t.edad.errors.required),U(),W("ngIf",t.edad==null||t.edad.errors==null?null:t.edad.errors.min),U(),W("ngIf",t.edad==null||t.edad.errors==null?null:t.edad.errors.max)}}function Rq(n,e){n&1&&(F(0,"small"),V(1,"El n\xFAmero de licencia es requerido."),N())}function Mq(n,e){n&1&&(F(0,"small"),V(1,"Debe contener al menos 7 caracteres."),N())}function Nq(n,e){n&1&&(F(0,"small"),V(1,"Debe contener solo n\xFAmeros."),N())}function Pq(n,e){if(n&1&&(F(0,"div",27),ge(1,Rq,2,0,"small",28)(2,Mq,2,0,"small",28)(3,Nq,2,0,"small",28),N()),n&2){let t=pe();U(),W("ngIf",t.nroLicencia==null||t.nroLicencia.errors==null?null:t.nroLicencia.errors.required),U(),W("ngIf",t.nroLicencia==null||t.nroLicencia.errors==null?null:t.nroLicencia.errors.minlength),U(),W("ngIf",t.nroLicencia==null||t.nroLicencia.errors==null?null:t.nroLicencia.errors.pattern)}}function Oq(n,e){n&1&&(F(0,"small"),V(1,"La nacionalidad es requerida."),N())}function kq(n,e){if(n&1&&(F(0,"div",27),ge(1,Oq,2,0,"small",28),N()),n&2){let t=pe();U(),W("ngIf",t.nacionalidad==null||t.nacionalidad.errors==null?null:t.nacionalidad.errors.required)}}function Fq(n,e){if(n&1&&(F(0,"div",29),V(1),N()),n&2){let t=pe();U(),it(" ",t.mensajeExito," ")}}var Nm=class n{constructor(e,t){this.fb=e;this.firestore=t;this.choferForm=this.fb.group({nombre:["",[$e.required,$e.pattern("^[a-zA-Z ]+$")]],dni:["",[$e.required,$e.pattern("^[0-9]{8}$")]],edad:["",[$e.required,$e.min(18),$e.max(50)]],nroLicencia:["",[$e.required,$e.minLength(7),$e.pattern("^[0-9]+$")]],licenciaProfesional:[!1],nacionalidad:["",$e.required]})}choferForm;nacionalidadSeleccionada="";mensajeExito="";get nombre(){return this.choferForm.get("nombre")}get dni(){return this.choferForm.get("dni")}get edad(){return this.choferForm.get("edad")}get nroLicencia(){return this.choferForm.get("nroLicencia")}get licenciaProfesional(){return this.choferForm.get("licenciaProfesional")}get nacionalidad(){return this.choferForm.get("nacionalidad")}onPaisSeleccionado(e){this.nacionalidadSeleccionada=e,this.choferForm.patchValue({nacionalidad:e})}onSubmit(){return D(this,null,function*(){if(this.choferForm.valid){console.log("Datos del formulario:",this.choferForm.value);try{let e=yield Mm(Tc(this.firestore,"alta-choferes"),this.choferForm.value);console.log("Documento escrito con ID: ",e.id),this.mensajeExito="Chofer agregado con \xE9xito.",this.choferForm.reset(),setTimeout(()=>{this.mensajeExito=""},2e3),this.nacionalidadSeleccionada=""}catch(e){console.error("Error agregando documento: ",e)}}})}static \u0275fac=function(t){return new(t||n)(K(za),K(er))};static \u0275cmp=je({type:n,selectors:[["app-alta"]],standalone:!0,features:[Ue],decls:46,vars:9,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8","mx-auto"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","nroLicencia",1,"form-label"],["type","text","id","nroLicencia","formControlName","nroLicencia","required","",1,"form-control"],[1,"col-12"],[1,"form-check"],["id","licenciaProfesional","type","checkbox","formControlName","licenciaProfesional",1,"form-check-input"],["for","licenciaProfesional",1,"form-check-label"],["for","nacionalidad",1,"form-label"],["type","text","id","nacionalidad","readonly","",1,"form-control",3,"value"],[3,"paisSeleccionado"],["class","alert alert-success mt-3",4,"ngIf"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger"],[4,"ngIf"],[1,"alert","alert-success","mt-3"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),V(4,"Formulario Alta de Chofer"),N()(),F(5,"div",2)(6,"div",3)(7,"h4",4),V(8,"Datos del Chofer"),N(),F(9,"form",5),ce("ngSubmit",function(){return r.onSubmit()}),F(10,"div",6)(11,"div",7)(12,"label",8),V(13,"Nombre"),N(),He(14,"input",9),ge(15,Eq,3,2,"div",10),N(),F(16,"div",7)(17,"label",11),V(18,"DNI"),N(),He(19,"input",12),ge(20,Dq,3,2,"div",10),N(),F(21,"div",7)(22,"label",13),V(23,"Edad"),N(),He(24,"input",14),ge(25,xq,4,3,"div",10),N(),F(26,"div",7)(27,"label",15),V(28,"N\xFAmero de Licencia"),N(),He(29,"input",16),ge(30,Pq,4,3,"div",10),N(),F(31,"div",17)(32,"div",18),He(33,"input",19),F(34,"label",20),V(35,"Licencia Profesional"),N()()(),F(36,"div",17)(37,"label",21),V(38,"Nacionalidad"),N(),He(39,"input",22),F(40,"app-lista-paises",23),ce("paisSeleccionado",function(o){return r.onPaisSeleccionado(o)}),N(),ge(41,kq,2,1,"div",10),N()(),ge(42,Fq,2,1,"div",24),He(43,"hr",25),F(44,"button",26),V(45,"Dar de Alta"),N()()()()()()),t&2&&(U(9),W("formGroup",r.choferForm),U(6),W("ngIf",(r.nombre==null?null:r.nombre.invalid)&&((r.nombre==null?null:r.nombre.dirty)||(r.nombre==null?null:r.nombre.touched))),U(5),W("ngIf",(r.dni==null?null:r.dni.invalid)&&((r.dni==null?null:r.dni.dirty)||(r.dni==null?null:r.dni.touched))),U(5),W("ngIf",(r.edad==null?null:r.edad.invalid)&&((r.edad==null?null:r.edad.dirty)||(r.edad==null?null:r.edad.touched))),U(5),W("ngIf",(r.nroLicencia==null?null:r.nroLicencia.invalid)&&((r.nroLicencia==null?null:r.nroLicencia.dirty)||(r.nroLicencia==null?null:r.nroLicencia.touched))),U(9),W("value",r.nacionalidadSeleccionada),U(2),W("ngIf",(r.nacionalidad==null?null:r.nacionalidad.invalid)&&((r.nacionalidad==null?null:r.nacionalidad.dirty)||(r.nacionalidad==null?null:r.nacionalidad.touched))),U(),W("ngIf",r.mensajeExito),U(2),W("disabled",r.choferForm.invalid))},dependencies:[Xe,Rt,Ga,eo,Fn,is,ww,Ir,Xi,ei,Wa,os,ss,Vp],styles:[".container[_ngcontent-%COMP%]{max-width:960px;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#343a40}.text-danger[_ngcontent-%COMP%]{font-size:.9rem;margin-top:5px}button[type=submit][_ngcontent-%COMP%]{margin-top:20px}"]})};function Lq(n,e){if(n&1){let t=lt();F(0,"tr")(1,"td"),V(2),N(),F(3,"td"),V(4),N(),F(5,"td"),V(6),N(),F(7,"td")(8,"button",4),ce("click",function(){let i=Qe(t).$implicit,o=pe();return Ye(o.seleccionarChofer(i))}),V(9,"Ver Detalles"),N()()()}if(n&2){let t=e.$implicit;U(2),On(t.nombre),U(2),On(t.edad),U(2),On(t.nacionalidad)}}var Pm=class n{constructor(e){this.firestore=e}choferes=[];choferSeleccionado=new Le;ngOnInit(){let e=Tc(this.firestore,"alta-choferes");fM(e,t=>{this.choferes=t.docs.map(r=>z({id:r.id},r.data()))})}seleccionarChofer(e){this.choferSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)(K(er))};static \u0275cmp=je({type:n,selectors:[["app-tabla-choferes"]],outputs:{choferSeleccionado:"choferSeleccionado"},standalone:!0,features:[Ue],decls:14,vars:1,consts:[[1,"table-responsive"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),V(5,"Nombre"),N(),F(6,"th"),V(7,"Edad"),N(),F(8,"th"),V(9,"Pa\xEDs"),N(),F(10,"th"),V(11,"Acciones"),N()()(),F(12,"tbody"),ge(13,Lq,10,3,"tr",3),N()()()),t&2&&(U(13),W("ngForOf",r.choferes))},dependencies:[Xe,xa],styles:['@charset "UTF-8";.table[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.btn-primary[_ngcontent-%COMP%]{transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}']})};function Vq(n,e){if(n&1&&(F(0,"div",1)(1,"div",2)(2,"h5",3),V(3,"Detalle del Chofer"),N()(),F(4,"div",4)(5,"p")(6,"strong"),V(7,"Nombre:"),N(),V(8),N(),F(9,"p")(10,"strong"),V(11,"Edad:"),N(),V(12),N(),F(13,"p")(14,"strong"),V(15,"DNI:"),N(),V(16),N(),F(17,"p")(18,"strong"),V(19,"Pa\xEDs:"),N(),V(20),N()()()),n&2){let t=pe();U(8),it(" ",t.chofer.nombre,""),U(4),it(" ",t.chofer.edad," a\xF1os"),U(4),it(" ",t.chofer.dni||"Sin especificar",""),U(4),it(" ",t.chofer.nacionalidad||"Sin especificar","")}}var Om=class n{chofer;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-detalle-chofer"]],inputs:{chofer:"chofer"},standalone:!0,features:[Ue],decls:1,vars:1,consts:[["class","card shadow-sm",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"card-title","mb-0"],[1,"card-body"]],template:function(t,r){t&1&&ge(0,Vq,21,4,"div",0),t&2&&W("ngIf",r.chofer)},dependencies:[Xe,Rt],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px}.card-body[_ngcontent-%COMP%]{font-size:1rem;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px;margin-top:10px}"]})};function jq(n,e){if(n&1&&(F(0,"p"),He(1,"img",6),N()),n&2){let t=pe(2);U(),gf("alt","Bandera de ",(t.pais.translations==null||t.pais.translations.spa==null?null:t.pais.translations.spa.common)||t.pais.name.common,""),W("src",t.pais.flags.png,wa)}}function Uq(n,e){if(n&1&&(F(0,"div",1)(1,"div",2)(2,"h5",3),V(3,"Detalle del Pa\xEDs"),N()(),F(4,"div",4)(5,"p")(6,"strong"),V(7,"Pa\xEDs:"),N(),V(8),N(),F(9,"p")(10,"strong"),V(11,"Capital:"),N(),V(12),N(),F(13,"p")(14,"strong"),V(15,"Regi\xF3n:"),N(),V(16),N(),ge(17,jq,2,3,"p",5),N()()),n&2){let t=pe();U(8),it(" ",(t.pais.translations==null||t.pais.translations.spa==null?null:t.pais.translations.spa.common)||t.pais.name.common,""),U(4),it(" ",t.pais.capital?t.pais.capital[0]:"Sin capital",""),U(4),it(" ",t.regionEnEspanol(t.pais.region),""),U(),W("ngIf",t.pais.flags)}}var km=class n{constructor(e){this.paisesService=e}paisNombre="";pais=null;ngOnChanges(e){e.paisNombre&&this.paisNombre&&this.obtenerDetallePais(this.paisNombre)}obtenerDetallePais(e){this.paisesService.getPaises().subscribe(t=>{this.pais=t.find(r=>r.translations.spa.common.toLowerCase()===e.toLowerCase()),this.pais||console.error(`Pa\xEDs no encontrado: ${e}`)})}regionEnEspanol(e){return{Africa:"\xC1frica",Americas:"Am\xE9rica",Asia:"Asia",Europe:"Europa",Oceania:"Ocean\xEDa",Antarctic:"Ant\xE1rtida"}[e]||e}static \u0275fac=function(t){return new(t||n)(K(nc))};static \u0275cmp=je({type:n,selectors:[["app-detalle-pais"]],inputs:{paisNombre:"paisNombre"},standalone:!0,features:[pn,Ue],decls:1,vars:1,consts:[["class","card shadow-sm",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-success","text-white"],[1,"card-title","mb-0"],[1,"card-body"],[4,"ngIf"],["width","50",3,"src","alt"]],template:function(t,r){t&1&&ge(0,Uq,18,4,"div",0),t&2&&W("ngIf",r.pais)},dependencies:[Xe,Rt]})};var Fm=class n{choferSeleccionado;mostrarDetalles(e){this.choferSeleccionado=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-choferes"]],standalone:!0,features:[Ue],decls:10,vars:2,consts:[[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3","shadow-sm"],[1,"display-5","fw-bold","text-center","mb-4"],[3,"choferSeleccionado"],[1,"row","g-4"],[1,"col-lg-6",2,"border","2px solid blue"],[3,"chofer"],[1,"col-lg-6",2,"border","2px solid green"],[3,"paisNombre"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"h1",2),V(3,"Gesti\xF3n de Choferes"),N(),F(4,"app-tabla-choferes",3),ce("choferSeleccionado",function(o){return r.mostrarDetalles(o)}),N()(),F(5,"div",4)(6,"div",5),He(7,"app-detalle-chofer",6),N(),F(8,"div",7),He(9,"app-detalle-pais",8),N()()()),t&2&&(U(7),W("chofer",r.choferSeleccionado),U(2),W("paisNombre",r.choferSeleccionado==null?null:r.choferSeleccionado.nacionalidad))},dependencies:[Pm,Om,km],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.p-5[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.row.g-4[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a;height:100%}h1[_ngcontent-%COMP%]{text-align:center;color:#343a40}.card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}"]})};var Sc=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return new Promise(e=>{this.auth.onAuthStateChanged(t=>{t?e(!0):(this.router.navigate(["/login"]),e(!1))})})}static \u0275fac=function(t){return new(t||n)(ne(_n),ne(_r))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Or=class n{constructor(e){this.firestore=e;this.vehiculosCollection=Tc(this.firestore,"vehiculos")}vehiculosCollection;getVehiculos(){return lM(this.vehiculosCollection,{idField:"id"})}agregarVehiculo(e){return Mm(this.vehiculosCollection,e)}modificarVehiculo(e,t){let r=QE(this.firestore,`vehiculos/${e}`);return pM(r,t)}borrarVehiculo(e){let t=QE(this.firestore,`vehiculos/${e}`);return dM(t)}static \u0275fac=function(t){return new(t||n)(ne(er))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function Bq(n,e){if(n&1){let t=lt();F(0,"tr")(1,"td"),V(2),N(),F(3,"td"),V(4),N(),F(5,"td"),V(6),N(),F(7,"td"),V(8),N(),F(9,"td")(10,"button",4),ce("click",function(){let i=Qe(t).$implicit,o=pe();return Ye(o.seleccionarVehiculo(i))}),V(11,"Seleccionar"),N()()()}if(n&2){let t=e.$implicit;U(2),On(t.nombre),U(2),On(t.tipo),U(2),On(t.ruedas),U(2),On(t.capacidad)}}var Vm=class n{constructor(e){this.vehiculosService=e}vehiculos=[];vehiculoSeleccionado=new Le;ngOnInit(){this.vehiculosService.getVehiculos().subscribe(e=>{this.vehiculos=e})}seleccionarVehiculo(e){this.vehiculoSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)(K(Or))};static \u0275cmp=je({type:n,selectors:[["app-tabla-vehiculos"]],inputs:{vehiculos:"vehiculos"},outputs:{vehiculoSeleccionado:"vehiculoSeleccionado"},standalone:!0,features:[Ue],decls:16,vars:1,consts:[[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),V(5,"Nombre"),N(),F(6,"th"),V(7,"Tipo"),N(),F(8,"th"),V(9,"Ruedas"),N(),F(10,"th"),V(11,"Capacidad"),N(),F(12,"th"),V(13,"Acciones"),N()()(),F(14,"tbody"),ge(15,Bq,12,4,"tr",3),N()()()),t&2&&(U(15),W("ngForOf",r.vehiculos))},dependencies:[Xe,xa]})};function $q(n,e){if(n&1&&(F(0,"div",20),V(1),N()),n&2){let t=pe();U(),it(" ",t.mensajeExito," ")}}var jm=class n{constructor(e,t){this.fb=e;this.vehiculosService=t;this.vehiculoForm=this.fb.group({nombre:["",[$e.required,$e.pattern("^[a-zA-Z ]+$")]],tipo:["",$e.required],ruedas:["",[$e.required,$e.max(6)]],capacidad:["",[$e.required,$e.min(2),$e.max(100)]]})}vehiculoForm;mensajeExito="";crearVehiculo(){this.vehiculoForm.valid&&this.vehiculosService.agregarVehiculo(this.vehiculoForm.value).then(()=>{this.vehiculoForm.reset(),this.mostrarMensajeExito("Veh\xEDculo agregado con \xE9xito")})}mostrarMensajeExito(e){this.mensajeExito=e,setTimeout(()=>{this.mensajeExito=""},3e3)}static \u0275fac=function(t){return new(t||n)(K(za),K(Or))};static \u0275cmp=je({type:n,selectors:[["app-alta-vehiculo"]],standalone:!0,features:[Ue],decls:33,vars:3,consts:[[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-title"],[1,"card-body"],["class","alert alert-success","role","alert",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo","required","",1,"form-select"],["value","","disabled","","selected",""],["value","terrestre"],["value","a\xE9reo"],["value","mar\xEDtimo"],["for","ruedas",1,"form-label"],["type","number","id","ruedas","formControlName","ruedas","required","",1,"form-control"],["for","capacidad",1,"form-label"],["type","number","id","capacidad","formControlName","capacidad","required","",1,"form-control"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],["role","alert",1,"alert","alert-success"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"h5",2),V(3,"Alta de Veh\xEDculo"),N()(),F(4,"div",3),ge(5,$q,2,1,"div",4),F(6,"form",5),ce("ngSubmit",function(){return r.crearVehiculo()}),F(7,"div",6)(8,"label",7),V(9,"Nombre"),N(),He(10,"input",8),N(),F(11,"div",6)(12,"label",9),V(13,"Tipo"),N(),F(14,"select",10)(15,"option",11),V(16,"Seleccione un tipo"),N(),F(17,"option",12),V(18,"Terrestre"),N(),F(19,"option",13),V(20,"A\xE9reo"),N(),F(21,"option",14),V(22,"Mar\xEDtimo"),N()()(),F(23,"div",6)(24,"label",15),V(25,"Cantidad de Ruedas"),N(),He(26,"input",16),N(),F(27,"div",6)(28,"label",17),V(29,"Capacidad Promedio"),N(),He(30,"input",18),N(),F(31,"button",19),V(32," Crear Veh\xEDculo "),N()()()()),t&2&&(U(5),W("ngIf",r.mensajeExito),U(),W("formGroup",r.vehiculoForm),U(25),W("disabled",r.vehiculoForm.invalid))},dependencies:[Wa,eo,ip,op,Fn,is,qa,Ir,Xi,ei,os,ss,Xe,Rt],styles:[".btn[_ngcontent-%COMP%]{margin-top:20px}"]})};function Hq(n,e){if(n&1&&(F(0,"div",18),V(1),N()),n&2){let t=pe(2);U(),it(" ",t.mensajeExito," ")}}function qq(n,e){if(n&1){let t=lt();F(0,"div",1)(1,"div",2)(2,"h5",3),V(3,"Modificar Veh\xEDculo"),N()(),F(4,"div",4),ge(5,Hq,2,1,"div",5),F(6,"form",6),ce("ngSubmit",function(){Qe(t);let i=pe();return Ye(i.modificarVehiculo())}),F(7,"div",7)(8,"label",8),V(9,"Tipo"),N(),F(10,"select",9)(11,"option",10),V(12,"Terrestre"),N(),F(13,"option",11),V(14,"A\xE9reo"),N(),F(15,"option",12),V(16,"Mar\xEDtimo"),N()()(),F(17,"div",7)(18,"label",13),V(19,"Cantidad de Ruedas"),N(),He(20,"input",14),N(),F(21,"div",7)(22,"label",15),V(23,"Capacidad Promedio"),N(),He(24,"input",16),N(),F(25,"button",17),V(26," Modificar Veh\xEDculo "),N()()()()}if(n&2){let t=pe();U(5),W("ngIf",t.mensajeExito),U(),W("formGroup",t.vehiculoForm),U(19),W("disabled",t.vehiculoForm.invalid)}}var Um=class n{constructor(e,t){this.fb=e;this.vehiculosService=t;this.vehiculoForm=this.fb.group({tipo:["",$e.required],ruedas:["",[$e.required,$e.max(6)]],capacidad:["",[$e.required,$e.min(2),$e.max(100)]]})}vehiculo;vehiculoForm;mensajeExito="";ngOnChanges(){this.vehiculo&&this.vehiculoForm.patchValue(this.vehiculo)}modificarVehiculo(){this.vehiculoForm.valid&&this.vehiculo?.id&&this.vehiculosService.modificarVehiculo(this.vehiculo.id,this.vehiculoForm.value).then(()=>{this.mostrarMensajeExito("Veh\xEDculo modificado con \xE9xito")})}mostrarMensajeExito(e){this.mensajeExito=e,setTimeout(()=>{this.mensajeExito=""},3e3)}static \u0275fac=function(t){return new(t||n)(K(za),K(Or))};static \u0275cmp=je({type:n,selectors:[["app-modificacion-vehiculo"]],inputs:{vehiculo:"vehiculo"},standalone:!0,features:[pn,Ue],decls:1,vars:1,consts:[["class","card shadow-sm",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-warning","text-white"],[1,"card-title"],[1,"card-body"],["class","alert alert-success","role","alert",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo","required","",1,"form-select"],["value","terrestre"],["value","a\xE9reo"],["value","mar\xEDtimo"],["for","ruedas",1,"form-label"],["type","number","id","ruedas","formControlName","ruedas","required","",1,"form-control"],["for","capacidad",1,"form-label"],["type","number","id","capacidad","formControlName","capacidad","required","",1,"form-control"],["type","submit",1,"btn","btn-warning","w-100",3,"disabled"],["role","alert",1,"alert","alert-success"]],template:function(t,r){t&1&&ge(0,qq,27,3,"div",0),t&2&&W("ngIf",r.vehiculo)},dependencies:[Xe,Rt,Wa,eo,ip,op,Fn,is,qa,Ir,Xi,ei,os,ss],styles:[".btn[_ngcontent-%COMP%]{margin-top:108px}"]})};function zq(n,e){if(n&1){let t=lt();F(0,"div",1)(1,"div",2)(2,"h5",3),V(3,"Baja de Veh\xEDculo"),N()(),F(4,"div",4)(5,"p"),V(6," \xBFEst\xE1s seguro que deseas eliminar el veh\xEDculo "),F(7,"strong"),V(8),N(),V(9,"? "),N(),F(10,"button",5),ce("click",function(){Qe(t);let i=pe();return Ye(i.eliminarVehiculo())}),V(11," Eliminar "),N()()()}if(n&2){let t=pe();U(8),On(t.vehiculo.nombre)}}var Bm=class n{vehiculo;vehiculoEliminado=new Le;eliminarVehiculo(){this.vehiculo&&this.vehiculoEliminado.emit(this.vehiculo)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-baja-vehiculo"]],inputs:{vehiculo:"vehiculo"},outputs:{vehiculoEliminado:"vehiculoEliminado"},standalone:!0,features:[Ue],decls:1,vars:1,consts:[["class","card shadow-sm",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-danger","text-white"],[1,"card-title","mb-0"],[1,"card-body"],[1,"btn","btn-danger","w-100",3,"click"]],template:function(t,r){t&1&&ge(0,zq,12,1,"div",0),t&2&&W("ngIf",r.vehiculo)},dependencies:[Xe,Rt],styles:[".card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.card-header[_ngcontent-%COMP%]{font-weight:700;text-align:center}.card-body[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{margin-top:310px}"]})};var $m=class n{constructor(e){this.vehiculosService=e}vehiculos=[];vehiculoSeleccionado=null;ngOnInit(){this.vehiculosService.getVehiculos().subscribe(e=>{this.vehiculos=e})}agregarVehiculo(e){this.vehiculosService.agregarVehiculo(e).then(()=>{console.log("Veh\xEDculo agregado con \xE9xito.")})}seleccionarVehiculo(e){this.vehiculoSeleccionado=e}actualizarVehiculo(e){this.vehiculosService.modificarVehiculo(e.id,e).then(()=>{console.log("Veh\xEDculo modificado con \xE9xito.")})}borrarVehiculo(e){this.vehiculosService.borrarVehiculo(e.id).then(()=>{console.log("Veh\xEDculo eliminado con \xE9xito."),this.vehiculoSeleccionado=null})}static \u0275fac=function(t){return new(t||n)(K(Or))};static \u0275cmp=je({type:n,selectors:[["app-vehiculos"]],standalone:!0,features:[Ue],decls:14,vars:3,consts:[[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"row"],[1,"col-lg-12"],[1,"display-5","fw-bold"],[3,"vehiculoSeleccionado","vehiculos"],[1,"row","g-4"],[1,"col-lg-4",2,"border","2px solid blue"],[3,"nuevoVehiculo"],[1,"col-lg-4",2,"border","2px solid green"],[3,"vehiculoModificado","vehiculo"],[1,"col-lg-4",2,"border","2px solid yellow"],[3,"vehiculoEliminado","vehiculo"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),V(5,"Gesti\xF3n de Veh\xEDculos"),N(),F(6,"app-tabla-vehiculos",5),ce("vehiculoSeleccionado",function(o){return r.seleccionarVehiculo(o)}),N()()()(),F(7,"div",6)(8,"div",7)(9,"app-alta-vehiculo",8),ce("nuevoVehiculo",function(o){return r.agregarVehiculo(o)}),N()(),F(10,"div",9)(11,"app-modificacion-vehiculo",10),ce("vehiculoModificado",function(o){return r.actualizarVehiculo(o)}),N()(),F(12,"div",11)(13,"app-baja-vehiculo",12),ce("vehiculoEliminado",function(o){return r.borrarVehiculo(o)}),N()()()()),t&2&&(U(6),W("vehiculos",r.vehiculos),U(5),W("vehiculo",r.vehiculoSeleccionado),U(2),W("vehiculo",r.vehiculoSeleccionado))},dependencies:[Vm,jm,Um,Bm],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.row.g-4[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.jumbotron[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#343a40}p[_ngcontent-%COMP%]{color:#6c757d}"]})};var mM=[{path:"",redirectTo:"/bienvenido",pathMatch:"full"},{path:"bienvenido",component:Fp},{path:"login",component:Lp},{path:"alta",component:Nm,canActivate:[Sc]},{path:"choferes",component:Fm,canActivate:[Sc]},{path:"vehiculos",component:$m,canActivate:[Sc]}];var gM={providers:[$D({eventCoalescing:!0}),rS(mM),fA(()=>pA({projectId:"primer-parcial-e8c6b",appId:"1:873726604068:web:999c91785fcff4029c79b1",storageBucket:"primer-parcial-e8c6b.appspot.com",apiKey:"AIzaSyB-niiLHnuxfs_tgfBE_lgH7Vw6Vxhb68k",authDomain:"primer-parcial-e8c6b.firebaseapp.com",messagingSenderId:"873726604068"})),lx(()=>dx()),uM(()=>hM()),dT()]};function Gq(n,e){if(n&1){let t=lt();F(0,"button",0),ce("click",function(){Qe(t);let i=pe();return Ye(i.IrAOtraRuta("/login"))}),V(1,"Login"),N()}}function Wq(n,e){if(n&1){let t=lt();F(0,"button",0),ce("click",function(){Qe(t);let i=pe();return Ye(i.IrAOtraRuta("/alta"))}),V(1,"Alta Chofer"),N()}}function Kq(n,e){if(n&1){let t=lt();F(0,"button",0),ce("click",function(){Qe(t);let i=pe();return Ye(i.IrAOtraRuta("/choferes"))}),V(1,"Choferes"),N()}}function Qq(n,e){if(n&1){let t=lt();F(0,"button",0),ce("click",function(){Qe(t);let i=pe();return Ye(i.IrAOtraRuta("/vehiculos"))}),V(1,"Vehiculos"),N()}}function Yq(n,e){if(n&1){let t=lt();F(0,"button",0),ce("click",function(){Qe(t);let i=pe();return Ye(i.CerrarSesion())}),V(1,"Cerrar Sesi\xF3n"),N()}}var Hm=class n{constructor(e,t){this.router=e;this.auth=t}title="primer-parcial";user=null;ngOnInit(){hx(this.auth,e=>{this.user=e})}IrAOtraRuta(e){this.router.navigate([e])}CerrarSesion(){Pp(this.auth).then(()=>{this.user=null,this.router.navigate(["/bienvenido"])})}static \u0275fac=function(t){return new(t||n)(K(_r),K(_n))};static \u0275cmp=je({type:n,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:9,vars:5,consts:[[3,"click"],[3,"click",4,"ngIf"]],template:function(t,r){t&1&&(F(0,"nav")(1,"button",0),ce("click",function(){return r.IrAOtraRuta("/bienvenido")}),V(2,"Home"),N(),ge(3,Gq,2,0,"button",1)(4,Wq,2,0,"button",1)(5,Kq,2,0,"button",1)(6,Qq,2,0,"button",1)(7,Yq,2,0,"button",1),N(),He(8,"router-outlet")),t&2&&(U(3),W("ngIf",!r.user),U(),W("ngIf",r.user),U(),W("ngIf",r.user),U(),W("ngIf",r.user),U(),W("ngIf",r.user))},dependencies:[Xe,Rt,cw],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{background-color:#f0f0f0;margin:0;font-family:Arial,sans-serif}nav[_ngcontent-%COMP%]{background-color:#333;padding:1rem;display:flex;justify-content:center;gap:1rem;border-radius:8px}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#444;color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#555}']})};_T(Hm,gM).catch(n=>console.error(n));
