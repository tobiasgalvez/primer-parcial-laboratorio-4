<div class="container">
  <main>
    <div class="py-5 text-center">
      <h2>Formulario Alta de Chofer</h2>
    </div>

    <div class="row g-5">
      <div class="col-md-7 col-lg-8 mx-auto">
        <h4 class="mb-3">Datos del Chofer</h4>
        <form [formGroup]="choferForm" (ngSubmit)="onSubmit()">
          <div class="row g-3">
            <!-- Campo: Nombre -->
            <div class="col-sm-6">
              <label for="nombre" class="form-label">Nombre</label>
              <input type="text" class="form-control" id="nombre" formControlName="nombre" required />
              <div *ngIf="nombre?.invalid && (nombre?.dirty || nombre?.touched)" class="text-danger">
                <small *ngIf="nombre?.errors?.['required']">El nombre es requerido.</small>
                <small *ngIf="nombre?.errors?.['pattern']">Solo se permiten letras.</small>
              </div>
            </div>

            <!-- Campo: DNI -->
            <div class="col-sm-6">
              <label for="dni" class="form-label">DNI</label>
              <input type="text" class="form-control" id="dni" formControlName="dni" required />
              <div *ngIf="dni?.invalid && (dni?.dirty || dni?.touched)" class="text-danger">
                <small *ngIf="dni?.errors?.['required']">El DNI es requerido.</small>
                <small *ngIf="dni?.errors?.['pattern']">Debe contener solo números y tener 8 caracteres.</small>
              </div>
            </div>

            <!-- Campo: Edad -->
            <div class="col-sm-6">
              <label for="edad" class="form-label">Edad</label>
              <input type="number" class="form-control" id="edad" formControlName="edad" required />
              <div *ngIf="edad?.invalid && (edad?.dirty || edad?.touched)" class="text-danger">
                <small *ngIf="edad?.errors?.['required']">La edad es requerida.</small>
                <small *ngIf="edad?.errors?.['min']">Debe ser mayor o igual a 18 años.</small>
                <small *ngIf="edad?.errors?.['max']">Debe ser menor o igual a 50 años.</small>
              </div>
            </div>

            <!-- Campo: Nro de Licencia -->
            <div class="col-sm-6">
              <label for="nroLicencia" class="form-label">Número de Licencia</label>
              <input type="text" class="form-control" id="nroLicencia" formControlName="nroLicencia" required />
              <div *ngIf="nroLicencia?.invalid && (nroLicencia?.dirty || nroLicencia?.touched)" class="text-danger">
                <small *ngIf="nroLicencia?.errors?.['required']">El número de licencia es requerido.</small>
                <small *ngIf="nroLicencia?.errors?.['minlength']">Debe contener al menos 7 caracteres.</small>
                <small *ngIf="nroLicencia?.errors?.['pattern']">Debe contener solo números.</small>
              </div>
            </div>

            <!-- Campo: Licencia Profesional -->
            <div class="col-12">
              <div class="form-check">
                <input id="licenciaProfesional" type="checkbox" class="form-check-input" formControlName="licenciaProfesional" />
                <label for="licenciaProfesional" class="form-check-label">Licencia Profesional</label>
              </div>
            </div>

            <!-- Campo: Nacionalidad -->
            <div class="col-12">
              <label for="nacionalidad" class="form-label">Nacionalidad</label>
              <input type="text" id="nacionalidad" class="form-control" [value]="nacionalidadSeleccionada" readonly />
              <app-lista-paises (paisSeleccionado)="onPaisSeleccionado($event)"></app-lista-paises>
              <div *ngIf="nacionalidad?.invalid && (nacionalidad?.dirty || nacionalidad?.touched)" class="text-danger">
                <small *ngIf="nacionalidad?.errors?.['required']">La nacionalidad es requerida.</small>
              </div>
            </div>
          </div>

          <!-- Mensaje de éxito -->
          <div *ngIf="mensajeExito" class="alert alert-success mt-3">
            {{ mensajeExito }}
          </div>

          <hr class="my-4">
          <button class="w-100 btn btn-primary btn-lg" type="submit" [disabled]="choferForm.invalid">Dar de Alta</button>
        </form>
      </div>
    </div>
  </main>
</div>
